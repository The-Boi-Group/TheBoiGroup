if (self.CavalryLogger) { CavalryLogger.start_js(["FeIb53r"]); }

__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function(a,b,c,d,e,f){"use strict";f.getThreadURI=a;f.getThreadURIFromServerID=h;f.getThreadURIFromUserID=c;var g;function a(a,c,d){var e="";b("MercuryIDs").isCanonical(a)?e=b("MercuryIDs").tokenize(a).value:b("requireWeak")("MercuryThreadIDMap",function(b){e=b.get().getServerIDFromClientIDNow(a)});d=h(e||"",d);c&&c(d)}function h(a,c){var d=new(g||(g=b("URI")))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;if(c)switch(c){case b("MessagingTag").OTHER:e+="/filtered";break;case b("MessagingTag").PENDING:e+="/requests";break;case b("MessagingTag").INBOX:break;default:e+="/"+c;break}d.setPath(e+b("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()}function c(a,c){var d=new(g||(g=b("URI")))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(i(e,c)+"/t/"+a);return d.toString()}function i(a,c){c&&c!=b("MessagingTag").INBOX&&(a+="/"+c);return a}}),null);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FBIDCheck","FantaDispatcher","MercuryIDs","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkGalahadSettings","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],(function(a,b,c,d,e,f){"use strict";f.openNewMessageTab=a;f.openTab=k;f.openInterstitialTab=c;f._tryLoadSlimApp=l;f._tryLoadSlimAppWithInterstitialData=m;f.replaceTab=d;f.minimizeTab=e;f.minimizeAllTabs=n;f.unminimizeTab=o;f.optInOpenTabWithBlockees=p;f.closeGroupEntranceWarningDialog=q;f.closeTab=r;f.closeAllTabs=s;f.closeAndTabNext=t;f.deleteTab=u;f.focusTab=v;f.blurTab=w;f.hoveredTab=x;f.unhoveredTab=y;f.highlightNewMessage=z;f.unhighlightNewMessage=A;f.setAllowedRaisedTabs=B;f.loadFromData=C;f.focusNextTab=D;f.focusPreviousTab=E;f.scrollBottomChanged=F;f.jumpToMessage=G;f.wipeJumpToMessage=H;f.setPageIndicatorDescription=I;f.clearPageIndicatorDescription=J;f.showUnseenMessages=K;f.setPermanentUri=L;f.createNewNamedGroupChat=M;f.dispatchOrBootloadGetMessages=N;var g,h,i=b("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});f.Types=i;function j(a,c){var d=a?new(g||(g=b("URI")))(b("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(g||(g=b("URI")))(b("MessengerURIConstants").COMPOSE_SUBPATH);b("ifRequired")("BusinessURI.brands",function(a){return b("goURI")(a(d))},function(){return b("setTimeout")(function(){k(a,c)},100)})}function a(a,b,c){k(a,b,c,!0)}function k(a,c,d,e,f){if((h||(h=b("Env"))).isCQuick){var g=b("MercuryIDs").getUserIDFromThreadID(a);b("Bootloader").loadModules(["BlueCompatRouter"],function(a){g!=null&&a.startChat(g,!b("FBIDCheck").isUser_deprecated(g))},"FantaTabActions");return}if(b("CurrentUser").isWorkUser()&&b("WorkGalahadSettings").isGalahadEnabled){var k=b("ifRequired")("WorkGalahadChat_DEPRECATED",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(k)return}b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});N(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c,defaultText:d,isNewMessageTab:e,defaultPreview:f}),b("ifRequired")("FantaTabsReactApp",function(b){l(a,c)},function(){l(a,c,function(){return j(a,c)})})})}function c(a,c,d){N(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d}),b("ifRequired")("FantaTabsReactApp",function(b){m(a,c,d)},function(){m(a,c,d)})})}function l(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(d){b("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c})})})},function(){return d&&d(a)})}function m(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(e){b("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d})})})})}function d(a,c){b("FantaDispatcher").dispatch({type:i.REPLACE_TAB,tabID:a,newTabID:c})}function e(a){b("FantaDispatcher").dispatch({type:i.MINIMIZE_TAB,tabID:a})}function n(){b("FantaDispatcher").dispatch({type:i.MINIMIZE_ALL_TABS})}function o(a){b("FantaDispatcher").dispatch({type:i.UNMINIMIZE_TAB,tabID:a})}function p(a){b("FantaDispatcher").dispatch({type:i.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})}function q(a){b("FantaDispatcher").dispatch({type:i.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})}function r(a){b("FantaDispatcher").dispatch({type:i.CLOSE_TAB,tabID:a})}function s(){b("FantaDispatcher").dispatch({type:i.CLOSE_ALL_TABS})}function t(a){b("FantaDispatcher").dispatch({type:i.CLOSE_AND_TAB_NEXT,tabID:a})}function u(a){b("FantaDispatcher").dispatch({type:i.DELETE_TAB,tabID:a})}function v(a){b("FantaDispatcher").dispatch({type:i.FOCUS_TAB,tabID:a})}function w(a){b("FantaDispatcher").dispatch({type:i.BLUR_TAB,tabID:a})}function x(a){b("FantaDispatcher").dispatch({type:i.HOVERED_TAB,tabID:a})}function y(a){b("FantaDispatcher").dispatch({type:i.UNHOVERED_TAB,tabID:a})}function z(a){b("FantaDispatcher").dispatch({type:i.HIGHLIGHT_NEW_MESSAGE,tabId:a})}function A(a){b("FantaDispatcher").dispatch({type:i.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})}function B(a){b("FantaDispatcher").dispatch({type:i.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})}function C(a){if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;N(function(){a&&b("FantaDispatcher").dispatch({type:i.LOAD_FROM_DATA,tabData:a})})}function D(a){b("FantaDispatcher").dispatch({type:i.FOCUS_NEXT_TAB,event:a})}function E(a){b("FantaDispatcher").dispatch({type:i.FOCUS_PREVIOUS_TAB,event:a})}function F(c,d,a){b("FantaDispatcher").dispatch({type:i.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:d,tabID:c,showUnseenMessages:a})}function G(a,c){b("FantaDispatcher").dispatch({type:i.JUMP_TO_MESSAGE,mid:c,tabID:a})}function H(a){b("FantaDispatcher").dispatch({type:i.WIPE_JUMP_TO_MESSAGE,tabID:a})}function I(a,c){b("FantaDispatcher").dispatch({type:i.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:c})}function J(a){b("FantaDispatcher").dispatch({type:i.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})}function K(a){b("FantaDispatcher").dispatch({type:i.SHOW_UNSEEN_MESSAGES,tabID:a})}function L(a,c){b("FantaDispatcher").dispatch({type:i.SET_PERMANENT_URI,tabID:a,uri:c})}function M(a,c){b("FantaDispatcher").dispatch({type:i.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:c})}function N(a){b("ifRequired")("FantaReducersGetMessages",function(){a()},function(){b("ifRequired")("FantaAppStore",function(c){b("Bootloader").loadModules(["FantaReducersGetMessages"],function(b){c.addReducers(b),a()},"FantaTabActions")},function(){a()})})}}),null);