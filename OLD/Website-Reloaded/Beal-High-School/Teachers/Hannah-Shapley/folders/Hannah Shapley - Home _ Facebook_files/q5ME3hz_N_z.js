if (self.CavalryLogger) { CavalryLogger.start_js(["YeXxyWI"]); }

__d("ShowCreationFlowTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ShowCreationFlowLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ShowCreationFlowLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ShowCreationFlowLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setConnectedPageID=function(a){this.$1.connected_page_id=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setFlowSource=function(a){this.$1.flow_source=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setStep=function(a){this.$1.step=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={connected_page_id:!0,error:!0,flow_source:!0,page_id:!0,step:!0};e.exports=a}),null);
__d("VideoComposerDialogUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setCaptionsNumSelectedFiles=function(a){this.$1.captions_num_selected_files=a;return this};c.setComposerDialogVersion=function(a){this.$1.composer_dialog_version=a;return this};c.setComposerEntryPoint=function(a){this.$1.composer_entry_point=a;return this};c.setCurrentTab=function(a){this.$1.current_tab=a;return this};c.setDialogMode=function(a){this.$1.dialog_mode=a;return this};c.setEditSource=function(a){this.$1.edit_source=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setErrorTab=function(a){this.$1.error_tab=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setHasBeenReset=function(a){this.$1.has_been_reset=a;return this};c.setHasUploadFinished=function(a){this.$1.has_upload_finished=a;return this};c.setInvalidationReasons=function(a){this.$1.invalidation_reasons=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setIsComposerPostScheduleRedesign=function(a){this.$1.is_composer_post_schedule_redesign=a;return this};c.setIsPremiere=function(a){this.$1.is_premiere=a;return this};c.setIsPremiereUnderScheduleInTwoStep=function(a){this.$1.is_premiere_under_schedule_in_two_step=a;return this};c.setIsShowPage=function(a){this.$1.is_show_page=a;return this};c.setIsTwoStepPublish=function(a){this.$1.is_two_step_publish=a;return this};c.setNextTab=function(a){this.$1.next_tab=a;return this};c.setOriginalShowVideoType=function(a){this.$1.original_show_video_type=a;return this};c.setPostAttemptCount=function(a){this.$1.post_attempt_count=a;return this};c.setPremiereContentStrategyCondition=function(a){this.$1.premiere_content_strategy_condition=a;return this};c.setPremiereNowCondition=function(a){this.$1.premiere_now_condition=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setShowVideoType=function(a){this.$1.show_video_type=a;return this};c.setUploadAttemptCount=function(a){this.$1.upload_attempt_count=a;return this};c.setVideoAssetID=function(a){this.$1.video_asset_id=a;return this};c.setVideoAssetWaterfallSource=function(a){this.$1.video_asset_waterfall_source=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWaterfallID=function(a){this.$1.waterfall_id=a;return this};c.setWebFramework=function(a){this.$1.web_framework=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,captions_num_selected_files:!0,composer_dialog_version:!0,composer_entry_point:!0,current_tab:!0,dialog_mode:!0,edit_source:!0,error_message:!0,error_tab:!0,event:!0,exception:!0,has_been_reset:!0,has_upload_finished:!0,invalidation_reasons:!0,is_composer_post_schedule_redesign:!0,is_premiere:!0,is_premiere_under_schedule_in_two_step:!0,is_show_page:!0,is_two_step_publish:!0,next_tab:!0,original_show_video_type:!0,post_attempt_count:!0,premiere_content_strategy_condition:!0,premiere_now_condition:!0,session_id:!0,show_video_type:!0,upload_attempt_count:!0,video_asset_id:!0,video_asset_waterfall_source:!0,video_id:!0,waterfall_id:!0,web_framework:!0};e.exports=a}),null);
__d("FBStoriesPrivacyChangeSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"audience_mode",storageKey:null},d=[{kind:"Literal",name:"first",value:5e3}],e={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},i={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null}],type:"User",abstractKey:null},j=[e,{alias:null,args:null,concreteType:"UnifiedStoriesParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,g,h,i],storageKey:null}],storageKey:null}],k={alias:null,args:null,concreteType:"UnifiedStoriesAudienceModeFormatData",kind:"LinkedField",name:"audience_mode_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unified_stories_audience_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null};e=[e,{alias:null,args:null,concreteType:"UnifiedStoriesParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,g,h,i],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBStoriesPrivacyChangeSubscription",selections:[{alias:null,args:b,concreteType:"UnifiedStoriesPrivacyChangeSubscribeResponsePayload",kind:"LinkedField",name:"unified_stories_privacy_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"UnifiedStoriesSetting",kind:"LinkedField",name:"unified_stories_setting",plural:!1,selections:[c,{alias:null,args:d,concreteType:"UnifiedStoriesBlockedParticipantsConnection",kind:"LinkedField",name:"blocked_participants",plural:!1,selections:j,storageKey:"blocked_participants(first:5000)"},{alias:null,args:d,concreteType:"UnifiedStoriesCustomParticipantsConnection",kind:"LinkedField",name:"custom_participants",plural:!1,selections:j,storageKey:"custom_participants(first:5000)"}],storageKey:null},{alias:null,args:null,concreteType:"StoriesData",kind:"LinkedField",name:"stories_data",plural:!1,selections:[k],storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBStoriesPrivacyChangeSubscription",selections:[{alias:null,args:b,concreteType:"UnifiedStoriesPrivacyChangeSubscribeResponsePayload",kind:"LinkedField",name:"unified_stories_privacy_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"UnifiedStoriesSetting",kind:"LinkedField",name:"unified_stories_setting",plural:!1,selections:[c,{alias:null,args:d,concreteType:"UnifiedStoriesBlockedParticipantsConnection",kind:"LinkedField",name:"blocked_participants",plural:!1,selections:e,storageKey:"blocked_participants(first:5000)"},{alias:null,args:d,concreteType:"UnifiedStoriesCustomParticipantsConnection",kind:"LinkedField",name:"custom_participants",plural:!1,selections:e,storageKey:"custom_participants(first:5000)"},f],storageKey:null},{alias:null,args:null,concreteType:"StoriesData",kind:"LinkedField",name:"stories_data",plural:!1,selections:[k,f],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2727307000625372",metadata:{subscriptionName:"unified_stories_privacy_change_subscribe"},name:"FBStoriesPrivacyChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("FBStoriesTraySubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"StoriesTraySubscribeResponsePayload",kind:"LinkedField",name:"stories_tray_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_actor_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FBStoriesTraySubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FBStoriesTraySubscription",selections:b},params:{id:"2743930572305503",metadata:{subscriptionName:"stories_tray_subscribe"},name:"FBStoriesTraySubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("ModernWatchQueueFollowedShowTapMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WatchQueueFollowedShowTapResponsePayload",kind:"LinkedField",name:"watch_queue_followed_show_tap",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ModernWatchQueueFollowedShowTapMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ModernWatchQueueFollowedShowTapMutation",selections:b},params:{id:"1431198360290030",metadata:{},name:"ModernWatchQueueFollowedShowTapMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"source_type"}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],c=[{alias:null,args:null,kind:"ScalarField",name:"service_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_domain",storageKey:null}];b=[{alias:null,args:null,concreteType:"MediaUploadConfiguration",kind:"LinkedField",name:"media_upload_config",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"source_type",variableName:"source_type"}],concreteType:"MediaUploadVideoMetadataValidation",kind:"LinkedField",name:"video_metadata_validation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_extensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accept_dimensions_from_player",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkStart",kind:"LinkedField",name:"network_start",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkReceive",kind:"LinkedField",name:"network_receive",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadService",kind:"LinkedField",name:"network_upload_service",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"default",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"targeted",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTracing",kind:"LinkedField",name:"tracing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_file_size_kb",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkMonitor",kind:"LinkedField",name:"network_monitor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"network_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_timeout_ms",storageKey:null},{alias:null,args:null,concreteType:"MediaUploadBackoffPolicy",kind:"LinkedField",name:"internet_probe_backoff",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backoff_initial_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_jitter_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_base_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_multiplier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_max_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_retry_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_timeout_ms",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:b},params:{id:"4094129890651883",metadata:{},name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComposerVideoPublishingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPublishResponsePayload",kind:"LinkedField",name:"video_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_asset_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerVideoPublishingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerVideoPublishingMutation",selections:b},params:{id:"5343496179025842",metadata:{},name:"VideoComposerVideoPublishingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoComponentCoverQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={kind:"InlineFragment",selections:[{alias:"permalinkUrl",args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:"isDisturbing",args:null,kind:"ScalarField",name:"is_disturbing",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentCoverQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentCoverQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"5324252867645849",metadata:{},name:"VideoComponentCoverQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("videoPageContextualColorFetchUpdatedThemeColorQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"video_page_theme_color",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"videoPageContextualColorFetchUpdatedThemeColorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"videoPageContextualColorFetchUpdatedThemeColorQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"1960926613938874",metadata:{},name:"videoPageContextualColorFetchUpdatedThemeColorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("AdsProgressBar.react",["cx","LoadingMarker.react","isTruthy","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={xsmall:"_2n01",small:"_5nak",medium:"_5nal",large:"_5nam"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=i.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.min,c=this.props.max,d=Math.max(a,Math.min(c,this.props.value==null?0:this.props.value)),e=(d-a)/(c-a)*100+"%";c="_5nat"+(d===c?" _5nan":"")+(d===a?" _5nao":"");var f=b("joinClasses")("_5nap"+(this.props.animated?" _5naq":""),j[this.props.size]),g=this.props.label,h=null;b("isTruthy")(g)&&(h=i.jsx("span",{className:"_5nar",children:g}));var k=null;b("isTruthy")(g)&&(k=i.jsx("span",{className:"_5nar _5nas",children:g}));g=this.props.error;var l=null;if(b("isTruthy")(g)){g=(g-a)/(d-a)*100+"%";l=i.jsx("div",{className:"_5nat _5nc9",style:{width:g}})}d=null;this.props.striped&&(d=i.jsx("div",{className:"_5nat _4g9k"}));a=i.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,f),ref:this.$1,children:[k,i.jsxs("div",{className:c,style:{width:e},children:[l,h,d]})]}));return!this.props.representsWait?a:i.jsx(b("LoadingMarker.react"),{nodeRef:this.$1,children:a})};return c}(i.Component);e.exports=a;a.defaultProps={animated:!1,label:null,min:0,max:100,value:0,representsWait:!0,size:"large",error:null,striped:!1}}),null);
__d("AdsXUIProgressBar.react",["cx","AdsProgressBar.react","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("AdsProgressBar.react"),babelHelpers["extends"]({},this.props,{animated:!0,className:b("joinClasses")(this.props.className,"_qss"),size:"small",value:this.props.value}))};return c}(i.Component);e.exports=a}),null);
__d("AdsBlueTip.react",["cx","CSS","LayerFadeOnShow","XUIAmbientNUX.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=1e3;c=b("LayerFadeOnShow").forDuration(a);var j={BlueTipFadeOnShow:c};d=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=!1;c.$2=!1;c.onClose=function(){c.props.onClose!=null&&c.props.onClose()};c.$3=function(){c.$1&&!c.$2&&c.props.context.removeAttribute("tabIndex")};b=b.context.getAttribute("tabIndex");c.$2=b!=null||b===0;return c}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.$3(),this.props.onImpression&&this.props.onImpression()};d.componentDidUpdate=function(a){var c=a.context,d=a.highlightContext;a=a.shown;this.props.context!==c&&d!=null&&d&&a&&b("CSS").removeClass(c,"_z8p");window.setTimeout(this.$3,0)};d.componentWillUnmount=function(){this.$1=!1,b("CSS").removeClass(this.props.context,"_z8p")};d.renderLayers=function(){var a=this.props.behaviors?this.props.behaviors:j,c=this.props;c.highlightContext;c.onClose;c.onImpression;c=babelHelpers.objectWithoutPropertiesLoose(c,["highlightContext","onClose","onImpression"]);return i.createElement(b("XUIAmbientNUX.react"),babelHelpers["extends"]({},c,{behaviors:a,key:"blueTip",onCloseButtonClick:this.onClose}),this.props.children)};d.render=function(){this.props.highlightContext!=null&&this.props.highlightContext&&this.props.shown?b("CSS").addClass(this.props.context,"_z8p"):b("CSS").removeClass(this.props.context,"_z8p");return i.jsx("span",{children:this.renderLayers()})};return c}(i.Component);e.exports=d;d.defaultProps=babelHelpers["extends"]({},b("XUIAmbientNUX.react").defaultProps,{shown:!0})}),null);
__d("AdsBlueTour.react",["cx","fbt","LeftRight.react","XUIButton.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=-1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){return d.props.step===0},d.$2=function(){return d.props.step===k},d.$3=function(){return d.props.step===d.props.steps.length-1},d.$4=function(){d.props.onStart(),d.props.onStep(0)},d.$5=function(){var a=[];if(!d.$2())for(var b=0;b<d.props.steps.length;++b)a.push(j.jsx("span",{className:"_4a-k"+(b===d.props.step?" _4a-l":""),children:"\u25cf"},"bullet"+b));return a},d.$6=function(){var a=[];if(d.$2())a.push(j.jsx(b("XUIButton.react"),{className:"_4a-j",label:h._("Take Tour"),size:"large",onClick:d.$4},"take-tour"));else{var c=!1,e=function(){return d.props.onStep(d.props.step-1)};d.$1()&&(c=!0,e=null);c||a.push(j.jsx(b("XUIButton.react"),{className:"_4a-j",label:h._("Back"),size:"large",onClick:e},"back"));c=function(){return d.props.onStep(d.props.step+1)};e=h._("Next");d.$3()&&(e=h._("Done"),c=d.props.onComplete);a.push(j.jsx(b("XUIButton.react"),{className:"_4a-j",label:e,size:"large",onClick:c},"next"))}return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_135w",children:[j.jsx("div",{className:"_4a-p",children:this.props.children}),j.jsxs(b("LeftRight.react"),{className:"_4a-m",children:[j.jsx("div",{children:this.$6()}),j.jsx("div",{className:"_4a-n",children:this.$5()})]})]})};return c}(j.PureComponent);e.exports=a;a.INTRO_STEP=k;a.defaultProps={onCompletet:b("emptyFunction"),onStart:b("emptyFunction")}}),null);
__d("AdsBlueTipTour.react",["AdsBlueTip.react","AdsBlueTour.react","prop-types","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={step:d.props.introStep?b("AdsBlueTour.react").INTRO_STEP:0,shown:!0},d.$4=function(){d.$3(),d.props.onXOut()},d.$5=function(){d.$3(),d.props.onComplete()},d.$6=function(a){d.setState({step:a}),d.props.onStep&&d.props.onStep(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.$2()?this.props.introStep:this.props.steps[this.state.step]};d.$3=function(){this.setState({shown:!1})};d.$2=function(){return this.state.step===b("AdsBlueTour.react").INTRO_STEP};d.render=function(){var a=this.$1();return h.jsx(b("AdsBlueTip.react"),babelHelpers["extends"]({behaviors:this.props.behaviors},a,{highlightContext:this.props.highlightContext,shown:this.state.shown,onClose:this.$4,children:h.jsx(b("AdsBlueTour.react"),babelHelpers["extends"]({},this.props,{step:this.state.step,onComplete:this.$5,onStep:this.$6,children:a.content}))}))};return c}(h.PureComponent);e.exports=a;a.propTypes={behaviors:b("prop-types").object,highlightContext:b("prop-types").bool,introStep:b("prop-types").object,steps:b("prop-types").arrayOf(b("prop-types").object).isRequired,onComplete:b("prop-types").func.isRequired,onStart:b("prop-types").func,onStep:b("prop-types").func,onXOut:b("prop-types").func.isRequired}}),null);
__d("CameraPostDirectMarkSeenMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1644150182303893"};b.getQueryID=function(){return"171816796723339"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("CameraPostLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a="send_direct_reply_attempted";f.SEND_REPLY_ATTEMPT=a;b="send_direct_reply_success";f.SEND_REPLY_SUCCESS=b;c="send_direct_reply_failure";f.SEND_REPLY_FAILURE=c;d="view";f.THREAD_VIEWED=d;e="mark_thread_seen_attempted";f.THREAD_MARK_SEEN_ATTEMPT=e;a="mark_thread_seen_success";f.THREAD_MARK_SEEN_SUCCESS=a;b="mark_thread_seen_failure";f.THREAD_MARK_SEEN_FAILURE=b;c="clickout";f.DIRECT_VIEWER_CLICKOUT=c}),null);
__d("CameraPostQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2217242731640138"};b.getQueryID=function(){return"2218304265112137"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("CameraPostRepliesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1494166853955273"};b.getQueryID=function(){return"1468697053209427"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("CameraPostReplyMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1459763854077111"};b.getQueryID=function(){return"1849675045338105"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("CameraPostUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1652248708148952"};b.getQueryID=function(){return"143159039576179"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("CameraPostGraphQLAPI",["Banzai","CameraPostDirectMarkSeenMutationWebGraphQLMutation","CameraPostLoggingEvents","CameraPostQueryWebGraphQLQuery","CameraPostRepliesQueryWebGraphQLQuery","CameraPostReplyMutationWebGraphQLMutation","CameraPostUserQueryWebGraphQLQuery","DirectMessagingTypedLogger","FBStoriesLoggingConstants","WebGraphQL","uuid"],(function(a,b,c,d,e,f){"use strict";var g=function(a,c,d,e,f,g,h){if(e!=null){var i=new(b("DirectMessagingTypedLogger"))().setCameraPostType(c).setProductSurface("www").setName(e).setCardID(a.toString());if(d.message){var j=d.message.length;i.setMessageLength(j)}h&&i.setReplyType(h);d.sticker_id&&i.addToExtraData("sticker_id",d.sticker_id);d.gif_url&&i.addToExtraData("gif_url",d.gif_url);i.log();b("Banzai").post("stories_interaction_poseidon_logging_banzai",{name:e,thread_id:String(a)})}var k={};k.is_fb_story=!0;k.thread_id=a;k.camera_post_type=c;k.attempt_name=e;k.event=b("FBStoriesLoggingConstants").ACTION_SEND_REPLY_ATTEMPT;return b("WebGraphQL").exec(new(b("CameraPostReplyMutationWebGraphQLMutation"))({input:d})).then(function(d){if(f!=null){var e=new(b("DirectMessagingTypedLogger"))().setCameraPostType(c).setProductSurface("www").setName(f).setCardID(a.toString());h&&e.setReplyType(h);e.log()}k.success_name=f;b("Banzai").post("fb_stories_banzai_generic",{ft:k});return d},function(d){if(g!=null){var e=new(b("DirectMessagingTypedLogger"))().setCameraPostType(c).setProductSurface("www").setName(g).setCardID(a.toString());h&&e.setReplyType(h);e.log()}k.failure_name=g;b("Banzai").post("fb_stories_banzai_generic",{ft:k});return d})};a=function(a,c,d,e,f){var h=b("uuid")();h={client_mutation_id:h,actor_id:a,thread_id:c,message:d};a=null;d=null;var i=null;f?a=b("FBStoriesLoggingConstants").ACTION_SEND_REPLY_ATTEMPT:(a=b("CameraPostLoggingEvents").SEND_REPLY_ATTEMPT,d=b("CameraPostLoggingEvents").SEND_REPLY_SUCCESS,i=b("CameraPostLoggingEvents").SEND_REPLY_FAILURE);return g(c,e,h,a,d,i)};f.sendDirectMessageReply=a;c=function(a,c,d,e){var f=b("uuid")();f={client_mutation_id:f,actor_id:a,thread_id:c,sticker_id:e};return g(c,d,f,null,null,null)};f.sendDirectStickerReply=c;d=function(a,c,d,e){var f=b("uuid")();f={client_mutation_id:f,actor_id:a,thread_id:c,gif_url:e};return g(c,d,f,null,null,null)};f.sendDirectGifReply=d;e=function(a,c,d,e,f){var h="LIGHT_WEIGHT";a={client_mutation_id:b("uuid")(),actor_id:a,thread_id:c,message:e,story_reply_type:h,is_lightweight_reaction:!0,lightweight_reaction_actions:{reaction:e,offsets:[f||0]}};return g(c,d,a,null,null,null,"light_weight")};f.sendLightweightReactionReply=e;a=function(a,c){return b("WebGraphQL").exec(new(b("CameraPostQueryWebGraphQLQuery"))({thread_id:c})).then(function(a){var d;d=(d=a)!=null?(d=d.node)!=null?d.camera_post_type:d:d;new(b("DirectMessagingTypedLogger"))().setCameraPostType(d).setName(b("CameraPostLoggingEvents").THREAD_VIEWED).setProductSurface("www").setCardID(c.toString()).log();return a},function(a){return a})};f.loadThreadFullInformation=a;c=function(){return b("WebGraphQL").exec(new(b("CameraPostUserQueryWebGraphQLQuery"))())};f.loadUserInfo=c;d=function(a){return b("WebGraphQL").exec(new(b("CameraPostRepliesQueryWebGraphQLQuery"))({thread_id:a}))};f.loadRepliesForThread=d;e=function(a,c,d,e,f){var g={};f?g={client_mutation_id:b("uuid")(),actor_id:a,story_id:f,last_message_seen_id:d}:g={client_mutation_id:b("uuid")(),actor_id:a,thread_id:c,last_message_seen_id:d};f=new(b("DirectMessagingTypedLogger"))().setCameraPostType(e).setName(b("CameraPostLoggingEvents").THREAD_MARK_SEEN_ATTEMPT).setProductSurface("www").setCardID(c.toString());f.log();var h={};h.is_fb_story=!0;h.camera_post_type=e;h.event=b("CameraPostLoggingEvents").THREAD_MARK_SEEN_ATTEMPT;h.thread_id=c;h.latest_message_id=d;return b("WebGraphQL").exec(new(b("CameraPostDirectMarkSeenMutationWebGraphQLMutation"))({input:g})).then(function(a){new(b("DirectMessagingTypedLogger"))().setCameraPostType(e).setProductSurface("www").setName(b("CameraPostLoggingEvents").THREAD_MARK_SEEN_SUCCESS).setCardID(c.toString()).log();h.sucess_name=b("CameraPostLoggingEvents").THREAD_MARK_SEEN_SUCCESS;b("Banzai").post("fb_stories_banzai_generic",{ft:h});return a},function(a){new(b("DirectMessagingTypedLogger"))().setCameraPostType(e).setProductSurface("www").setName(b("CameraPostLoggingEvents").THREAD_MARK_SEEN_FAILURE).setCardID(c.toString()).log();h.failur_name=b("CameraPostLoggingEvents").THREAD_MARK_SEEN_FAILURE;b("Banzai").post("fb_stories_banzai_generic",{ft:h});return a})};f.markThreadSeen=e;a=function(){return new(b("DirectMessagingTypedLogger"))()};f._getLogger=a}),null);
__d("CameraPostBucketOwnerHelper",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getName=c;f.getGender=d;f.isEventHost=e;f.isEventHostPageAdmin=g;f.isViewerFriend=h;f.isEmployee=i;f.getProfilePictureUri=j;f.getCoverPhotoUri=k;f.isViewerPageContentAdmin=l;f.isViewerGroupModerator=m;f.isViewerGroupAdmin=n;f.isViewerGroupMember=o;f._getViewerProfilePermissions=p;f._getViewerAdminType=q;f.requiresAdminApproval=r;f.isGroupAdmin=s;f.isGroupMember=t;f.isBuySellGroup=u;f.isMutedFromGroup=v;f.setIsMutedFromGroup=w;f._getIdsFromEdges=x;function a(a){return((a=a)!=null?a.id:a)||""}function c(a){return((a=a)!=null?a.name:a)||""}function d(a){return!a?"":a.gender?a.gender:""}function e(a){if(!a)return!1;var b=a.event_hosts&&a.event_hosts.edges.some(function(a){return g(a.node)});return!!(a.is_viewer_host||b)}function g(a){a=a.page_admin_users;if(!a)return!1;var c=b("CurrentUser").getID();return a.edges.some(function(a){return a.node.id===c})}function h(a){return!a?!1:a.is_viewer_friend?!!a.is_viewer_friend:!1}function i(a){return!a?!1:a.is_employee?!!a.is_employee:!1}function j(a){return!a||!a.profile_picture?"":a.profile_picture.uri||""}function k(a){return!a||!a.cover_photo?"":((a=a)!=null?(a=a.cover_photo)!=null?(a=a.photo)!=null?(a=a.image)!=null?a.uri:a:a:a:a)||""}function l(a){a=p(a);return a&&a.includes("EDIT_PROFILE")||!1}function m(a){a=q(a);return a==="MODERATOR"}function n(a){a=q(a);return a==="ADMIN"}function o(a){return!a||!a.is_viewer_member?!1:a.is_viewer_member}function p(a){return!a||!a.viewer_profile_permissions?null:((a=a)!=null?a.viewer_profile_permissions:a)||null}function q(a){return!a||!a.viewer_admin_type?null:((a=a)!=null?a.viewer_admin_type:a)||null}function r(a){return!a?!1:a.story_approval_required&&!!a.story_approval_required||(a.stories_admin_approval_required_setting?a.stories_admin_approval_required_setting==="ON":!1)}function s(a,b){if(!a||!a.group_admin_profiles)return!1;a=((a=a)!=null?(a=a.group_admin_profiles)!=null?a.edges:a:a)||[];a=x(a);a=new Set(a);return a.has(b)}function t(a,b){b=(b=b.groups)==null?void 0:b.edges;if(b==null)return!1;b=new Set(b.map(function(a){return(a=a.node)==null?void 0:a.id}));return b.has(a.id)}function u(a){if(!a||!a.group_purposes)return!1;a=a.group_purposes.edges.map(function(a){return a.node.purpose_enum});return a.includes("for_sale".toUpperCase())}function v(a,b){if(!a||!a.group_muted_members)return!1;a=a.group_muted_members.edges;return x(a).includes(b)}function w(a,b,c){if(!a||!a.group_muted_members)return;var d=a.group_muted_members.edges,e=v(a,b);c!==e&&(c?d.push({node:{id:b}}):a.group_muted_members={edges:d.filter(function(a){a.node.id!==b})})}function x(a){return a.map(function(a){return a.node.id})}}),null);
__d("CameraPostMediaHelper",[],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getWidth=b;f.getHeight=c;f.getType=g;f.getImageUri=d;f.getBlurImageUri=e;f.isSphericalPhoto=h;f.isImage=i;f.isVideo=j;f.getPreviewImage=k;f.makeOptimisticPhotoMedia=l;f.hasObjectionableContent=m;function a(a){return((a=a)!=null?a.id:a)||""}function b(a){if(!a)return 0;if(a.width)return a.width;return a.image?a.image.width||0:0}function c(a){if(!a)return 0;if(a.height)return a.height;return a.image?a.image.height||0:0}function g(a){return((a=a)!=null?a.__typename:a)||""}function d(a){return!a?null:a.image?a.image.uri:null}function e(a){return!a?null:a.image_blurred?a.image_blurred.uri:null}function h(a){return!a?!1:a.photo_encodings?a.photo_encodings.length>0:!1}function i(a){return g(a)==="Photo"}function j(a){return g(a)==="Video"}function k(a){return!a?null:a.preview_image?a.preview_image.uri:null}function l(a){return{id:null,message:null,__typename:"Photo",preview_image:{uri:a,width:null,height:null},image:{uri:a,width:null,height:null},image_blurred:{uri:a,width:null,height:null}}}function m(a){if(!a||!i(a)&&!j(a))return!1;a=a.objectionable_content_info?a.objectionable_content_info:null;if(a){a=a.categories;return a&&a.length>0}return!1}}),null);
__d("CameraPostThreadOwnerHelper",[],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getName=b;f.getIsViewerFriend=c;f.getProfilePictureUri=d;function a(a){return(a=a)!=null?a.id:a}function b(a){return((a=a)!=null?a.name:a)||""}function c(a){return!!((a=a)!=null?a.is_viewer_friend:a)}function d(a){return((a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a)||""}}),null);
__d("CameraPostTypesHelper",[],(function(a,b,c,d,e,f){"use strict";f.isEventStory=g;f.isGroupStory=h;f.isBirthdayStory=i;f.isMultiAuthor=a;f.isPageStory=b;f.isPromotionStory=c;f.isStory=d;f.isStoryNux=e;function g(a){return a==="EVENT_STORY"}function h(a){return a==="GROUP_STORY"}function i(a){return a==="BIRTHDAY_STORY"}function a(a){return g(a)||h(a)||i(a)}function b(a){return a==="PAGE_STORY"}function c(a){return a==="PROMOTION_STORY"}function d(a){return a==="STORY"}function e(a){return a==="STORY_NUX"}}),null);
__d("FBDraggableBar.react",["cx","invariant","DOMDimensions","ReactDOM","Rect","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$6=function(a){a&&a.init(babelHelpers.assertThisInitialized(d))};d.onGrab=function(a,c){d.$1=a;d.$2=c;a=b("DOMDimensions").getElementDimensions(d.$2);c=a.width;a=a.height;d.setState({elementWidth:c,elementHeight:a});d.onDrag()};d.onDrag=function(){var a=new(b("Rect"))(d.$2);a=(a.l+a.r)/2;a=d.$7(a);d.setState({toIndex:a})};d.onDrop=function(){var a=d.$1;a!==void 0&&a!==null||h(0,3153);var b=d.state.toIndex;b!==void 0&&b!==null||h(0,3154);d.$8();d.props.onReorder&&d.props.onReorder(a,b);d.$4()};d.onCancelDrag=function(){d.$8()};d.state={toIndex:null,elementWidth:null,elementHeight:null};return d}var d=c.prototype;d.$4=function(){var a=b("ReactDOM").findDOMNode(this);!a&&h(0,3155);a=a.childNodes;var c=[];for(var d=0;d<a.length;d++){var e=a[d];e instanceof Element||h(0,3156);c.push(new(b("Rect"))(e))}this.$3=c};d.$5=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof Element||h(0,3157);var c=a.childNodes,d=0;for(var e=0;e<c.length;e++){var f=c[e];f instanceof Element||h(0,3156);f=new(b("Rect"))(f);d+=f.r-f.l}a.clientWidth>=d||h(0,3158)};d.componentDidMount=function(){this.$5(),this.$4()};d.render=function(){var a=this,c=j.Children.map(this.props.children,function(b,c){c={ref:a.$6,index:c};return j.cloneElement(b,c)}),d=this.state.toIndex;if(d!==null&&d!==void 0){var e=j.jsx("div",{className:"_63ax",style:{width:this.state.elementWidth,height:this.state.elementHeight}},"placeholder");d=d<=this.$1?d:d+1;c.splice(d,0,e)}return j.jsx("span",{className:b("joinClasses")(this.props.className,"_42l3"),children:c})};d.$7=function(a){for(var b=0;b<this.$3.length;b++){var c=this.$3[b];if(c.l<=a&&a<c.r)return b}return this.$3.length};d.$8=function(){delete this.$1,delete this.$2,this.setState({elementWidth:null,elementHeight:null,toIndex:null})};return c}(j.PureComponent);e.exports=a}),null);
__d("Collection",[],(function(a,b,c,d,e,f){function g(a,b){if(!a.__collection__){var c=new Function();for(var d in a.prototype)c.prototype[d]=g._call.bind(null,d);a.__collection__=c}c=new a.__collection__();c._elements=b;return c}g._call=function(a){var b=Array.prototype.slice.call(arguments,1);this._elements.forEach(function(c){c[a].apply(c,b)});return this};e.exports=g}),null);
__d("Drag",["Arbiter","DOM","Event","Style","Vector"],(function(a,b,c,d,e,f){var g={};g.currentDraggable=null;g.grab=function(a){g.currentDraggable&&g._onmouseup(),a.lastDragOver=null,g.attachDragEvents(),g.currentDraggable=a};g.attachDragEvents=function(){document.onselectstart=function(){document.onselectstart=null;return!1};if(g.dragEventsAttached)return;g.dragEventsAttached=!0;b("Arbiter").subscribe("scroller/scroll",g._onmousemove);b("Event").listen(document,{mousemove:g._onmousemove,mouseup:g._onmouseup})};g.droppables={};g.addDroppable=function(a,b){(g.droppables[a]=g.droppables[a]||[]).push(b)};g.removeDroppable=function(a,b){g.droppables[a]=g.droppables[a].filter(function(a){return a!=b})};g.getOffsetParent=function(a){if(b("DOM").isNodeOfType(a,["body","html"]))return document.body;while((a=a.parentNode)&&a!==document.body)if(b("Style").get(a,"position")!=="static")return a;return document.body};g._onmousemove=function(a,c){if(!g.currentDraggable)return;c=c||b("Vector").getEventPosition(a);a=g.currentDraggable;var d=g.droppables[a.namespace];if(a.namespace&&a.active&&d){var e={};d.forEach(function(a){e[a.zIndex]=a.zIndex});var f=[];for(var h in e)f.push(e[h]);f.sort();var i=a.lastDragOver,j=null;for(var k=f.length-1;k>=0;k--)if(i&&i.dom!=null&&i.zIndex==f[k]&&i.isDraggedOver(c)){j=i;break}else{i&&i.ondragout&&i.ondragout(a);for(h=0;h<d.length;h++){if(f[k]!=d[h].zIndex)continue;if(i!=d[h]&&a.dom!=d[h].dom&&d[h].isDraggedOver(c)){j=d[h];k=-1;break}}}j&&j!=i&&(j.ondragover(a),g.currentDraggable.adjustCursorPosition());j&&j.ondragmove(a,c.sub(b("Vector").getElementPosition(j.dom)));a.lastDragOver=j}g.currentDraggable._onmousemove(c)};g._onmouseup=function(a){document.onselectstart=null,g.currentDraggable&&(g.currentDraggable._ondrop(),g.currentDraggable=null)};e.exports=g}),null);
__d("Scroller",["Arbiter","Event","Rect","Style","Vector","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this;this._onmousemove=function(a){c.cursor=b("Vector").getEventPosition(a)};this.canvas=a;this.scrollZone=50;this.velocity=100;this.coefficient=1}var c=a.prototype;c.activate=function(){this.activate=b("emptyFunction"),this.event=b("Event").listen(document,"mousemove",this._onmousemove),this.interval=setInterval(this._intervalHandler.bind(this),50),this.cursor=null};c.deactivate=function(){delete this.activate,this.event&&this.event.remove(),this.event=null,clearInterval(this.interval)};c._intervalHandler=function(){if(!this.cursor)return;var a=this.canvas==document.body?b("Rect").getViewportBounds():new(b("Rect"))(this.canvas);a=new(b("Rect"))(this.cursor.y-a.t,a.r-this.cursor.x,a.b-this.cursor.y,this.cursor.x-a.l);var c=new(b("Vector"))(0,0);a.t<a.b&&a.t<this.scrollZone?c.y=-this.scrollZone+a.t:a.b<this.scrollZone&&(c.y=this.scrollZone-a.b);c.y=this._doMath(c.y);a.l<a.r&&a.l<this.scrollZone?c.x=-this.scrollZone+a.l:a.r<this.scrollZone&&(c.x=this.scrollZone-a.r);c.x=this._doMath(c.x);if(c.x||c.y){c.scrollElementBy(this.canvas);if(document.body==this.canvas){a=b("Vector").getScrollPosition();c.scrollElementBy(this.canvas);var d=b("Vector").getScrollPosition();this.cursor=this.cursor.add(d.sub(a))}else c.scrollElementBy(this.canvas);b("Arbiter").inform("scroller/scroll",this.cursor)}};c._doMath=function(a){a=a>=0?Math.min(a,this.scrollZone):Math.max(a,-this.scrollZone);return Math.floor(Math.pow(a/this.scrollZone*this.velocity,this.coefficient))};a.findScrollParent=function(a){var c;a=a.parentNode;while(a){if(a.scrollHeight!=a.offsetTop){c=b("Style").get(a,"overflowY");if(c=="scroll"||c=="auto")return a}a=a.parentNode}return document.body};return a}();e.exports=a}),null);
__d("Draggable",["Collection","DOM","Drag","Event","Rect","Scroller","Vector","emptyFunction"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(c){var d=this;this._onclick=function(a){if(!d._shouldKillEvents)return!0;if(d.active)return b("Event").kill(a)};this._onmousedown=function(a){if(!(a.which&&a.which===1||a.button&&a.button===1))return;var c=a.getTarget();if(b("DOM").isNodeOfType(c,["input","select","textarea","object","embed"]))return!0;c=b("Vector").getEventPosition(a);var e=b("Vector").getElementDimensions(d.dom);d.draggableInitialVector=b("Vector").getElementPosition(d.dom);d.cursorPositionVector=c.sub(d.draggableInitialVector);d.grabPctX=e.x===0?0:d.cursorPositionVector.x/e.x;d.grabPctY=e.y===0?0:d.cursorPositionVector.y/e.y;b("Drag").grab(d,a);d.gutter?d.cursorInitialVector=c:(d._setActive(!0),d._ongrab(c));return!d._shouldKillEvents?!0:b("Event").kill(a)};this._killUnlessActive=function(a){if(!d._shouldKillEvents)return;if(a.getTarget()!==document.activeElement)return a.kill()};if(!c)throw new Error("Element should be a DOM node");if(!(this instanceof a))if(c instanceof Array){var e=[];c.forEach(function(b){e.push(new a(b))});return new(b("Collection"))(a,e)}else return new a(c);else this.data={},this.handles=[],this.dom=c,this.boundingBox=null,this.useScroller=!0,this.scrollParents=null,this.manualPositioner=null,this.grabPctX=this.grabPctY=0,this._shouldKillEvents=!0,this._setInactiveTimeout=null,this.addHandle(this.dom)}var c=a.prototype;c.destroy=function(){var a=this;this.handles.forEach(function(b){return a.removeHandle(b.obj)});this.data=this.dom=null};c.adjustCursorPosition=function(){var a=b("Vector").getElementDimensions(this.dom);this.cursorPositionVector=new(b("Vector"))(parseInt(this.grabPctX*a.x,10),parseInt(this.grabPctY*a.y,10))};c._ongrab=function(a){this.ongrab(a);this.useScroller&&(this.scrollers||(this.scrollers=this.scrollParents?this.scrollParents.map(function(a){return new(b("Scroller"))(a)}):[new(b("Scroller"))(b("Scroller").findScrollParent(this.dom))]),this.scrollers.forEach(function(a){return a.activate()}));if(this.active){this.oldPosition||(this.oldPosition=this.dom.style.position);this.oldTop||(this.oldTop=this.dom.style.top);var c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(a=a.sub(b("Vector").getElementPosition(c)));this.dom.style.position=this.absolute?"absolute":"relative";a.sub(this.cursorPositionVector).setElementPosition(this.dom)}};c._onmousemove=function(a){this.active||a.distanceTo(this.cursorInitialVector)>=this.gutter&&(this._setActive(!0),this._ongrab(a));if(this.active){var c=a.sub(this.cursorPositionVector);if(this.boundingBox){var d=b("Rect").newFromVectors(c,b("Vector").getElementDimensions(this.dom));d=d.boundWithin(this.boundingBox);c=d.getPositionVector();this.boundingBox.w()===0&&this.boundingBox.h()===0?d=new(b("Vector"))(this.draggableInitialVector.x,this.draggableInitialVector.y,"document"):this.boundingBox.w()===0?d=new(b("Vector"))(this.draggableInitialVector.x,c.y,"document"):this.boundingBox.h()===0?d=new(b("Vector"))(c.x,this.draggableInitialVector.y,"document"):d=c}else d=c;c=b("Drag").getOffsetParent(this.dom);c!==document.body&&(d=d.sub(b("Vector").getElementPosition(c)));this.manualPositioner?this.manualPositioner.updateMousePosition(d):d.setElementPosition(this.dom);this.ondrag(a)}};c._ondrop=function(){var a=this;this.scrollers&&this.scrollers.forEach(function(a){return a.deactivate()});this.active&&(this._setInactiveTimeout=setTimeout(function(){a._setInactiveTimeout=null,a._setActive(!1)},0),this.ondrop(this.scrollers&&this.scrollers[0].cursor),this.lastDragOver&&this.lastDragOver.ondrop(this))};c.killDrag=function(){this._setActive(!1),b("Drag")._onmouseup()};c.forceDrop=function(){b("Drag")._onmouseup()};c.triggerMouseDown=function(a){this._onmousedown(a)};c.setBoundingBox=function(a){this.boundingBox=a;return this};c.resetPosition=function(){var a;this.dom.style.position=this.oldPosition;this.oldPosition=null;this.dom.style.left="";this.dom.style.top=(a=this.oldTop)!=null?a:"";this.oldTop=null;return this};c.setUseAbsolute=function(a){this.absolute=a;return this};c.setDragHandler=function(a){this.ondrag=a;return this};c.setGrabHandler=function(a){this.ongrab=a;return this};c.setDropHandler=function(a){this.ondrop=a;return this};c.setGutter=function(a){this.gutter=a;return this};c.setNamespace=function(a){this.namespace=a;return this};c.setUseScroller=function(a){this.useScroller=a;return this};c.setScrollParents=function(a){this.scrollParents=a;return this};c.setAvoidKillingEvents=function(a){this._shouldKillEvents=!a;return this};c.setManualPositioner=function(a){this.manualPositioner=a;return this};c.addHandle=function(a){this.handles.length==1&&this.handles[0].obj==this.dom&&this.removeHandle(this.dom);this.handles.push({obj:a,evt:[b("Event").listen(a,"mousedown",this._onmousedown),b("Event").listen(a,"click",this._onclick),b("Event").listen(a,"drag",this._killUnlessActive),b("Event").listen(a,"selectstart",this._killUnlessActive)]});return this};c.removeHandle=function(a){this.handles=this.handles.filter(function(b){if(b.obj!=a)return!0;else{b.evt.forEach(function(a){a.remove()});return!1}})};c.getDOM=function(){return this.dom};c.setKey=function(a,b){this.data[a]=b;return this};c.getKey=function(a){return this.data[a]};c._setActive=function(a){if(!this.dom)return;a&&this._setInactiveTimeout!=null&&clearTimeout(this._setInactiveTimeout);this.dom.activeDrag=this.active=a;for(var b=0;b<this.handles.length;b++)this.handles[b].obj.activeDrag=a};return a}();a.prototype.ondrag=b("emptyFunction");a.prototype.ongrab=b("emptyFunction");a.prototype.ondrop=b("emptyFunction");a.prototype.gutter=0;a.prototype.handles=null;e.exports=a}),null);
__d("FBDraggableItem.react",["cx","invariant","Draggable","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Keys","ReactDOM","Rect","getScrollPosition","getViewportDimensions","nullthrows","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=10,l=250;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dragging:!1},d.$6=function(a){if(!a)return;a=b("ReactDOM").findDOMNode(a);a instanceof Element||h(0,2430);var c=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));c instanceof Element||h(0,2431);d.$3=a;d.$4=c},d.init=function(a){d.$1=a},d.$9=function(){if(d.state.dragging)return;var a=d.props,c=a.onGrab;a=a.index;c&&(a||a===0?c(a):c());d.$5=b("Event").listen(document,"keydown",function(a){a.keyCode===b("Keys").ESC&&(d.$12(),a.preventDefault())});d.setState({dragging:!0});d.$1.onGrab(b("nullthrows")(d.props.index),d.$4)},d.$10=function(){var a=d.$4.parentNode;if(!(a instanceof Element))return;a=new(b("Rect"))(a);var c=b("getViewportDimensions")(),e=b("getScrollPosition")(window),f=Math.max(c.width,k);f=new(b("Rect"))(e.y,Math.min(f,a.r+l),c.height+e.y,Math.max(0,a.l-l));d.$2&&d.$2.setBoundingBox(f);d.$1.onDrag()},d.$11=function(){d.$13(),d.$1.onDrop()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=j.Children.map(this.props.children,function(a){return a});a.length>0&&a.length<=2||h(0,2432);return a};d.componentDidMount=function(){this.$7(),this.$8(!0)};d.componentWillUnmount=function(){this.$8(!1)};d.render=function(){var a=this.$7(),c=a.length!=2?null:j.jsx(b("FBOverlayElement.react"),{className:"_13uq",horizontal:"right",vertical:"top",children:j.jsx("div",{children:a[1]})});return j.jsxs(b("FBOverlayContainer.react"),{className:"_2rh6"+(this.state.dragging?" _2rjy":""),children:[j.jsx(b("FBOverlayBase.react"),{children:a[0]}),j.jsx(b("FBOverlayElement.react"),{horizontal:"left",ref:this.$6,vertical:"fit",children:j.jsx("div",{className:"_2rjz"})}),c]})};d.$8=function(a){var c=this.$2;a&&!c?this.$2=new(b("Draggable"))(this.$4).setNamespace("FBDraggableItem").setUseAbsolute(!0).setGrabHandler(this.$9).setDragHandler(this.$10).setDropHandler(this.$11).addHandle(this.$3):!a&&c&&(c.active&&this.$12(),c.destroy(),this.$2=null)};d.$12=function(){this.$2&&this.$2.killDrag(),this.$13(),this.$1.onCancelDrag()};d.$13=function(){this.$2&&this.$2.resetPosition(),this.setState({dragging:!1}),this.$5&&this.$5.remove(),delete this.$5};return c}(j.Component);e.exports=a}),null);
__d("AutoScalingContent.react",["prop-types","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={widthRatio:null};return b}var c=b.prototype;c.componentDidMount=function(){var a=this.refs.inner,b=this.props,c=b.minWidthRatio;b=b.handleMinWidthRatioViolation;var d=1;this.state.widthRatio===null&&(a&&a.scrollWidth&&a.offsetWidth&&(d=a.offsetWidth/a.scrollWidth,d<c&&(d=b&&b(d,c)||c)),this.setState({widthRatio:d}))};c.render=function(){var a={},b={};this.props.width!==void 0&&(b.width=this.props.width);!this.state.widthRatio?a.visibility="hidden":this.state.widthRatio<1&&(a.transform="scale("+this.state.widthRatio+")",a.transformOrigin="0 0");return h.jsx("div",{style:b,children:h.jsx("div",{ref:"inner",style:a,children:this.props.children})})};return b}(h.Component);e.exports=a;a.propTypes={children:b("prop-types").any,minWidthRatio:b("prop-types").number,width:b("prop-types").oneOfType([b("prop-types").number,b("prop-types").string])};a.defaultProps={minWidthRatio:.75}}),null);
__d("XUIOverlayButton.react",["cx","AbstractButton.react","joinClasses","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_51tl selected";return i.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},this.props,{label:this.props.label,className:b("joinClasses")(this.props.className,a)}))};return c}(i.Component);e.exports=a}),null);
__d("XUICarouselLinks.react",["csx","cx","fbt","DOM","DOMClone","DOMContainer.react","ReactDOM","createReactClass_DEPRECATED","isNode","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react");a=b("createReactClass_DEPRECATED")({displayName:"XUICarouselLinks",propTypes:{carousel:b("prop-types").object.isRequired,template:function(a){a=a.template;if(a&&!k.isValidElement(a)&&!b("isNode")(a))return new Error("Expected a DOM node or ReactElement for template")},width:b("prop-types").number,centered:b("prop-types").bool},getDefaultProps:function(){return{template:k.jsx("div",{className:"_3jav"}),centered:!0}},getInitialState:function(){return{disabled:!1,itemCount:this.props.carousel.getItemCount(),index:this.props.carousel.state.index}},UNSAFE_componentWillMount:function(){this._registerToCarousel(this.props.carousel)},componentWillUnmount:function(){this._unregisterCarousel()},_isAutoplayEnabled:!1,_unregisterCarousel:function(){this.props.carousel.unsubscribe(this.arbiterToken)},_registerToCarousel:function(a){var b=this;this.arbiterToken=a.subscribe(["animation_start","item_count_updated"],function(a,c){a==="animation_start"?b.setState({index:c}):b.setState({itemCount:c})})},UNSAFE_componentWillUpdate:function(a){this.props.carousel!==a.carousel&&(this._unregisterCarousel(),this._registerToCarousel(a.carousel))},_onKeyDown:function(a,b){a.key==="ArrowLeft"?(this.props.carousel.prev(),a.preventDefault()):a.key==="ArrowRight"&&(this.props.carousel.next(),a.preventDefault())},_onBlur:function(){this._isAutoplayEnabled&&this.props.carousel.setAutoplayEnabled(!0)},_onFocus:function(){this._isAutoplayEnabled=this.props.carousel.state.autoplay,this._isAutoplayEnabled&&this.props.carousel.setAutoplayEnabled(!1)},onLinkClick:function(a){this.props.carousel.setIndex(a)},renderLinks:function(){var a=this,c=[],d=this.props.template,e=k.isValidElement(d),f=function(f){var g=f===a.state.index,h="_3jaw"+(g?" _3el7":""),j=i._("Item {item index}",[i._param("item index",f+1)]);e?c.push(k.cloneElement(d,{className:b("joinClasses")(d.props.className,h),key:f,index:f,onBlur:function(){return a._onBlur()},onFocus:function(){return a._onFocus()},onClick:function(){return a.onLinkClick(f)},onKeyDown:function(b){return a._onKeyDown(b,f)},tabIndex:g?"0":"-1","aria-label":j,role:"button"})):c.push(k.jsx("div",{className:h,onBlur:function(){return a._onBlur()},onFocus:function(){return a._onFocus()},onKeyDown:function(b){return a._onKeyDown(b,f)},onClick:function(){return a.onLinkClick(f)},"aria-label":j,"aria-selected":g?"true":"false",role:"button",tabIndex:g?"0":"-1",children:k.jsx(b("DOMContainer.react"),{children:b("DOMClone").deepClone(d)})},f))};for(var g=0;g<this.state.itemCount;g++)f(g);return c},render:function(){var a=this,c=b("joinClasses")(this.props.className,"_3jay"+(this.props.centered?" _3jaz":"")),d;this.props.width&&(d={width:this.props.width});setTimeout(function(){if(a.isMounted()){var c=b("DOM").scry(b("ReactDOM").findDOMNode(a),"._3jaw");c.forEach(function(a){var b=a.style.display;a.style.display="none";a.offsetHeight;a.style.display=b})}});return k.jsx("div",{style:d,children:k.jsx("div",{className:c,role:"toolbar",children:this.renderLinks()})})}});e.exports=a}),null);
__d("ReactPagesComposerGlobalFlags",[],(function(a,b,c,d,e,f){"use strict";f.setIsPagesComposer=a;f.setIsObjectiveFirstPagesComposer=b;f.getIsPagesComposer=c;f.getIsObjectiveFirstPagesComposer=d;e=!1;f._isPagesComposer=e;a=!1;f._isObjectiveFirstPagesComposer=a;function a(a){this._isPagesComposer=a}function b(a){this._isObjectiveFirstPagesComposer=a,this._isPagesComposer=this._isObjectiveFirstPagesComposer}function c(){return this._isPagesComposer}function d(){return this._isObjectiveFirstPagesComposer}}),null);
__d("XComposerXVideoUploadDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/video/dialog/",{target_id:{type:"FBID",required:!0},source_id:{type:"String",required:!0},entry_point:{type:"Enum",required:!0,enumType:1},is_reference_video:{type:"Bool",defaultValue:!1}})}),null);
__d("ComposerXVideoUploadDialogController_DEPRECATED",["ActorURI","Arbiter","AsyncDialog","AsyncRequest","Bootloader","DOM","JSResource","ReactDOM","ReactPagesComposerGlobalFlags","VideoComposerDialogUITypedLogger","XComposerXVideoUploadDialogController","lazyLoadComponent","react"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=b("JSResource")("ComposerXVideoUploadDialog.react").__setRef("ComposerXVideoUploadDialogController_DEPRECATED"),j=b("lazyLoadComponent")(i),k={};function l(a){return k[a]}function m(a){k[a.getID()]=a}function n(a){delete k[a]}function o(a){return a in k}var p="timeline";a=function(){"use strict";function a(c,d,e,f,g,h,i,j,k,l){this.$1=c,this.$2=d,this.$3=e,this.$4=f,this.$5=g,this.$6=h,this.$7=i,this.$8=j,this.$9=k,this.$10=l,this.$11=a.$12(this.$1,this.$4,this.$8),this.$13=!1,this.$14=b("DOM").create("span"),b("DOM").appendContent(document.body,this.$14),this.$15()}var c=a.prototype;c.getID=function(){return this.$11};c.setFileInput=function(a){this.$2=a};c.getFileInput=function(){return this.$2};c.setDroppedFiles=function(a){this.$3=a};c.getDroppedFiles=function(){return this.$3};c.$16=function(a){this.$17=a,this.$18&&this.show()};c.$19=function(){b("ReactPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer()&&b("Bootloader").loadModules(["PagesPublishingLoggingActions","PagesPublishingFunnelLoggingAdditionalPostTypes"],function(a,b){a.setPostType(b.VIDEO)},"ComposerXVideoUploadDialogController_DEPRECATED")};c.$15=function(){var a=this,c=b("XComposerXVideoUploadDialogController").getURIBuilder().setFBID("target_id",this.$1).setString("source_id",this.$11).setEnum("entry_point",this.$4).setBool("is_reference_video",this.$9).getURI();c=b("ActorURI").create(c,this.$1);i.load();b("AsyncDialog").send(new(b("AsyncRequest"))(c).setAbortHandler(function(){a.$2.clear(),n(a.$11)}))};c.$20=function(){this.$19(),b("ReactDOM").render(h.jsx(h.Suspense,{fallback:null,children:h.jsx(j,{canShowOptimisticPost:this.$7,composer:this.$17,composerID:this.$11,composerEntryPointRef:this.$4,isProfileVideo:this.$4==="profile_video",isReferenceVideo:this.$9,showDialogCancelButton:this.$5,showProcessingDialog:this.$6,isPageTrailer:this.$4==="page_trailer",onCancel:this.$21.bind(this),onDone:this.$22.bind(this)})}),this.$14),this.$13=!0};c.show=function(){this.$17?(this.$18=!1,this.$2?b("Arbiter").inform("ComposerXFilesStore/filesAdded/"+this.$11+"/videoupload",{fileInput:this.$2},"persistent"):this.$3&&b("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this.$11+"/videoupload",{files:this.$3},"persistent"),this.$20()):this.$18=!0};c.$21=function(){b("Arbiter").inform("videoUpload/cancel",{composerID:this.$11}),this.hide()};c.$22=function(a){b("Arbiter").inform("videoUpload/"+this.$11+"/done"),b("Arbiter").inform("Pages/composeFinished",{composerID:this.$11}),this.hide()};c.hide=function(){b("ReactDOM").unmountComponentAtNode(this.$14),this.$13=!1};a.getComposerInstance=function(a){return l(a)};a.$12=function(a,b,c){if(c)return c;else return b+"_"+a};a.clearInstances=function(){k={}};a.showDialog=function(c){c.composerEntryPointRef=c.composerEntryPointRef||p;var d=a.$12(c.targetID,c.composerEntryPointRef,c.originalComposerID);if(!c.fileInput&&!c.files)return;!o(d)?m(new a(c.targetID,c.fileInput||null,c.files||null,c.composerEntryPointRef,c.showDialogCancelButton||!1,c.showProcessingDialog||!1,c.canShowOptimisticPost||!1,c.originalComposerID||"",c.isReferenceVideoUpload||!1)):(new(b("VideoComposerDialogUITypedLogger"))().setEvent("dialog_requested").setActorID(c.targetID).setComposerDialogVersion("V1").setComposerEntryPoint(c.composerEntryPointRef).setDialogMode("video_upload").log(),c.fileInput?l(d).setFileInput(c.fileInput):c.files&&l(d).setDroppedFiles(c.files));l(d).show()};a.setVideoComposer=function(a,b){k[a]&&k[a].$16(b)};return a}();e.exports=a}),null);
__d("FBStoriesArchivedCardQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2473649175992196"};b.getQueryID=function(){return"243055063287658"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1883080631763254"};b.getQueryID=function(){return"196508534442477"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesBucketsMigrationQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3373746366016192"};b.getQueryID=function(){return"2821486628136059"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesBucketsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3287198498036805"};b.getQueryID=function(){return"2777092015900845"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesDeleteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1340045906066120"};b.getQueryID=function(){return"967072946766012"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesGating",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";f.shouldUseTrayMigration=a;f.getMaxBucketsForTrayLoad=c;f.isFriendsAndConnectionsOptionDeprecated=d;function a(){return b("qex")._("835044")||!1}function c(){var a;return(a=b("qex")._("863217"))!=null?a:100}function d(){return b("gkx")("1234255")}}),null);
__d("FBStoriesMuteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1524574307634402"};b.getQueryID=function(){return"1944151819168048"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesMutedBucketOwnersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1891920954170361"};b.getQueryID=function(){return"294951511028390"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesPageBucketQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3516743045044144"};b.getQueryID=function(){return"241701400418022"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesPrivacyChangeSubscription",["BaseGraphQLSubscription","FBStoriesPrivacyChangeSubscription.graphql"],(function(a,b,c,d,e,f){var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/owner_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("FBStoriesPrivacyChangeSubscription.graphql")};d.getQueryParameters=function(a){return{input:{owner_id:a}}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("FBStoriesPrivacySettingsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1636640369763506"};b.getQueryID=function(){return"153291488685319"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1386522808128715"};b.getQueryID=function(){return"1384057201673076"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesTakeNegativeFeedbackActionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1997102860360908"};b.getQueryID=function(){return"345862519273111"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesTraySubscription",["BaseGraphQLSubscription","FBStoriesTraySubscription.graphql"],(function(a,b,c,d,e,f){var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/user_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("FBStoriesTraySubscription.graphql")};d.getQueryParameters=function(a){return{input:{user_id:a}}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("FBStoriesUnifiedSeenReceiptLastSeenTimeMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1530421027083413"};b.getQueryID=function(){return"213614895981437"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FBStoriesViewerBucketQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3086342188101329"};b.getQueryID=function(){return"3003130936463273"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesViewerBucketViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2224434790905865"};b.getQueryID=function(){return"2219192941644387"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesVotePollMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1942364135805651"};b.getQueryID=function(){return"1772533953042568"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("GroupUnmuteMemberMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1224583300980768"};b.getQueryID=function(){return"454589191691586"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ReactionStickerStoryCardReactMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1651380361616532"};b.getQueryID=function(){return"603085890111081"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ReportStoryCardToAdminWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1435403036581993"};b.getQueryID=function(){return"909342722558820"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("StoriesArchiveCardViewerQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2649821275029172"};b.getQueryID=function(){return"218194525798087"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("StoriesArchiveDeletionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"997271687064551"};b.getQueryID=function(){return"2146552195626815"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("UnifiedStoriesArchiveSavingModeMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2879905198698528"};b.getQueryID=function(){return"240974536483368"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("UnifiedStoriesSettingGraphQLWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1619282521526216"};b.getQueryID=function(){return"2045499392436729"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("FBStoriesGraphQLAPI",["CurrentUser","FBStoriesArchivedCardQueryWebGraphQLQuery","FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation","FBStoriesBucketsMigrationQueryWebGraphQLQuery","FBStoriesBucketsQueryWebGraphQLQuery","FBStoriesDeleteMutationWebGraphQLMutation","FBStoriesGating","FBStoriesMuteMutationWebGraphQLMutation","FBStoriesMutedBucketOwnersQueryWebGraphQLQuery","FBStoriesPageBucketQueryWebGraphQLQuery","FBStoriesPrivacyChangeSubscription","FBStoriesPrivacySettingsQueryWebGraphQLQuery","FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation","FBStoriesTakeNegativeFeedbackActionMutationWebGraphQLMutation","FBStoriesTraySubscription","FBStoriesUnifiedSeenReceiptLastSeenTimeMutationWebGraphQLMutation","FBStoriesViewerBucketQueryWebGraphQLQuery","FBStoriesViewerBucketViewersQueryWebGraphQLQuery","FBStoriesVotePollMutationWebGraphQLMutation","GroupUnmuteMemberMutationWebGraphQLMutation","ReactionStickerStoryCardReactMutationWebGraphQLMutation","ReportStoryCardToAdminWebGraphQLMutation","StoriesArchiveCardViewerQueryWebGraphQLQuery","StoriesArchiveDeletionMutationWebGraphQLMutation","UnifiedStoriesArchiveSavingModeMutationWebGraphQLMutation","UnifiedStoriesSettingGraphQLWebGraphQLQuery","WebGraphQL","uniqueID"],(function(a,b,c,d,e,f){"use strict";e.exports={load:function(){var a=b("FBStoriesGating").getMaxBucketsForTrayLoad();return b("WebGraphQL").exec(b("FBStoriesGating").shouldUseTrayMigration()?new(b("FBStoriesBucketsMigrationQueryWebGraphQLQuery"))({maxBuckets:a}):new(b("FBStoriesBucketsQueryWebGraphQLQuery"))({maxBuckets:a}))},loadSingleBucketStoryData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesViewerBucketQueryWebGraphQLQuery"))({bucketID:a,threadCount:100}))},loadPageBucketStoryData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesPageBucketQueryWebGraphQLQuery"))({pageID:a}))},loadSingleArchivedCardData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesArchivedCardQueryWebGraphQLQuery"))({storyID:a}))},loadPrivacySettings:function(){return b("WebGraphQL").exec(new(b("FBStoriesPrivacySettingsQueryWebGraphQLQuery"))({}))},loadViewerListForThread:function(a){return b("WebGraphQL").exec(new(b("FBStoriesViewerBucketViewersQueryWebGraphQLQuery"))({threadId:a}))},loadStoriesArchiveSavingMode:function(){return b("WebGraphQL").exec(new(b("UnifiedStoriesSettingGraphQLWebGraphQLQuery"))({}))},loadArchivedCardsData:function(a,c,d,e){return b("WebGraphQL").exec(new(b("StoriesArchiveCardViewerQueryWebGraphQLQuery"))({current_id:a,current_time:c,lower_bound_time:d,upper_bound_time:e}))},subscribeToPrivacyChanges:function(a){return b("FBStoriesPrivacyChangeSubscription").subscribe(b("CurrentUser").getID(),a)},subscribeToTrayChanges:function(a){return b("FBStoriesTraySubscription").subscribe(b("CurrentUser").getID(),a)},unsubscribeFromTrayChanges:function(a){a.unsubscribe()},updateThreadSeenReciept:function(a){a={client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),thread_id:a};return b("WebGraphQL").exec(new(b("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation"))({input:a}))},updateStorySeenReciept:function(a){a={client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),story_id:a};return b("WebGraphQL").exec(new(b("FBStoriesUnifiedSeenReceiptLastSeenTimeMutationWebGraphQLMutation"))({input:a}))},deleteStory:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesDeleteMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,story_thread_ids:[c]}}))},muteBucketOwner:function(a,c,d){return b("WebGraphQL").exec(new(b("FBStoriesMuteMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,user_id:c,should_unfollow_user_story:d}}))},loadMutedBucketOwnersList:function(){return b("WebGraphQL").exec(new(b("FBStoriesMutedBucketOwnersQueryWebGraphQLQuery"))({}))},pollVote:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesVotePollMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),story_card_poll_id:a,option:c,actor_id:b("CurrentUser").getID()}}))},reactToSticker:function(a,c){return b("WebGraphQL").exec(new(b("ReactionStickerStoryCardReactMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),story_card_reaction_sticker_id:a,count:c}}))},reportThreadToAdmin:function(a,c){return b("WebGraphQL").exec(new(b("ReportStoryCardToAdminWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,report_to_admin_action:"REPORT",story_card_id:c}}))},takeNegativeFeedbackAction:function(a,c,d){return b("WebGraphQL").exec(new(b("FBStoriesTakeNegativeFeedbackActionMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,negative_feedback_action_id:d}}))},changeAudienceMode:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,audience_mode:c}}))},updateArchiveSavingMode:function(a,c){return b("WebGraphQL").exec(new(b("UnifiedStoriesArchiveSavingModeMutationWebGraphQLMutation"))({saving_mode:{client_mutation_id:b("uniqueID")(),actor_id:a,saving_mode:c}}))},deleteArchivedStoryCard:function(a,c){return b("WebGraphQL").exec(new(b("StoriesArchiveDeletionMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,archived_story_card_id:c}}))},unmuteFromGroup:function(a,c,d){return b("WebGraphQL").exec(new(b("GroupUnmuteMemberMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,group_id:c,user_id:d}}))}}}),null);
__d("FBStoriesActions",["CameraPostBucketOwnerHelper","CameraPostGraphQLAPI","FBLogger","FBStoriesActionTypes","FBStoriesActionsHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesMutedBucketOwnersActions","FBStoriesPrefetcher","FBStoriesStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.muteBucketOwner=a;f.reportThreadToAdmin=c;f.takeNegativeFeedbackAction=d;f.removeEndedLiveVideo=p;f.setIsCommercialBreakRunning=e;f.unselectBucket=q;f.optimisticCreateStoryPhoto=r;f.setUserBucketUploadStatus=s;f.onPollOptionVoted=t;f.onReactToSticker=u;f.setIsProductionDialogLoading=v;f.approvePendingThread=w;var g=b("FBStoriesDispatcher").dispatch;a=function(){g({type:b("FBStoriesActionTypes").RESET_STATE})};f.resetStore=a;c=function(a,c,d,e,f){g({type:b("FBStoriesActionTypes").LOADED,data:{userInfo:{userName:a,userID:c,userGender:null,userProfilePic:{uri:d}},userBucketData:null,friendsBucketData:f}})};f.loadData=c;var h=function(a){var c=b("FBStoriesStore").isSelectedBucketLive();if(c){j();return}c=b("FBStoriesStore").getThreadsForSelectedBucket();var d=b("FBStoriesStore").getCurrentThreadIndexForSelectedBucket();a=a!==void 0?a:d+1;c.length===0?j():a<=c.length-1?m(a):j()};f.nextThread=h;var i=function(a){var c=b("FBStoriesStore").isSelectedBucketLive();if(c){k();return}c=b("FBStoriesStore").getThreadsForSelectedBucket();var d=b("FBStoriesStore").getCurrentThreadIndexForSelectedBucket();a=a!==void 0?a:d-1;c.length===0?k():a>=0?m(a,!0):k()};f.prevThread=i;var j=function(){return o(!0)};f.nextBucket=j;var k=function(){return o(!1)};f.prevBucket=k;d=function(a){var c=b("FBStoriesStore").getBucketIndexByBucketId(a);if(c===-1)return!1;var d=b("FBStoriesStore").getUnseenThreadIndex(c),e=Math.max(0,d);a=b("FBStoriesStore").isOwnBucket(a);g({type:b("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY});g({type:b("FBStoriesActionTypes").SET_UNSEEN_MODE,value:!a&&d>=0});g({type:b("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:!1});g({type:b("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:c});m(e);return!0};f.userSelectedBucket=d;var l=function(a){g({type:b("FBStoriesActionTypes").SELECTED_THREAD_PERCENT_DONE,percentDone:a})};f.updateCurrentThreadPercentDone=l;var m=function(a,c){c===void 0&&(c=!1);var d=b("FBStoriesStore").isOwnBucket();g({type:b("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED,index:a});l(0);a=b("FBStoriesStore").getCurrentThreadData();if(a){if(d&&!a.isLive){var e=a.threadID;b("promiseDone")(b("FBStoriesGraphQLAPI").loadViewerListForThread(e),function(a){return g({type:b("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD,threadID:e,data:a})},function(a){return b("FBLogger")("fbstories").catching(a).mustfix("Cannot load viewer list for thread: %s",e)})}n();b("FBStoriesPrefetcher").prefetchForCurrentThreadAndBucket()}else c?i():h()};f.currentThreadIndexChanged=m;var n=function(){var a=b("FBStoriesStore").getUserInfo().userID,c=b("FBStoriesStore").getCurrentThreadData();if(!c||c.isLive)return;var d=c.latestMessageID,e=c.cameraPostType;c=c.threadID;g({type:b("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC,bucketID:null,threadID:c});b("CameraPostGraphQLAPI").markThreadSeen(a,c,d,e)};f.markCurrentThreadAsSeen=n;e=function(a){g({type:b("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC,threadID:a}),b("FBStoriesGraphQLAPI").updateThreadSeenReciept(a)};f.markThreadViewersSeen=e;var o=function(a,c){c=c!==void 0?c:b("FBStoriesStore").getSelectedBucketIndex();c=b("FBStoriesActionsHelper").getNextBucketAndThreadIndex(c,a);var d=c.nextBucketIndex;c=c.nextThreadIndex;var e=b("FBStoriesActionsHelper").checkAllBucketsViewed(d);g({type:b("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:e});if(e)return void 0;p();g({type:b("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:d});if(!b("FBStoriesStore").hasDataInSelectedBucket()&&!b("FBStoriesStore").isSelectedBucketLive())return a?j():k();m(c);b("FBStoriesLoggingHelper").storyLog(b("FBStoriesLoggingConstants").ACTION_OPEN_STORY);return void 0};f._transitionBucket=o;q=function(a,c){if(!b("FBStoriesStore").isUserManagedThread(a,c))return;b("FBStoriesGraphQLAPI").deleteStory(b("FBStoriesStore").getUserInfo().userID,a);g({type:b("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET,threadID:a,bucketID:c});h(b("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())};f.deleteThreadFromBucket=q;function a(a,c){b("FBStoriesMutedBucketOwnersActions").setBucketOwnerMuted(b("CameraPostBucketOwnerHelper").getId(a),b("CameraPostBucketOwnerHelper").getName(a),b("CameraPostBucketOwnerHelper").getProfilePictureUri(a),!0);if(!c)return;g({type:b("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:c});o(!0,b("FBStoriesStore").getSelectedBucketIndex()-1)}function c(a){b("FBStoriesGraphQLAPI").reportThreadToAdmin(b("FBStoriesStore").getUserInfo().userID,a)}function d(a,c){b("FBStoriesGraphQLAPI").takeNegativeFeedbackAction(b("FBStoriesStore").getUserInfo().userID,a,c)}function p(){if(!b("FBStoriesStore").isSelectedBucketLiveAndEnded())return;var a=b("FBStoriesStore").getSelectedBucketId();b("FBStoriesStore").getThreadsForSelectedBucket().length>0?g({type:b("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET,bucketID:a}):g({type:b("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:a})}function e(a,c){g({type:b("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING,isCommercialBreakRunning:c,videoID:a})}function q(){g({type:b("FBStoriesActionTypes").UNSELECT_BUCKET})}function r(a){if(!a)return;g({type:b("FBStoriesActionTypes").OPTIMISTIC_CREATE_PHOTO_STORY,imageURL:a})}function s(a){g({type:b("FBStoriesActionTypes").SET_USER_BUCKET_UPLOAD_STATUS,isUploading:a})}function t(a,c){g({type:b("FBStoriesActionTypes").OPTIMISTIC_POLL_VOTE,index:c}),b("FBStoriesGraphQLAPI").pollVote(a,c)}function u(a,c){g({type:b("FBStoriesActionTypes").TAP_ON_REACTION_STICKER,stickerID:a,count:c}),b("FBStoriesGraphQLAPI").reactToSticker(a,c)}function v(a){g({type:b("FBStoriesActionTypes").SET_IS_PRODUCTION_DIALOG_LOADING,value:a})}function w(a,c){g({type:b("FBStoriesActionTypes").APPROVE_PENDING_THREAD,bucketID:a,threadID:c})}}),null);
__d("FBStoriesReactionStickerConstants",[],(function(a,b,c,d,e,f){"use strict";a={WIDTH:150,HEIGHT:150};f.DIMENSIONS=a;b=1e3;f.HOLD_DELAY=b;c=300;f.ANIMATIONS_INTERVAL_THROTTLE=c;d="StoryOverlayReactionSticker";f.StoryOverlayReactionSticker=d}),null);
__d("FBStoriesStoryCardHelper",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getActor=g;f.getMedia=h;f.getActivityDescription=i;f.getBackdropImage=j;f.getCameraPostSource=k;f.getCameraPostType=l;f.getDefaultBackground=m;f.getExplicitPlace=n;f.getInlineActivities=o;f.getIsPlainText=p;f.isSeenByViewer=q;f.getMediaBackground=r;f.getMessageText=s;f.getMessageRanges=t;f.getTextFormatMetadata=u;f.getTime=v;f.getOriginalPostStoryAttribution=w;f.getWithTags=x;f.getNegativeFeedbackActions=y;f._shouldRenderNFXAction=z;f.isLandscape=c;f.getStoryOverlays=A;f.getPoll=d;f.getStoryViewerId=B;f.getStoryViewerSeenTime=C;f.getSeenReceiptsLastSeenTime=D;f.getNonFriendsSeenCount=E;f.getfriendsSeenCount=e;f.getThreadViewers=F;f.getStoryViewerReactions=G;f.getAllowedNavigationType=H;f.getCurrentCardData=I;function a(a){return((a=a)!=null?a.id:a)||""}function g(a){a=(a=a)!=null?a.actors:a;return a?a[0]:null}function h(a){a=(a=a)!=null?a.attachments:a;return a?a[0].media:null}function i(a){return(a=a)!=null?a.activity_description:a}function j(a){a=(a=a)!=null?(a=a.backdrop)!=null?(a=a.media)!=null?(a=a.image)!=null?a.uri:a:a:a:a;return{image:{uri:a}}}function k(a){return((a=a)!=null?(a=a.story_card_info)!=null?(a=a.logging)!=null?a.source:a:a:a)||"CAMERA_SYSTEM"}function l(a){return((a=a)!=null?(a=a.story_card_info)!=null?a.story_card_type:a:a)||"STORY"}function m(a){return((a=a)!=null?a.story_default_background:a)||null}function n(a){return((a=a)!=null?a.explicit_place:a)||null}function o(a){return((a=a)!=null?a.inline_activities:a)||null}function p(a){return((a=a)!=null?(a=a.story_card_info)!=null?a.is_plain_text:a:a)||!1}function q(a){return!!((a=a)!=null?(a=a.story_card_seen_state)!=null?a.is_seen_by_viewer:a:a)}function r(a){a=(a=a)!=null?(a=a.story_card_info)!=null?(a=a.background_color_info)!=null?a.color_info:a:a:a;return a?a[0]:null}function s(a){return((a=a)!=null?(a=a.message)!=null?a.text:a:a)||""}function t(a){return((a=a)!=null?(a=a.message)!=null?a.messageRanges:a:a)||null}function u(a){return((a=a)!=null?a.text_format_metadata:a)||null}function v(a){a=((a=a)!=null?(a=a.story_card_info)!=null?a.local_creation_time:a:a)||"";return Date.parse(a)/1e3}function w(a){return((a=a)!=null?(a=a.story_card_info)!=null?a.shareable_attribution:a:a)||null}function x(a){return((a=a)!=null?a.with_tags:a)||null}function y(a){if(!a)return null;a=(a=a)!=null?(a=a.negative_feedback_actions)!=null?a.edges:a:a;return a?a.map(function(a){return a.node}).filter(function(a){return a&&z(a.negative_feedback_action_type)}):null}function z(a){switch(a){case"UNTAG":case"UNTAG_SPONSOR_PAGE":return!0;default:return!1}}function c(a){var b;a=h(a);return(a==null?void 0:(b=a.image)==null?void 0:b.height)<(a==null?void 0:(b=a.image)==null?void 0:b.width)}function A(a){return((a=a)!=null?a.story_overlays:a)||[]}function d(a){a=A(a).find(function(a){return a.__typename==="StoryOverlayPollSticker"});return!a?null:(a=a)!=null?a.poll:a}function B(a){return(a=a)!=null?(a=a.node)!=null?a.id:a:a}function C(a){return((a=a)!=null?a.seen_time:a)||0}function D(a){return((a=a)!=null?(a=a.story_card_seen_state)!=null?a.seen_receipts_last_seen_time:a:a)||0}function E(a){return((a=a)!=null?(a=a.story_card_seen_state)!=null?(a=a.seen_receipent_seen_followers)!=null?a.count:a:a:a)||0}function e(a){return((a=a)!=null?(a=a.story_card_seen_state)!=null?(a=a.seen_receipent_seen_friends)!=null?a.count:a:a:a)||0}function F(a,c){var d={hasNewViewers:!1,hasNewFriendViewers:!1,hasNewConnectionsViewers:!1,friends:[],connections:[],totalCount:0,totalNew:0,nonFriendsCount:0};if(!c||!a)return d;var e=(c=a)!=null?c.isCardViewed:c;c=((c=a)!=null?(c=c.story_card_info)!=null?(c=c.story_viewers)!=null?c.edges:c:c:c)||[];var f=b("CurrentUser").getID();d=c.reduce(function(b,c){var d=B(c);if(!d)return b;if(d!==f){d=((d=c)!=null?(d=d.node)!=null?d.is_viewer_friend:d:d)||!1;var g=d?"friends":"connections",h=C(c),i=G(c),j=h>=D(a);b[g].push(babelHelpers["extends"]({},c.node,{seenTime:h,isNewViewer:j,reactions:i}));b.totalNew+=j?1:0;b.hasNewViewers=(b.hasNewViewers||j)&&!e;b.hasNewFriendViewers=b.hasNewFriendViewers||j&&d;b.hasNewConnectionsViewers=b.hasNewViewers||j&&!d}return b},d);var g=E(a);return Object.assign(d,{totalCount:g+c.length,nonFriendsCount:g})}function G(a){var b;a=((a=a)!=null?(a=a.feedback)!=null?a.lightweight_reactions:a:a)||[];a=a&&a.length>0?((b=a[0])!=null?(b=b.messaging_actions)!=null?b.nodes:b:b)||[]:[];return a.map(function(a){return a.reaction})}function H(a,b){var c=a===0;a=a===b-1;if(c)return"NEXT_ONLY";return a?"PREV_ONLY":"BOTH"}function I(a,b){var c=g(a),d=u(a),e=null,f=null;d&&(e={body_style:d.font_style,preset_id:d.preset_id,text_input_style:d.text_input_style,swatch_style:{background_color:d.background_color,background_image:d.background_image}},f={portrait_background_image:d.portrait_background_image,portrait_keyframes_animation:d.portrait_keyframes_animation,inspirations_custom_font_object:d.inspirations_custom_font_object});d={id:c.id,name:c.name,short_name:c.short_name,gender:c.gender,is_viewer_friend:c.is_viewer_friend,profile_picture:c.profile_picture};return{activityDescription:i(a),backdropImage:j(a),bucketOwner:d,cameraPostSource:k(a),cameraPostType:l(a),defaultBackground:m(a),explicitLocation:n(a),inlineActivities:o(a),isLive:!1,isPlainText:p(a),isSeen:q(a),latestMessageID:null,linkAttachment:null,media:h(a),mediaBackground:r(a),messageText:s(a),messageRanges:t(a),delightRanges:[],participants:[],textFormatMetadata:f,threadOwner:{name:c.name,id:c.id,is_viewer_friend:c.is_viewer_friend,profile_picture:c.profile_picture},time:v(a),threadID:b,originalPostStoryAttribution:w(a),withTags:x(a),wwwTextFormatMetadata:e,negativeFeedbackActions:y(a)}}}),null);
__d("FBStoriesThreadHelper",["CameraPostMediaHelper","CameraPostThreadOwnerHelper","FBLogger","FBStoriesReactionStickerConstants","FBStoriesStoryCardHelper"],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getCameraPostType=c;f.getCameraPostSource=d;f.isSeenByViewer=g;f.notSeenByViewer=e;f.setIsSeenByViewer=h;f.getLatestMessageID=i;f.getStatus=j;f.isReviewStatusPending=k;f._getReviewStatus=l;f.getTime=m;f.getExpiryTime=n;f.isExpired=o;f.isPending=p;f.isPublished=q;f.getNonFriendsSeenCount=r;f.setNonFriendsSeenCount=s;f.getFriendsSeenCount=t;f.setFriendsSeenCount=u;f.getSeenCount=v;f.getSeenReceiptsLastSeenTime=w;f.setSeenReceiptsLastSeenTime=x;f.getSeenReceiptsUnseenCount=y;f.doesThreadHasUnseenViewers=z;f.getSeenReceiptsFollowersUnseenCount=A;f.setSeenReceiptsUnseenCount=B;f.setSeenReceiptsFollowersUnseenCount=C;f.getOwner=D;f.getOwnerId=E;f.isViewerFriendOfOwner=F;f.getViewers=G;f.setViewers=H;f.getRootMessage=I;f.getStoryOverlays=J;f.getReactionStickersReactors=K;f.getPoll=L;f.getMedia=M;f.getMediaId=N;f.getMediaType=O;f.getMediaPreviewImage=P;f.getWWWTextFormatMetadata=Q;f.getIsPlainText=R;f.getTextFormatMetadata=S;f.getBackdropImage=T;f.getMessageText=U;f.getMessageRanges=V;f.getDelightRanges=W;f.getActivityDescription=X;f.getMediaBackground=Y;f.getLinkAttachment=Z;f.getWithTags=$;f.getDefaultBackground=aa;f.getExplicitLocation=ba;f.getInlineActivities=ca;f.getOriginalPostStoryAttribution=da;f.getNegativeFeedbackActions=ea;f.getStoryViewerId=fa;f.getStoryViewerSeenTime=ga;f.getStoryViewerReactions=ha;f.makeOptimisticPhotoThread=ia;f._getDefaultThread=ja;function a(a){return((a=a)!=null?a.id:a)||""}function c(a){return((a=a)!=null?a.camera_post_type:a)||"STORY"}function d(a){return((a=a)!=null?a.post_source:a)||"CAMERA_SYSTEM"}function g(a){return!!((a=a)!=null?a.is_seen_by_viewer:a)}function e(a){return!g(a)}function h(b,a){if(!b)return;b.is_seen_by_viewer=a}function i(a){return(a=a)!=null?(a=a.latest_message)!=null?a.id:a:a}function j(a){return(a=a)!=null?a.thread_status:a}function k(a){a=l(a);return a==="PENDING"||a==="DENIED"}function l(a){return(a=a)!=null?a.thread_review_status:a}function m(a){return((a=a)!=null?a.time:a)||0}function n(a){return((a=a)!=null?a.thread_expiry_time:a)||0}function o(a){a=n(a);return!a?!1:a<Date.now()/1e3}function p(a){return j(a)==="PENDING"}function q(a){return j(a)==="PUBLISHED"}function r(a){a=((a=a)!=null?a.non_friends_seen_count:a)||0;a<0&&b("FBLogger")("fbstories").mustfix("Non friend seen count should not be negative!");return a}function s(a,b){if(!a)return;a.non_friends_seen_count=b}function t(a){return((a=a)!=null?a.friends_seen_count:a)||0}function u(a,b){if(!a)return;a.friends_seen_count=b}function v(a){return r(a)+t(a)}function w(a){return((a=a)!=null?a.seen_receipts_last_seen_time:a)||0}function x(a,b){if(!a)return;a.seen_receipts_last_seen_time=b}function y(a){return((a=a)!=null?a.seen_receipts_unseen_count:a)||0}function z(a){return!a?!1:y(a)>0||A(a)>0}function A(a){return((a=a)!=null?a.seen_receipts_followers_unseen_count:a)||0}function B(a,b){if(!a)return;a.seen_receipts_unseen_count=b}function C(a,b){if(!a)return;a.seen_receipts_followers_unseen_count=b}function D(a){return(a=a)!=null?a.camera_post_thread_owner:a}function E(a){return b("CameraPostThreadOwnerHelper").getId(D(a))}function F(a){return b("CameraPostThreadOwnerHelper").getIsViewerFriend(D(a))}function G(a){return((a=a)!=null?(a=a.story_thread_viewers)!=null?a.edges:a:a)||[]}function H(a,b){if(!a)return;a.story_thread_viewers={edges:b}}function I(a){return(a=a)!=null?a.root_message:a}function J(a){return!a?[]:((a=I(a))!=null?a.story_overlays:a)||[]}function K(a){var c={};a=this.getStoryOverlays(a)||[];a.forEach(function(a){if(a.__typename===b("FBStoriesReactionStickerConstants").StoryOverlayReactionSticker){var d,e=(d=a)!=null?(d=d.reaction_sticker)!=null?d.id:d:d,f=(d=a)!=null?(d=d.reaction_sticker)!=null?(d=d.sticker_asset)!=null?d.image_asset_url:d:d:d;a=((d=a)!=null?(d=d.reaction_sticker)!=null?(d=d.sticker_reactions)!=null?d.nodes:d:d:d)||[];a.forEach(function(a){a=a.reactor.id;c[a]?c[a].push({stickerID:e,imgURL:f}):c[a]=[{stickerID:e,imgURL:f}]})}});return c}function L(a){a=this.getStoryOverlays(a).find(function(a){return a.__typename==="StoryOverlayPollSticker"});return!a?null:(a=a)!=null?a.poll:a}function M(a){return(a=I(a))!=null?a.message_media:a}function N(a){return b("CameraPostMediaHelper").getId(M(a))}function O(a){return b("CameraPostMediaHelper").getType(M(a))}function P(a){return b("CameraPostMediaHelper").getPreviewImage(M(a))}function Q(a){return((a=I(a))!=null?a.www_text_format_metadata:a)||null}function R(a){return((a=I(a))!=null?a.is_plain_text:a)||!1}function S(a){return((a=I(a))!=null?a.text_format_metadata:a)||null}function T(a){return((a=I(a))!=null?a.backdrop_image:a)||null}function U(a){return((a=I(a))!=null?a.message_text:a)||""}function V(a){return((a=I(a))!=null?a.message_ranges:a)||null}function W(a){return((a=I(a))!=null?a.delight_ranges:a)||[]}function X(a){return!a?null:a.activity_description||null}function Y(a){if(!a)return null;a=(a=a.background_color_info)!=null?a.color_info:a;return a&&a.length>0?a[0]:null}function Z(a){return!a?null:a.share_story_attachment||null}function $(a){return!a?null:a.with_tags||null}function aa(a){return!a?null:a.story_default_background||null}function ba(a){return!a?null:a.explicit_place||null}function ca(a){return!a?null:a.inline_activities||null}function da(a){return!a?null:((a=I(a))!=null?a.original_post_story_attribution:a)||null}function ea(a){return b("FBStoriesStoryCardHelper").getNegativeFeedbackActions(a)}function fa(a){return(a=a)!=null?(a=a.node)!=null?a.id:a:a}function ga(a){return((a=a)!=null?a.seen_time:a)||0}function ha(a){var b;a=((a=a)!=null?(a=a.feedback)!=null?a.lightweight_reactions:a:a)||[];a=a&&a.length>0?((b=a[0])!=null?(b=b.messaging_actions)!=null?b.nodes:b:b)||[]:[];return a.map(function(a){return a.reaction})}function ia(a){var c=this._getDefaultThread();a=b("CameraPostMediaHelper").makeOptimisticPhotoMedia(a);return babelHelpers["extends"]({},c,{is_seen_by_viewer:!1,root_message:{message_media:a},thread_expiry_time:Math.floor(Date.now()/1e3+24*60*60),thread_status:"UPLOADING",time:Math.floor(Date.now()/1e3)})}function ja(){return{id:null,camera_post_type:null,post_source:null,time:null,thread_expiry_time:null,seen_receipts_last_seen_time:null,seen_receipts_unseen_count:null,seen_receipts_followers_unseen_count:null,thread_status:null,thread_review_status:null,root_message:{message_media:null,delight_ranges:[]},latest_message:{id:null},is_seen_by_viewer:null,is_user_story_thread_viewer:null,camera_post_thread_owner:null,friends_seen_count:null,non_friends_seen_count:null,story_thread_viewers:{edges:null},activity_description:null}}}),null);
__d("FBStoriesBucketHelper",["CameraPostBucketOwnerHelper","CameraPostTypesHelper","CurrentUser","FBStoriesLoggingConstants","FBStoriesThreadHelper"],(function(a,b,c,d,e,f){"use strict";var g={getUnseenThread:function(a){var b=h.getThreads(a);return b[Math.max(0,h.getUnseenThreadIndex(a))]}},h={isUserBucket:function(a){return h.getOwnerId(a)===b("CurrentUser").getID()},getLiveVideo:function(a){return(a=a)!=null?a.live_video:a},getMediaIDForLiveBucket:function(a){return(a=a)!=null?(a=a.live_video)!=null?a.id:a:a},isLive:function(a){return!!((a=h.getLiveVideo(a))!=null?a.id:a)},setLiveVideo:function(a,b){if(!a)return;a.live_video=b},hasData:function(a){return!a?!1:h.isLive(a)||h.getThreads(a).length>0},getThreads:function(a){a=((a=a)!=null?(a=a.threads)!=null?a.nodes:a:a)||[];return a.filter(function(a){return b("FBStoriesThreadHelper").isPublished(a)&&!b("FBStoriesThreadHelper").isExpired(a)})},getPendingThreads:function(a){return((a=a)!=null?(a=a.pending_threads)!=null?a.nodes:a:a)||[]},getThreadIDs:function(a){a=h.getThreads(a);return a.map(function(a){return((a=a)!=null?a.id:a)||""})},setThreads:function(a,b){if(!a)return;a.threads={nodes:b}},setPendingThreads:function(a,b){if(!a)return;a.pending_threads={nodes:b}},hasPendingThreads:function(a){if(!a.pending_stories)return!1;a=(a=a)!=null?(a=a.pending_stories)!=null?a.count:a:a;return!a?!1:a>0},getUnseenThreadIndex:function(a){var c=h.getThreads(a);a=h.isUserBucket(a);return a?c.findIndex(b("FBStoriesThreadHelper").doesThreadHasUnseenViewers):c.findIndex(b("FBStoriesThreadHelper").notSeenByViewer)},hasNewViewers:function(a){if(!a)return!1;a=h.getThreads(a);a=a.filter(b("FBStoriesThreadHelper").doesThreadHasUnseenViewers);return a.length>0},hasUnseenThreads:function(a){return h.getThreads(a).findIndex(b("FBStoriesThreadHelper").notSeenByViewer)>=0},getPreviewImage:function(a){a=g.getUnseenThread(a);return b("FBStoriesThreadHelper").getMediaPreviewImage(a)},getId:function(a){return((a=a)!=null?a.id:a)||""},getCameraPostType:function(a){return((a=a)!=null?a.camera_post_type:a)||"STORY"},getUnseenCount:function(a){return((a=a)!=null?a.unseen_count:a)||0},setUnseenCount:function(a,b){if(!a)return;a.unseen_count=b},hasLiveVideoEnded:function(a){return!!((a=a)!=null?a.has_live_video_ended:a)},setHasLiveVideoEnded:function(a,b){if(!a)return;a.has_live_video_ended=b},getOwner:function(a){return((a=a)!=null?a.camera_post_bucket_owner:a)||{id:null,name:null,short_name:null,gender:null,is_viewer_friend:!1,profile_picture:null}},getOwnerId:function(a){return b("CameraPostBucketOwnerHelper").getId(h.getOwner(a))},getOwnerGender:function(a){return b("CameraPostBucketOwnerHelper").getGender(h.getOwner(a))},isOwnerEmployee:function(a){return b("CameraPostBucketOwnerHelper").isEmployee(h.getOwner(a))},isViewerEventHost:function(a){return b("CameraPostBucketOwnerHelper").isEventHost(h.getOwner(a))},isViewerPageContentAdmin:function(a){return b("CameraPostBucketOwnerHelper").isViewerPageContentAdmin(h.getOwner(a))},isViewerGroupAdmin:function(a){return b("CameraPostBucketOwnerHelper").isViewerGroupAdmin(h.getOwner(a))},isViewerGroupModerator:function(a){return b("CameraPostBucketOwnerHelper").isViewerGroupModerator(h.getOwner(a))},isViewerFriendOfOwner:function(a){return b("CameraPostBucketOwnerHelper").isViewerFriend(h.getOwner(a))},getOwnerProfilePictureUri:function(a){return b("CameraPostBucketOwnerHelper").getProfilePictureUri(h.getOwner(a))},getOwnerCoverPhotoUri:function(a){return b("CameraPostBucketOwnerHelper").getCoverPhotoUri(h.getOwner(a))},getOwnerName:function(a,c){c===void 0&&(c=!1);var d=h.getCameraPostType(a);a=h.getOwner(a);if(!c&&b("CameraPostTypesHelper").isStory(d)&&a.short_name)return a.short_name;else return a.name},getLatestThreadCreationTime:function(a){return!a?null:(a=a)!=null?a.latest_thread_creation_time:a},getLoggingType:function(a){if(!a)return b("FBStoriesLoggingConstants").MISSING_STORY_DATA;if(h.isUserBucket(a))return b("FBStoriesLoggingConstants").SELF_STORY;var c=h.getCameraPostType(a);if(b("CameraPostTypesHelper").isPageStory(c))return b("FBStoriesLoggingConstants").PAGE_STORY;if(b("CameraPostTypesHelper").isGroupStory(c))return b("FBStoriesLoggingConstants").GROUP_STORY;if(b("CameraPostTypesHelper").isEventStory(c))return b("FBStoriesLoggingConstants").EVENT_STORY;if(b("CameraPostTypesHelper").isPromotionStory(c))return b("FBStoriesLoggingConstants").STORY_PROMOTION;return!h.isViewerFriendOfOwner(a)?b("FBStoriesLoggingConstants").FOLLOWEE_STORY:b("FBStoriesLoggingConstants").FRIEND_STORY},addThreadToBucket:function(a,b){var c=h.getThreads(a);h.setThreads(a,c.concat(b))},getDefaultBucket:function(){return{id:null,camera_post_type:null,unseen_count:0,ranking:null,live_video:null,camera_post_bucket_owner:null,threads:null,pending_threads:null,latest_thread_creation_time:null}},isUploading:function(a){if(!a)return!1;a=(a=a)!=null?a.is_uploading:a;return!!a},setUploading:function(a,b){if(!a)return;a.is_uploading=b}};a=h;e.exports=a}),null);
__d("FBStoriesLiveVideoActionTypes",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({SET_UI_COMPONENTS:null,REMOVE_UI_COMPONENTS:null,LIVE_BUCKET_LOADED:null,LOAD_UI_COMPONENTS_FAILED:null});e.exports=a}),null);
__d("FBStoriesMutedBucketOwnerHelper",[],(function(a,b,c,d,e,f){"use strict";f.getId=a;f.getName=b;f.getProfilePictureUri=c;f.getMuted=d;f.setMuted=e;function a(a){return((a=a)!=null?a.id:a)||""}function b(a){return((a=a)!=null?a.name:a)||""}function c(a){return((a=a)!=null?a.profilePictureUri:a)||""}function d(a){return!!((a=a)!=null?a.muted:a)}function e(a,b){a.muted=b}}),null);
__d("FBStoriesMutedBucketOwnersActionTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({LOADING:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADING",LOADED:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADED",LOADED_ERROR:"FB_STORIES_MUTED_BUCKET_OWNERS.LOADED_ERROR",SET_IS_CURRENTLY_MUTING:"FB_STORIES_MUTED_BUCKET_OWNERS.SET_IS_CURRENTLY_MUTING",UPDATE_MUTED_OPTIMISTIC:"FB_STORIES_MUTED_BUCKET_OWNERS.UPDATE_MUTED_OPTIMISTIC"});e.exports=a}),null);
__d("fbStoriesMutedBucketOwnersSelectors",[],(function(a,b,c,d,e,f){"use strict";f.isLoading=a;f.getMutedBucketOwners=b;f.getCurrentlyMutingBucketOwners=g;f.isCurrentlyMutingBucketOwners=c;f.canReload=d;function a(a){return a.data.isLoading()}function b(a){a=a.data;return a.hasValue()?a.getValueEnforcing():[]}function g(a){return a.currentlyMutingBucketOwners}function c(a){return g(a).length!==0}function d(a){return!this.isCurrentlyMutingBucketOwners(a)&&!this.isLoading(a)}}),null);
__d("fbStoriesMutedBucketOwnersReducer",["FBStoriesMutedBucketOwnerHelper","FBStoriesMutedBucketOwnersActionTypes","LoadObject","fbStoriesMutedBucketOwnersSelectors"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(c.type){case b("FBStoriesMutedBucketOwnersActionTypes").LOADING:return babelHelpers["extends"]({},a,{data:b("LoadObject").loading()});case b("FBStoriesMutedBucketOwnersActionTypes").LOADED:return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue(c.data),currentlyMutingBucketOwners:[]});case b("FBStoriesMutedBucketOwnersActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},a,{data:b("LoadObject").withError(new Error(c.error.errorSummary))});case b("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING:var d=a.currentlyMutingBucketOwners,e=a.currentlyMutingBucketOwners.indexOf(c.ownerID);c.value&&e===-1?(d=d.slice(),d.push(c.ownerID)):!c.value&&e!==-1&&(d=d.slice(),d.splice(e,1));return babelHelpers["extends"]({},a,{currentlyMutingBucketOwners:d});case b("FBStoriesMutedBucketOwnersActionTypes").UPDATE_MUTED_OPTIMISTIC:e=b("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(a);var f=c.value;d=!1;var g=e.map(function(a){if(b("FBStoriesMutedBucketOwnerHelper").getId(a)===c.ownerID){var e=babelHelpers["extends"]({},a);d=!0;b("FBStoriesMutedBucketOwnerHelper").setMuted(e,f);return e}else return a});d||(g=e.concat({id:c.ownerID,name:c.ownerName,profilePictureUri:c.ownerProfilePictureUri,muted:f}));return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue(g)});default:return a}}}),null);
__d("FBStoriesMutedBucketOwnersStore",["FBStoriesDispatcher","FluxReduceStore","LoadObject","fbStoriesMutedBucketOwnersReducer"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){return b("fbStoriesMutedBucketOwnersReducer")(a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return{data:b("LoadObject").empty(),currentlyMutingBucketOwners:[]}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("FBStoriesDispatcher"));e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("reselect-3.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.__esModule=!0;g.defaultMemoize=c;g.createSelectorCreator=e;g.createStructuredSelector=h;function a(a,b){return a===b}function b(a,b,c){if(b===null||c===null||b.length!==c.length)return!1;var d=b.length;for(var e=0;e<d;e++)if(!a(b[e],c[e]))return!1;return!0}function c(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,e=null,f=null;return function(){b(d,e,arguments)||(f=c.apply(null,arguments));e=arguments;return f}}function d(a){a=Array.isArray(a[0])?a[0]:a;if(!a.every(function(a){return typeof a==="function"})){var b=a.map(function(a){return typeof a}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+b+"]"))}return a}function e(a){for(var b=arguments.length,e=Array(b>1?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];return function(){for(var b=arguments.length,f=Array(b),g=0;g<b;g++)f[g]=arguments[g];var h=0,i=f.pop(),j=d(f),k=a.apply(void 0,[function(){h++;return i.apply(null,arguments)}].concat(e)),l=c(function(){var a=[],b=j.length;for(var c=0;c<b;c++)a.push(j[c].apply(null,arguments));return k.apply(null,a)});l.resultFunc=i;l.recomputations=function(){return h};l.resetRecomputations=function(){return h=0};return l}}var f=g.createSelector=e(c);function h(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;if(typeof a!=="object")throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof a);var c=Object.keys(a);return b(c.map(function(b){return a[b]}),function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return b.reduce(function(a,b,d){a[c[d]]=b;return a},{})})}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("reselect",["reselect-3.0.1"],(function(a,b,c,d,e,f){e.exports=b("reselect-3.0.1")()}),null);
__d("fbStoriesRootSelectors",["FBStoriesBucketHelper","reselect"],(function(a,b,c,d,e,f){"use strict";a=b("reselect").createSelector;var g=function(a,b,c){return c===0?a:(a=b)!=null?a[c-1]:a};c=function(a){return a.data};d=a([c],function(a){return a.hasValue()?a.getValueEnforcing():{friendsBucketData:[],userBucketData:b("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{userName:"",userID:"",userGender:"",userProfilePic:{uri:""}}}});e=a(c,function(a){return a.isLoading()});f.loading=e;c=a([d],function(a){return a.userBucketData||{}});f.userBucketData=c;e=a([c],function(a){return a&&a.id});var h=a([d],function(a){return a.friendsBucketData||[]});f.friendsBucketData=h;var i=a([h],function(a){return a.map(function(a){return a.id?a.id:""})});f.friendsBucketIds=i;i=a([i,e],function(a,b){return[b].concat(a)});f.bucketIds=i;e=a([d],function(a){return a.userInfo||{}});f.userInfo=e;i=function(a){return a.selectedBucketIndex};d=a([i,c,h],function(b,c,a){return g(c,a,b)});f.selectedBucket=d;e=a([d],function(a){return a&&a.id});f.selectedBucketId=e;i=a(c,function(a){return b("FBStoriesBucketHelper").isUploading(a)});f.uploading=i;d=a([h,c],function(a,c){c=[c].concat(a);return c.reduce(function(a,c){if(!c||!c.id)return a;if(!b("FBStoriesBucketHelper").hasData(c))return a;c={bucketID:b("FBStoriesBucketHelper").getId(c),cameraPostType:b("FBStoriesBucketHelper").getCameraPostType(c),owner:b("FBStoriesBucketHelper").getOwner(c),previewImageUri:b("FBStoriesBucketHelper").getPreviewImage(c),profileImageUri:b("FBStoriesBucketHelper").getOwnerProfilePictureUri(c),hasUnseenThreads:b("FBStoriesBucketHelper").hasUnseenThreads(c),hasNewViewers:b("FBStoriesBucketHelper").hasNewViewers(c),ownedByViewer:b("FBStoriesBucketHelper").isUserBucket(c),isLive:b("FBStoriesBucketHelper").isLive(c),latestThreadCreationTime:b("FBStoriesBucketHelper").getLatestThreadCreationTime(c),actorName:b("FBStoriesBucketHelper").getOwnerName(c,!0),actorShortName:b("FBStoriesBucketHelper").getOwnerName(c),actorGender:b("FBStoriesBucketHelper").getOwnerGender(c)};return a.concat([c])},[])});f.bucketDescriptors=d}),null);
__d("fbStoriesStateSelectors",["FBStoriesBucketHelper","fbStoriesRootSelectors"],(function(a,b,c,d,e,f){"use strict";a=function(a,b){b=h(a,b);return g(a,b)};f.bucketByBucketId=a;var g=function(a,c){return c===0?b("fbStoriesRootSelectors").userBucketData(a):(a=b("fbStoriesRootSelectors").friendsBucketData(a))!=null?a[c-1]:a};f.bucketByIndex=g;var h=function(a,c){a=b("fbStoriesRootSelectors").bucketIds(a);return a.indexOf(c)};f.bucketIndexByBucketId=h;c=function(a,c){return(c!=void 0?c:b("fbStoriesRootSelectors").selectedBucketId(a))===b("FBStoriesBucketHelper").getId(b("fbStoriesRootSelectors").userBucketData(a))};f.isOwnBucket=c;d=function(a){return a.isProductionDialogLoading};f.isProductionDialogLoading=d}),null);
__d("friendsBucketSorter",["CameraPostTypesHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b,c){var d=b.live_video&&b.live_video.id,e=c.live_video&&c.live_video.id;if(d!==e)return d?-1:1;if(g(b,c))return i(b)?-1:1;if(h(b,c))return j(b)?-1:1;if(k(b,c,a))return l(b,a)?-1:1;e=n(b);d=n(c);return e===d?0:e>d?-1:1}}function g(a,b){return m(a,b,i)}function h(a,b){return m(a,b,j)}function i(a){return a.unseen_count>0}function j(a){return b("CameraPostTypesHelper").isEventStory(a.camera_post_type)}function k(a,b,c){return l(a,c)!==l(b,c)}function l(a,b){a=((a=a)!=null?(a=a.threads)!=null?a.nodes:a:a)||[];for(var c=0;c<a.length;c++){var d;d=(d=a[c])!=null?(d=d.camera_post_thread_owner)!=null?d.id:d:d;if(d===b)return!0}return!1}function m(a,b,c){a=c(a);c=c(b);return a!=c}function n(a){return((a=a)!=null?(a=a.ranking)!=null?a.score:a:a)||0}}),null);
__d("FBStoriesStore",["CameraPostMediaHelper","FBStoriesActionTypes","FBStoriesBucketHelper","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesGating","FBStoriesLiveVideoActionTypes","FBStoriesMutedBucketOwnersStore","FBStoriesReactionStickerConstants","FBStoriesThreadHelper","FluxReduceStore","LoadObject","fbStoriesMutedBucketOwnersSelectors","fbStoriesRootSelectors","fbStoriesStateSelectors","friendsBucketSorter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){switch(c.type){case b("FBStoriesActionTypes").LOADING:return babelHelpers["extends"]({},a,{data:b("LoadObject").loading()});case b("FBStoriesActionTypes").LOADED:var e=c.data,f=e.userInfo;e=e.userBucketData;var g=c.data.friendsBucketData;g=b("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(g,d.$FBStoriesStore1(),d.isOwnBucket(d.getSelectedBucketId()));return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userInfo:f,userBucketData:e,friendsBucketData:g})});case b("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD:var h=c.data.node;f=babelHelpers["extends"]({},d.getUserBucketData(),{threads:{nodes:d.$FBStoriesStore2().map(function(a){if(b("FBStoriesThreadHelper").getId(a)===c.threadID){var d,e=babelHelpers["extends"]({},a);(d=b("FBStoriesThreadHelper")).setFriendsSeenCount(e,d.getFriendsSeenCount(h));d.setNonFriendsSeenCount(e,d.getNonFriendsSeenCount(h));d.setViewers(e,d.getViewers(h));return e}return a})}});return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:f,userInfo:d.getUserInfo(),friendsBucketData:d.getFriendsBucketData()})});case b("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE:var i=c.bucketData;e=b("FBStoriesBucketHelper").getOwnerId(i);if(d.isMutedBucketOwner(e))return a;g=b("FBStoriesBucketHelper").getThreads(i);var j=g.length>0||d.$FBStoriesStore3(i),k=b("FBStoriesBucketHelper").getId(i);f=b("fbStoriesRootSelectors").friendsBucketData(a);e=!1;g=f.reduce(function(a,c){b("FBStoriesBucketHelper").getId(c)===k?(e=!0,j&&a.push(i)):a.push(c);return a},[]);!e&&j&&(g=[i].concat(f));g=b("FBStoriesDataHelper").getFriendsDataWithEndedLiveBucket(g,b("fbStoriesRootSelectors").selectedBucket(a),b("fbStoriesStateSelectors").isOwnBucket(a,b("fbStoriesRootSelectors").selectedBucketId(a)));f=b("FBStoriesGating").shouldUseTrayMigration();f||g.sort(b("friendsBucketSorter")(b("fbStoriesRootSelectors").userInfo(a).userID));return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:b("fbStoriesRootSelectors").userBucketData(a),userInfo:b("fbStoriesRootSelectors").userInfo(a),friendsBucketData:g})});case b("FBStoriesActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},a,{data:b("LoadObject").withError(new Error(c.error.message))});case b("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY:return babelHelpers["extends"]({},a,{lastViewedThreadIndexForBucket:new Map()});case b("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED:f=c.bucketIndex;return f<0||f>=d.getBucketCount()?a:babelHelpers["extends"]({},a,{selectedBucketIndex:f});case b("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED:g=d.getThreadCountForSelectedBucket();if(!d.isSelectedBucketLive()&&(c.index<0||c.index>=g))return a;f=new Map(a.lastViewedThreadIndexForBucket);f.set(d.getSelectedBucketIndex(),c.index);return babelHelpers["extends"]({},a,{lastViewedThreadIndexForBucket:f,currentThreadIndex:c.index});case b("FBStoriesActionTypes").SELECTED_THREAD_PERCENT_DONE:g=Math.min(100,Math.max(c.percentDone,0));return babelHelpers["extends"]({},a,{currentThreadPercentDone:g});case b("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED:f=c.value;return f===a.allBucketsViewed?a:babelHelpers["extends"]({},a,{allBucketsViewed:f,unseenMode:a.unseenMode&&f?!1:a.unseenMode});case b("FBStoriesActionTypes").SET_UNSEEN_MODE:return babelHelpers["extends"]({},a,{unseenMode:c.value});case b("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC:var l=d.getSelectedBucketId()?d.getSelectedBucketId():c.bucketID;g=function(a){if(b("FBStoriesBucketHelper").getId(a)===l){var e=b("FBStoriesBucketHelper").getUnseenCount(a),f=d.$FBStoriesStore4(a).map(function(a){if(b("FBStoriesThreadHelper").getId(a)===c.threadID){b("FBStoriesThreadHelper").isSeenByViewer(a)||(e=Math.max(e-1,0));var d=babelHelpers["extends"]({},a);b("FBStoriesThreadHelper").setIsSeenByViewer(d,!0);return d}else return a}),g=babelHelpers["extends"]({},a);b("FBStoriesBucketHelper").setUnseenCount(g,e);b("FBStoriesBucketHelper").setThreads(g,f);return g}else return a};f=d.isOwnBucket()?g(d.getUserBucketData()):d.getUserBucketData();g=d.isOwnBucket()?d.getFriendsBucketData():d.getFriendsBucketData().map(g);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:f,friendsBucketData:g,userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC:f=babelHelpers["extends"]({},d.getUserBucketData(),{threads:{nodes:d.$FBStoriesStore2().map(function(a){if(b("FBStoriesThreadHelper").getId(a)===c.threadID){var d=babelHelpers["extends"]({},a);b("FBStoriesThreadHelper").setSeenReceiptsLastSeenTime(d,Date.now());b("FBStoriesThreadHelper").setSeenReceiptsUnseenCount(d,0);b("FBStoriesThreadHelper").setSeenReceiptsFollowersUnseenCount(d,0);return d}else return a})}});return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:f,userInfo:d.getUserInfo(),friendsBucketData:d.getFriendsBucketData()})});case b("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET:var m=c.threadID,n=c.bucketID;if(!d.isUserManagedThread(m,n))return a;g=d.getUserBucketData();f=null;n===b("FBStoriesBucketHelper").getId(g)?(b("FBStoriesBucketHelper").setThreads(g,d.$FBStoriesStore4(g).filter(function(a){return b("FBStoriesThreadHelper").getId(a)!==m})),f=d.getFriendsBucketData()):f=d.getFriendsBucketData().map(function(a){if(b("FBStoriesBucketHelper").getId(a)===n){var c=d.$FBStoriesStore4(a).filter(function(a){return b("FBStoriesThreadHelper").getId(a)!==m}),e=babelHelpers["extends"]({},a);b("FBStoriesBucketHelper").setThreads(e,c);return e}else return a}).filter(function(a){return d.$FBStoriesStore4(a).length>0});var o=a.lastViewedThreadIndexForBucket;m===d.getCurrentThreadIDForSelectedBucket()&&(o=new Map(o),o.set(d.getSelectedBucketIndex(),void 0));return babelHelpers["extends"]({},a,{lastViewedThreadIndexForBucket:o,data:b("LoadObject").withValue({userBucketData:g,friendsBucketData:f,userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").REMOVE_BUCKET:var p=c.bucketID;o=d.getFriendsBucketData().filter(function(a){return b("FBStoriesBucketHelper").getId(a)!==p});return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:d.getUserBucketData(),friendsBucketData:o,userInfo:d.getUserInfo()})});case b("FBStoriesLiveVideoActionTypes").LIVE_BUCKET_LOADED:g=c.data;f=b("FBStoriesDataHelper").getFriendsBucketDataFromLoadedObject(g);o=[].concat(d.getFriendsBucketData());g=f.reduce(function(a,c){d.$FBStoriesStore3(c)&&d.getBucketIndexByBucketId(b("FBStoriesBucketHelper").getId(c))===-1&&a.push(c);return a},o);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:d.getUserBucketData(),userInfo:d.getUserInfo(),friendsBucketData:g})});case b("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET:var q=c.bucketID;f=d.getFriendsBucketData().map(function(a){b("FBStoriesBucketHelper").getId(a)===q&&(b("FBStoriesBucketHelper").setLiveVideo(a,null),b("FBStoriesBucketHelper").setHasLiveVideoEnded(a,!1));return a});return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:d.getUserBucketData(),friendsBucketData:f,userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING:o=new Map(d.getState().isCommercialBreakRunning);return babelHelpers["extends"]({},a,{isCommercialBreakRunning:o.set(c.videoID,c.isCommercialBreakRunning)});case b("FBStoriesActionTypes").UNSELECT_BUCKET:return babelHelpers["extends"]({},a,{selectedBucketIndex:-1,currentThreadIndex:-1});case b("FBStoriesActionTypes").SET_VIEWER_OPEN:return babelHelpers["extends"]({},a,{isViewerOpen:c.value,viewerEntrypoint:c.entrypoint});case b("FBStoriesActionTypes").SET_USER_BUCKET_UPLOAD_STATUS:g=babelHelpers["extends"]({},d.getUserBucketData());b("FBStoriesBucketHelper").setUploading(g,c.isUploading);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:g,friendsBucketData:d.getFriendsBucketData(),userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").OPTIMISTIC_CREATE_PHOTO_STORY:f=b("FBStoriesThreadHelper").makeOptimisticPhotoThread(c.imageURL);o=babelHelpers["extends"]({},d.getUserBucketData());b("FBStoriesBucketHelper").addThreadToBucket(o,f);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:o,friendsBucketData:d.getFriendsBucketData(),userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").RESET_STATE:return babelHelpers["extends"]({},d.getInitialState());case b("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN:return babelHelpers["extends"]({},a,{subscriptionToken:c.token});case b("FBStoriesActionTypes").OPTIMISTIC_POLL_VOTE:var r=c.index,s=d.getSelectedBucketId();g=function(a){if(b("FBStoriesBucketHelper").getId(a)===s){var c=d.$FBStoriesStore4(a).map(function(a){if(b("FBStoriesThreadHelper").getId(a)===d.getCurrentThreadIDForSelectedBucket()){var c,e=babelHelpers["extends"]({},a);(((c=e)!=null?(c=c.root_message)!=null?c.story_overlays:c:c)||[]).map(function(a){if(a.__typename==="StoryOverlayPollSticker"){var b=a.poll,c=babelHelpers["extends"]({},b);c.viewer_vote_index=r;c.poll_options=[].concat(b.poll_options);b=c.poll_options[r];b!==void 0&&(b.vote_count+=1);a.poll=c}return a});return e}else return a}),e=babelHelpers["extends"]({},a);b("FBStoriesBucketHelper").setThreads(e,c);return e}else return a};f=d.isOwnBucket()?g(d.getUserBucketData()):d.getUserBucketData();o=d.isOwnBucket()?d.getFriendsBucketData():d.getFriendsBucketData().map(g);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:f,friendsBucketData:o,userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").TAP_ON_REACTION_STICKER:var t=c.stickerID,u=c.count,v=d.getUserInfo().userID,w=!1,x=d.getSelectedBucketId();g=function(a){if(b("FBStoriesBucketHelper").getId(a)===x){var c=d.$FBStoriesStore4(a).map(function(a){if(b("FBStoriesThreadHelper").getId(a)===d.getCurrentThreadIDForSelectedBucket()){var c,e=babelHelpers["extends"]({},a);(((c=e)!=null?(c=c.root_message)!=null?c.story_overlays:c:c)||[]).map(function(a){if(a.__typename===b("FBStoriesReactionStickerConstants").StoryOverlayReactionSticker&&a.reaction_sticker.id===t){var c=a.reaction_sticker.sticker_reactions.nodes;for(var d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(v===g.reactor.id){g.reaction_count+=u;w=!0;break}}w||c.push({reaction_count:u,reactor:{id:v}})}return a});return e}else return a}),e=babelHelpers["extends"]({},a);b("FBStoriesBucketHelper").setThreads(e,c);return e}else return a};f=d.isOwnBucket()?g(d.getUserBucketData()):d.getUserBucketData();o=d.isOwnBucket()?d.getFriendsBucketData():d.getFriendsBucketData().map(g);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:f,friendsBucketData:o,userInfo:d.getUserInfo()})});case b("FBStoriesActionTypes").SET_IS_PRODUCTION_DIALOG_LOADING:return babelHelpers["extends"]({},a,{isProductionDialogLoading:c.value});case b("FBStoriesActionTypes").APPROVE_PENDING_THREAD:var y=c.bucketID,z=c.threadID;g=d.getFriendsBucketData().map(function(a){if(b("FBStoriesBucketHelper").getId(a)===y){var c=b("FBStoriesBucketHelper").getPendingThreads(a),e=c.findIndex(function(a){return b("FBStoriesThreadHelper").getId(a)===z});if(e===-1)return a;var f=c[e];c.splice(e,1);b("FBStoriesBucketHelper").setPendingThreads(a,c);e=b("FBStoriesThreadHelper").getTime(f);c=d.$FBStoriesStore4(a);var g=0;if(c.length===0)c.push(f);else for(g=c.length-1;g>=0;g--){var h=b("FBStoriesThreadHelper").getTime(c[g]);if(e>h){c.splice(g+1,0,f);break}else g===0&&c.splice(0,0,f)}b("FBStoriesBucketHelper").setThreads(a,c);h=babelHelpers["extends"]({},a);return h}return a});return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({userBucketData:d.getUserBucketData(),friendsBucketData:g,userInfo:d.getUserInfo()})});default:return a}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return{data:b("LoadObject").empty(),selectedBucketIndex:-1,currentThreadIndex:-1,currentThreadPercentDone:0,unseenMode:!1,allBucketsViewed:!1,lastViewedThreadIndexForBucket:new Map(),isProductionDialogLoading:!1,isCommercialBreakRunning:new Map(),isViewerOpen:!1,subscriptionToken:null,viewerEntrypoint:null}};d.$FBStoriesStore5=function(){var a=this.getState().data;return a.hasValue()?a.getValueEnforcing():{friendsBucketData:[],userBucketData:b("FBStoriesBucketHelper").getDefaultBucket(),userInfo:{userName:"",userID:"",userGender:"",userProfilePic:{uri:""}}}};d.getUserBucketData=function(){return this.$FBStoriesStore5().userBucketData||{}};d.getUserInfo=function(){return this.$FBStoriesStore5().userInfo||{}};d.getFriendsBucketData=function(){return this.$FBStoriesStore5().friendsBucketData||[]};d.isMutedBucketOwner=function(a){var c=b("FBStoriesMutedBucketOwnersStore").getState();c=b("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(c);return c.find(function(b){return b.id===a})!==void 0};d.isLoading=function(){return this.getState().data.isLoading()};d.getBucketIds=function(){var a=this.getFriendsBucketData().map(function(a){return a.id?a.id:""}),b=this.getUserBucketData().id||"";return[b].concat(a)};d.getSelectedBucketIndex=function(){return this.getState().selectedBucketIndex};d.getSelectedBucketId=function(){return this.getBucketIds()[this.getSelectedBucketIndex()]};d.areAllBucketsViewed=function(){return this.getState().allBucketsViewed};d.getCameraPostTypeForBucketId=function(a){return b("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore6(a))};d.doesBucketContainThreadId=function(a,c){a=this.$FBStoriesStore6(a);a=b("FBStoriesBucketHelper").getThreads(a);return a.find(function(a){return b("FBStoriesThreadHelper").getId(a)===c})!==void 0};d.$FBStoriesStore6=function(a){return this.getBucketByIndex(this.getBucketIndexByBucketId(a))};d.getBucketIndexByBucketId=function(a){return this.getBucketIds().indexOf(a)};d.getSelectedBucketCameraPostType=function(){return b("FBStoriesBucketHelper").getCameraPostType(this.$FBStoriesStore1())};d.getSelectedBucketOwner=function(){return b("FBStoriesBucketHelper").getOwner(this.$FBStoriesStore1())};d.getSelectedBucketOwnerID=function(){return b("FBStoriesBucketHelper").getOwnerId(this.$FBStoriesStore1())};d.getSelectedBucketUnseenCount=function(){return b("FBStoriesBucketHelper").getUnseenCount(this.$FBStoriesStore1())};d.getThreadsForSelectedBucket=function(){return this.$FBStoriesStore4(this.$FBStoriesStore1())};d.getCurrentThreadIndexForSelectedBucket=function(){return this.getState().currentThreadIndex};d.getCurrentThreadIDForSelectedBucket=function(){return b("FBStoriesThreadHelper").getId(this.getCurrentThreadForSelectedBucket())};d.getCurrentThreadStatusForSelectedBucket=function(){return b("FBStoriesThreadHelper").getStatus(this.getCurrentThreadForSelectedBucket())};d.getCurrentThreadCameraPostTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?"STORY":b("FBStoriesThreadHelper").getCameraPostType(this.getCurrentThreadForSelectedBucket())};d.getCurrentThreadMediaTypeForSelectedBucket=function(){return this.isSelectedBucketLive()?"live":b("FBStoriesThreadHelper").getMediaType(this.getCurrentThreadForSelectedBucket())};d.getFeedTrackingData=function(a){var b={};b.is_fb_story=!0;b.media_id=this.getCurrentThreadMediaIDForSelectedBucket();b.camera_post_type=this.getSelectedBucketCameraPostType();b.story_owner_fbid=this.getSelectedBucketOwnerID();b.story_owner_type=this.getSelectedBucketOwnerType();b.story_size=this.getThreadCountForSelectedBucket();b.new_content_size=this.getSelectedBucketUnseenCount();b.bucket_index=this.getSelectedBucketIndex();b.event=a;b.bucket_ids=this.getBucketIds();a=this.getUserBucketData();a&&(b.bucket_data=a);a=this.getCurrentThreadData();a&&(b.thread_data=a);return b};d.getCurrentThreadMediaIDForSelectedBucket=function(){if(this.isSelectedBucketLive()){var a=this.getThreadDataForSelectedLiveBucket();return a&&a.media.id}return b("FBStoriesThreadHelper").getMediaId(this.getCurrentThreadForSelectedBucket())};d.getCurrentThreadMediaViewerCountForSelectedBucket=function(){var a=this.getCurrentThreadForSelectedBucket();return b("FBStoriesThreadHelper").getSeenCount(a)};d.getCurrentThreadForSelectedBucket=function(){return this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()]};d.getCurrentThreadData=function(){return this.isSelectedBucketLive()?this.getThreadDataForSelectedLiveBucket():this.$FBStoriesStore7(this.getState().currentThreadIndex)};d.shouldDisableReply=function(){var a=this.isOwnThread(),c=b("FBStoriesBucketHelper").isViewerFriendOfOwner(this.$FBStoriesStore1()),d=b("FBStoriesThreadHelper").isViewerFriendOfOwner(this.getCurrentThreadForSelectedBucket());return a||!c&&!d||this.isSelectedBucketLive()};d.getNonFriendsSeenCount=function(){return b("FBStoriesThreadHelper").getNonFriendsSeenCount(this.getCurrentThreadForSelectedBucket())};d.getFriendsSeenCount=function(){return b("FBStoriesThreadHelper").getFriendsSeenCount(this.getCurrentThreadForSelectedBucket())};d.isOwnBucket=function(a){return(a!=void 0?a:this.getSelectedBucketId())===b("FBStoriesBucketHelper").getId(this.getUserBucketData())};d.isOwnThread=function(){if(this.isOwnBucket())return!0;var a=this.getCurrentThreadForSelectedBucket();a=b("FBStoriesThreadHelper").getOwnerId(a);return a===this.getUserInfo().userID};d.isBucketViewerEventHost=function(){var a=this.$FBStoriesStore1();return b("FBStoriesBucketHelper").isViewerEventHost(a)};d.isCurrentThreadUserManaged=function(){return this.isUserManagedThread(this.getCurrentThreadIDForSelectedBucket()||"",this.getSelectedBucketId())};d.canUserReportCurrentThreadToFacebook=function(){return this.canUserReportThreadToFacebook(this.getCurrentThreadIDForSelectedBucket()||"",this.getSelectedBucketId())};d.isCurrentBucketUserManaged=function(){return this.isUserManagedBucket(this.getSelectedBucketId())};d.isUserManagedThread=function(a,c){var d=this.$FBStoriesStore6(c);if(!d)return!1;a=this.$FBStoriesStore8(a,d);d=b("FBStoriesThreadHelper").getOwnerId(a);return a&&d===this.getUserInfo().userID||this.isUserManagedBucket(c)};d.canUserReportThreadToFacebook=function(a,c){c=this.$FBStoriesStore6(c);if(!c)return!1;a=this.$FBStoriesStore8(a,c);return a===null?!1:b("FBStoriesThreadHelper").getOwnerId(a)!==this.getUserInfo().userID&&!b("FBStoriesBucketHelper").isViewerEventHost(c)&&!b("FBStoriesBucketHelper").isViewerPageContentAdmin(c)};d.isUserManagedBucket=function(a){a=this.$FBStoriesStore6(a);return!a?!1:b("FBStoriesBucketHelper").getId(a)===b("FBStoriesBucketHelper").getId(this.getUserBucketData())||b("FBStoriesBucketHelper").isViewerEventHost(a)||b("FBStoriesBucketHelper").isViewerPageContentAdmin(a)||b("FBStoriesBucketHelper").isViewerGroupModerator(a)||b("FBStoriesBucketHelper").isViewerGroupAdmin(a)};d.canSeeCurrentThreadViewCount=function(){return this.isOwnThread()&&!this.isSelectedBucketLive()||this.isCurrentBucketPageAdmin()};d.canOpenCurrentThreadViewerSheet=function(){return this.isOwnThread()&&!this.isSelectedBucketLive()};d.isCurrentBucketGroupAdmin=function(){return this.isGroupAdminBucket(this.getSelectedBucketId())};d.isCurrentBucketPageAdmin=function(){return this.isPageAdminBucket(this.getSelectedBucketId())};d.isGroupAdminBucket=function(a){a=this.$FBStoriesStore6(a);return!a?!1:b("FBStoriesBucketHelper").isViewerGroupModerator(a)||b("FBStoriesBucketHelper").isViewerGroupAdmin(a)};d.isPageAdminBucket=function(a){a=this.$FBStoriesStore6(a);return!a?!1:b("FBStoriesBucketHelper").isViewerPageContentAdmin(a)};d.isCurrentThreadReviewStatusPending=function(){var a=this.getThreadsForSelectedBucket()[this.getCurrentThreadIndexForSelectedBucket()];return b("FBStoriesThreadHelper").isReviewStatusPending(a)};d.hasPendingThreads=function(){var a=this.$FBStoriesStore6(this.getSelectedBucketId());return!a?!1:b("FBStoriesBucketHelper").hasPendingThreads(a)};d.getBucketCount=function(){return this.getFriendsBucketData().length+1};d.hasDataInSelectedBucket=function(){return b("FBStoriesBucketHelper").hasData(this.$FBStoriesStore1())};d.hasOwnBucketViewers=function(){return this.userBucketIsLive()?!1:b("FBStoriesBucketHelper").hasNewViewers(this.getUserBucketData())};d.hasOwnBucketUpdates=function(){return this.userBucketIsLive()?!1:b("FBStoriesBucketHelper").hasUnseenThreads(this.getUserBucketData())};d.hasOwnBucketContent=function(){return this.$FBStoriesStore2().length>0||this.userBucketIsLive()};d.getCurrentThreadPercentDone=function(){return this.getState().currentThreadPercentDone};d.getThreadCountForSelectedBucket=function(){return this.getThreadsForSelectedBucket().length};d.userBucketIsLive=function(){return this.$FBStoriesStore3(this.getUserBucketData())};d.isSelectedBucketLive=function(){return this.$FBStoriesStore3(this.$FBStoriesStore1())};d.getSelectedBucketOwnerType=function(){return b("FBStoriesBucketHelper").getLoggingType(this.$FBStoriesStore1())};d.$FBStoriesStore3=function(a){return b("FBStoriesBucketHelper").isLive(a)};d.getCurrentThreadViewers=function(){var a={hasNewViewers:!1,hasNewFriendViewers:!1,hasNewConnectionsViewers:!1,friends:[],connections:[],totalCount:0,totalNew:0,nonFriendsCount:0};if(!this.canSeeCurrentThreadViewCount())return a;var c=this.getCurrentThreadForSelectedBucket(),d=b("FBStoriesThreadHelper").getViewers(c),e=this.getUserInfo().userID,f=b("FBStoriesThreadHelper").getReactionStickersReactors(c);a=d.reduce(function(a,d){var g=b("FBStoriesThreadHelper").getStoryViewerId(d);if(!g)return a;if(g!==e){var h;h=((h=d)!=null?(h=h.node)!=null?h.is_viewer_friend:h:h)||!1;var i=h?"friends":"connections",j=b("FBStoriesThreadHelper").getStoryViewerSeenTime(d),k=b("FBStoriesThreadHelper").getStoryViewerReactions(d),l=j>=b("FBStoriesThreadHelper").getSeenReceiptsLastSeenTime(c);a[i].push(babelHelpers["extends"]({},d.node,{seenTime:j,isNewViewer:l,reactions:k,reactionStickers:f[g]}));a.totalNew+=l?1:0;a.hasNewViewers=a.hasNewViewers||l;a.hasNewFriendViewers=a.hasNewFriendViewers||l&&h;a.hasNewConnectionsViewers=a.hasNewViewers||l&&!h}return a},a);var g=this.getNonFriendsSeenCount();return Object.assign(a,{totalCount:g+d.length,nonFriendsCount:g})};d.isUnseenMode=function(){return this.getState().unseenMode};d.getThreadCount=function(a){var b=this.getBucketByIndex(a);if(this.$FBStoriesStore3(b))return 0;if(a===0){var c=this.$FBStoriesStore4(this.getUserBucketData());return c.length}if(a>0){c=this.$FBStoriesStore4(b);return c.length}return-1};d.getUnseenThreadIndex=function(a){return b("FBStoriesBucketHelper").getUnseenThreadIndex(this.getBucketByIndex(a))};d.getAllowedNavigationType=function(){var a=this.getSelectedBucketIndex(),c=a===0||a==1&&!b("FBStoriesBucketHelper").hasData(this.getUserBucketData());a=a===this.getBucketCount()-1;c=c&&this.getCurrentThreadIndexForSelectedBucket()==0;a=a&&this.getCurrentThreadIndexForSelectedBucket()===this.getThreadsForSelectedBucket().length-1;if(c)return"NEXT_ONLY";return a?"PREV_ONLY":"BOTH"};d.hasSeenBucketInCurrentSession=function(a){var b=this.getState().lastViewedThreadIndexForBucket;return b.get(a)!==void 0};d.getLastSeenThreadIndexForBucket=function(a){var b=this.getState().lastViewedThreadIndexForBucket;b=b.get(a);return b==void 0?0:b};d.$FBStoriesStore2=function(){return this.$FBStoriesStore4(this.getUserBucketData())};d.$FBStoriesStore1=function(){return this.getBucketByIndex(this.getSelectedBucketIndex())};d.getBucketByIndex=function(a){var b;return a===0?this.getUserBucketData():(b=this.getFriendsBucketData())!=null?b[a-1]:b};d.$FBStoriesStore8=function(a,b){b=this.$FBStoriesStore4(b);b=b.filter(function(b){return b.id===a});return b.length>0?b[0]:null};d.$FBStoriesStore4=function(a){return b("FBStoriesBucketHelper").getThreads(a)};d.$FBStoriesStore7=function(a){var c=this.getSelectedBucketOwner();a=this.getThreadsForSelectedBucket()[a];if(!a)return null;var d=b("FBStoriesThreadHelper").getMedia(a),e=b("FBStoriesThreadHelper").getWWWTextFormatMetadata(a),f=b("FBStoriesThreadHelper").getTextFormatMetadata(a),g=b("FBStoriesThreadHelper").getBackdropImage(a),h=b("FBStoriesThreadHelper").getMessageText(a),i=b("FBStoriesThreadHelper").getMessageRanges(a),j=b("FBStoriesThreadHelper").getDelightRanges(a),k=b("FBStoriesThreadHelper").getIsPlainText(a),l=b("FBStoriesThreadHelper").getOriginalPostStoryAttribution(a);return{isLive:!1,media:d,bucketOwner:c,threadOwner:b("FBStoriesThreadHelper").getOwner(a)||{name:null,id:null,is_viewer_friend:!1,profile_picture:null},participants:[],isSeen:b("FBStoriesThreadHelper").isSeenByViewer(a),latestMessageID:b("FBStoriesThreadHelper").getLatestMessageID(a),time:b("FBStoriesThreadHelper").getTime(a),threadID:b("FBStoriesThreadHelper").getId(a),cameraPostType:b("FBStoriesThreadHelper").getCameraPostType(a),cameraPostSource:b("FBStoriesThreadHelper").getCameraPostSource(a),wwwTextFormatMetadata:e,messageText:h,messageRanges:i,delightRanges:j,textFormatMetadata:f,backdropImage:g,isPlainText:k,originalPostStoryAttribution:l,activityDescription:b("FBStoriesThreadHelper").getActivityDescription(a),withTags:b("FBStoriesThreadHelper").getWithTags(a),explicitLocation:b("FBStoriesThreadHelper").getExplicitLocation(a),inlineActivities:b("FBStoriesThreadHelper").getInlineActivities(a),defaultBackground:b("FBStoriesThreadHelper").getDefaultBackground(a),linkAttachment:b("FBStoriesThreadHelper").getLinkAttachment(a),mediaBackground:b("FBStoriesThreadHelper").getMediaBackground(a),negativeFeedbackActions:b("FBStoriesThreadHelper").getNegativeFeedbackActions(a)}};d.getThreadDataForSelectedLiveBucket=function(){var a=this.$FBStoriesStore1();return this.$FBStoriesStore9(a)};d.$FBStoriesStore9=function(a){if(!a)return null;var c=b("FBStoriesBucketHelper").getLiveVideo(a);if(!c||!this.$FBStoriesStore3(a))return null;var d=this.getSelectedBucketOwner();return{isLive:!0,media:c,bucketOwner:d,isSeen:!1,cameraPostType:b("FBStoriesBucketHelper").getCameraPostType(a)}};d.isSelectedBucketLiveAndEnded=function(){return this.isSelectedBucketLive()&&b("FBStoriesBucketHelper").hasLiveVideoEnded(this.$FBStoriesStore1())};d.getIsCommercialBreakRunning=function(a){return!!this.getState().isCommercialBreakRunning.get(a)};d.getVideoMediaIdForBucketIndexAndThreadIndex=function(a,c){a=this.getBucketByIndex(a);if(!a)return null;if(this.$FBStoriesStore3(a)){var d=this.$FBStoriesStore9(a);return(d=d)!=null?(d=d.media)!=null?d.id:d:d}d=this.$FBStoriesStore4(a);if(c<0||c>=d.length)return null;a=b("FBStoriesThreadHelper").getMedia(d[c]);if(!a)return null;return!b("CameraPostMediaHelper").isVideo(a)?null:a.id};d.isViewerOpen=function(){return this.getState().isViewerOpen};d.getCurrentViewerEntrypoint=function(){return this.getState().viewerEntrypoint};d.getCurrentThreadOverlays=function(){return b("FBStoriesThreadHelper").getStoryOverlays(this.getCurrentThreadForSelectedBucket())};d.isProductionDialogLoading=function(){return this.getState().isProductionDialogLoading};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("FBStoriesDispatcher"));e.exports=c}),null);
__d("FBStoriesMutedBucketOwnersActions",["CurrentUser","FBLogger","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","FBStoriesMutedBucketOwnersActionTypes","FBStoriesMutedBucketOwnersStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("FBStoriesDispatcher").dispatch;a=function(){function a(){this.setBucketOwnerMuted=function(a,c,d,e){b("promiseDone")(b("FBStoriesGraphQLAPI").muteBucketOwner(b("CurrentUser").getID(),a,e),function(){g({type:b("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING,ownerID:a,value:!1})},function(){b("FBLogger")("fbstories").mustfix("failed to mute bucket with owner id: %s",a)}),g({type:b("FBStoriesMutedBucketOwnersActionTypes").SET_IS_CURRENTLY_MUTING,ownerID:a,value:!0}),g({type:b("FBStoriesMutedBucketOwnersActionTypes").UPDATE_MUTED_OPTIMISTIC,ownerID:a,ownerName:c,ownerProfilePictureUri:d,value:e})},b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesMutedBucketOwnersStore")])}var c=a.prototype;c.loadMutedOwners=function(){g({type:b("FBStoriesMutedBucketOwnersActionTypes").LOADING}),b("promiseDone")(b("FBStoriesGraphQLAPI").loadMutedBucketOwnersList(),function(a){g({type:b("FBStoriesMutedBucketOwnersActionTypes").LOADED,data:b("FBStoriesDataHelper").getMutedBucketOwnersFromLoadedQuery(a)})},function(){b("FBLogger")("fbstories").mustfix("failed to load muted bucket owners for: %s",b("CurrentUser").getID())})};return a}();c=new a();e.exports=c}),null);
__d("FBStoriesActionsHelper",["FBStoriesStore","nullthrows"],(function(a,b,c,d,e,f){"use strict";f.checkAllBucketsViewed=i;f.resetNavMap=a;f.getNextBucketAndThreadIndex=c;var g={},h=function(a,c){var d=c?a+1:a-1,e=0,f=b("FBStoriesStore").getLastSeenThreadIndexForBucket(a),h=b("FBStoriesStore").hasSeenBucketInCurrentSession(a),j=g[a];if(!j)j={prev:null,next:null,curThreadIdx:f},g[a]=j;else{h&&(j.curThreadIdx=f);h=j.next!=null?g[j.next]:null;f=j.prev!=null?g[j.prev]:null;if(c&&h!=null&&h.curThreadIdx!=null){h.prev=a;return{nextBucketIndex:b("nullthrows")(j.next),nextThreadIndex:h.curThreadIdx}}else if(!c&&f!=null&&f.curThreadIdx!=null){f.next=a;return{nextBucketIndex:b("nullthrows")(j.prev),nextThreadIndex:f.curThreadIdx}}}h=!1;while(h===!1&&!i(d))e=b("FBStoriesStore").getUnseenThreadIndex(d),h=e>=0,h||(d=c?d+1:d-1);if(h){c?b("nullthrows")(j).next=d:b("nullthrows")(j).prev=d;f=g[d];f||(g[d]={prev:null,next:null,curThreadIdx:e},f=g[d]);c?b("nullthrows")(f).prev=a:b("nullthrows")(f).next=a}return{nextBucketIndex:d,nextThreadIndex:e}};function i(a){var c=b("FBStoriesStore").getBucketCount();return a>=c||a<0}function a(){g={}}function c(a,c){var d=c?a+1:a-1,e=0;if(b("FBStoriesStore").isUnseenMode()){a=h(a,c);d=a.nextBucketIndex;e=a.nextThreadIndex}else c||(e=b("FBStoriesStore").getLastSeenThreadIndexForBucket(d));return{nextBucketIndex:d,nextThreadIndex:e}}}),null);
__d("FBStoriesDataHelper",["CameraPostTypesHelper","CurrentUser","FBLogger","FBStoriesActionTypes","FBStoriesActions","FBStoriesBucketHelper","FBStoriesDispatcher","FBStoriesGating","FBStoriesGraphQLAPI","dotAccess","friendsBucketSorter","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.getBucketsDataFromLoadedObject=g;f.hasData=a;f.getFriendsBucketDataFromLoadedObject=h;f.getUserDataNodesFromLoadedObject=i;f.getUserInfoFromLoadedObject=j;f.getFriendsDataWithEndedLiveBucket=c;f.getMutedBucketOwnersFromLoadedQuery=d;f.loadData=e;f.loadPageBucketData=k;function g(a){var c=i(a);c=c[0];var d=j(a);a=h(a);a=a.reduce(function(a,c){var d=b("FBStoriesBucketHelper").getThreads(c);d=d&&d.length>0;var e=b("FBStoriesBucketHelper").getCameraPostType(c),f=b("CameraPostTypesHelper").isStoryNux(e),g=b("CameraPostTypesHelper").isStory(e),h=b("CameraPostTypesHelper").isEventStory(e),i=b("CameraPostTypesHelper").isPageStory(e),j=b("CameraPostTypesHelper").isGroupStory(e);e=b("CameraPostTypesHelper").isBirthdayStory(e);if(f)return a;if(!d)return b("FBStoriesBucketHelper").isLive(c)?a.concat([c]):a;return g||i||h||j||e?a.concat([c]):a},[]);var e=b("FBStoriesGating").shouldUseTrayMigration();e||a.sort(b("friendsBucketSorter")(d.userID));return{userInfo:d,userBucketData:c,friendsBucketData:a}}function a(a){return!a?!1:h(a).length>0&&i(a).length>0}function h(a){var c=b("FBStoriesGating").shouldUseTrayMigration();if(c){return((c=a)!=null?(c=c.me)!=null?(c=c.unified_stories_buckets)!=null?c.nodes:c:c:c)||[]}return((c=a)!=null?(c=c.me)!=null?(c=c.friends_stories_buckets)!=null?c.nodes:c:c:c)||[]}function i(a){return((a=a)!=null?(a=a.me)!=null?(a=a.story_bucket)!=null?a.nodes:a:a:a)||[]}function j(a){var b;return{userName:(b=a)!=null?(b=b.me)!=null?b.name:b:b,userID:(b=a)!=null?(b=b.me)!=null?b.id:b:b,userGender:(b=a)!=null?(b=b.me)!=null?b.gender:b:b,userProfilePic:(b=a)!=null?(b=b.me)!=null?b.profile_picture:b:b}}function c(a,c,d){if(!c||d||!b("FBStoriesBucketHelper").isLive(c))return a;var e=b("FBStoriesBucketHelper").getId(c);d=!1;a=a.reduce(function(a,f){if(b("FBStoriesBucketHelper").getId(f)===e){d=!0;var g=!b("FBStoriesBucketHelper").isLive(f);c&&g&&(b("FBStoriesBucketHelper").setLiveVideo(f,c.live_video),b("FBStoriesBucketHelper").setHasLiveVideoEnded(f,!0))}a.push(f);return a},[]);d||(b("FBStoriesBucketHelper").setHasLiveVideoEnded(c,!0),a=[c].concat(a));return a}function d(a){a=((a=a)!=null?(a=a.me)!=null?(a=a.unfollowees_for_camera_post_story)!=null?a.edges:a:a:a)||[];return a.map(function(a){var b,c,d;a=a.node;d=(d=a)!=null?d.id:d;c=(c=a)!=null?c.name:c;b=(b=a)!=null?(b=b.profile_picture)!=null?b.uri:b:b;a=(a=a)!=null?(a=a.cover_photo)!=null?(a=a.photo)!=null?(a=a.image)!=null?a.uri:a:a:a:a;return{id:d,name:c,profilePictureUri:a?a:b,muted:!0}})}function e(a){b("promiseDone")(b("FBStoriesGraphQLAPI").load(),function(a){a=g(a);b("FBStoriesDispatcher").dispatch({type:b("FBStoriesActionTypes").LOADED,data:a})},a?a:function(a){a=a.errors;a.length>0&&a[0].message&&b("FBLogger")("fbstories").mustfix("Error loading user tray data, err msg: %s",a[0].message)})}function k(a,c){b("promiseDone")(b("FBStoriesGraphQLAPI").loadPageBucketStoryData(a),function(a){a=b("dotAccess")(a,"node.page_story_bucket.nodes");(a||a.length>0)&&(b("FBStoriesActions").resetStore(),b("FBStoriesActions").loadData(b("CurrentUser").getName(),b("CurrentUser").getID(),null,null,[babelHelpers["extends"]({},a[0])]))},c?c:function(c){c=c.errors;c.length>0&&c[0].message&&b("FBLogger")("fbstories").mustfix("Error loading page story data, page id: %s, err msg: %s",a,c[0].message)})}}),null);
__d("FBStoriesLoggingHelper",["Banzai","CloseStoryFalcoEvent","DirectMessagingTypedLogger","FBLogger","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesStore","StoryNavigationFalcoEvent","uuid"],(function(a,b,c,d,e,f){"use strict";var g=null,h={_traySessionID:null,_viewerSessionID:null,_eventStartTimes:{},logStoryTrayLoad:function(a){h._traySessionID=b("uuid")();var c=a.userBucketData;a=a.friendsBucketData;var d=b("FBStoriesBucketHelper").hasData(c),e=0,f=0,g=0,i=0,j=0,k=0,l=0,m=0,n=0,o=new Map();b("FBStoriesBucketHelper").isLive(c)&&g++;a.forEach(function(a){e++;b("FBStoriesBucketHelper").getUnseenCount(a)>0&&f++;b("FBStoriesBucketHelper").isLive(a)&&g++;var c=b("FBStoriesBucketHelper").getLoggingType(a);switch(c){case b("FBStoriesLoggingConstants").PAGE_STORY:i++;break;case b("FBStoriesLoggingConstants").EVENT_STORY:j++;break;case b("FBStoriesLoggingConstants").GROUP_STORY:k++;break;case b("FBStoriesLoggingConstants").STORY_PROMOTION:l++;break;case b("FBStoriesLoggingConstants").FOLLOWEE_STORY:m++;break;case b("FBStoriesLoggingConstants").FRIEND_STORY:n++;break;default:b("FBLogger")("fbstories").mustfix("storyOwnerType not found: %s",c)}c=b("FBStoriesBucketHelper").getOwnerId(a);var d=b("FBStoriesBucketHelper").getThreadIDs(a);if(b("FBStoriesBucketHelper").isLive(a)){a=(a=b("FBStoriesBucketHelper").getLiveVideo(a))!=null?a.id:a;a&&d.push(a)}o.set(c,d)});h._getLogger().setName(b("FBStoriesLoggingConstants").ACTION_TRAY_LOAD).setHasMyStory(d).setNumberStories(e).setNumberNewStories(f).setNumberLiveStories(g).setLiveStoriesInTray(g).setPageStoriesInTray(i).setGroupStoriesInTray(k).setEventStoriesInTray(j).setFolloweeStoriesInTray(m).setFriendStoriesInTray(n).setPromotionStoriesInTray(l).setClientStoryThreadIds(o).setTraySessionID(h._traySessionID).log()},storyLog:function(a,c,d){g==null&&(g=c);a===b("FBStoriesLoggingConstants").ACTION_OPEN_STORY&&!h._viewerSessionID&&(h._viewerSessionID=b("uuid")());var e=b("FBStoriesStore").getSelectedBucketCameraPostType(),f=b("FBStoriesStore").getSelectedBucketOwnerID(),i=b("FBStoriesStore").getSelectedBucketOwnerType(),j=b("FBStoriesStore").getThreadCountForSelectedBucket(),k=b("FBStoriesStore").getSelectedBucketUnseenCount()>0,l=b("FBStoriesStore").getSelectedBucketIndex();e=h._getLogger().setCameraPostType(e).setName(a).setSource(c==null?g:c).setStoryOwner(f).setStoryOwnerType(i).setThreadCount(j).setHasNewContent(k).setStoryIndex(l).setTraySessionID(h._traySessionID).setClientViewerSessionID(h._viewerSessionID).setTrackingString(d);e.log();b("Banzai").post("stories_interaction_poseidon_logging_banzai",{name:a,source:c,story_owner:String(f),number_media:String(j)})},getLoggingMediaType:function(a){var b="unknown";a==="Photo"?b="photo":a==="Video"?b="video":a==="live"&&(b="live");return b},getMediaLogger:function(a,c,d){d=d||{cameraPostType:b("FBStoriesStore").getCurrentThreadCameraPostTypeForSelectedBucket(),storyOwnerFbid:b("FBStoriesStore").getSelectedBucketOwnerID(),storyOwnerType:b("FBStoriesStore").getSelectedBucketOwnerType(),mediaID:b("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket(),mediaType:b("FBStoriesStore").getCurrentThreadMediaTypeForSelectedBucket(),viewers:b("FBStoriesStore").getCurrentThreadMediaViewerCountForSelectedBucket(),bucketIndex:b("FBStoriesStore").getSelectedBucketIndex(),threadIndex:b("FBStoriesStore").getCurrentThreadIndexForSelectedBucket(),threadID:b("FBStoriesStore").getCurrentThreadIDForSelectedBucket(),threadCount:b("FBStoriesStore").getThreadCountForSelectedBucket()};var e=d.cameraPostType,f=d.storyOwnerFbid,g=d.storyOwnerType,i=d.mediaID,j=d.mediaType,k=d.viewers,l=d.bucketIndex,m=d.threadIndex,n=d.threadID;d=d.threadCount;n=n?n.toString():"";j=h.getLoggingMediaType(j);c=c||b("FBStoriesLoggingConstants").SOURCES.UNKNOWN;return h._getLogger().setCameraPostType(e).setName(a).setSource(c).setStoryOwner(f).setStoryOwnerType(g).setMediaType(j).setClientMediaID(i).setNumberViewers(k).setCardID(n).setStoryIndex(l).setMediaIndex(m).setNumberMedia(d).setTraySessionID(h._traySessionID).setClientViewerSessionID(h._viewerSessionID).setExtraClientData(JSON.stringify({story_size:d}))},mediaLog:function(a,b,c){h.getMediaLogger(a,b,c).log()},_getLogger:function(){return new(b("DirectMessagingTypedLogger"))()},openMediaLog:function(a,c){var d=b("FBStoriesStore").getFeedTrackingData(b("FBStoriesLoggingConstants").ACTION_OPEN_MEDIA);b("Banzai").post("stories_www_vpv_banzai",{media_id:b("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket(),owner_id:b("FBStoriesStore").getSelectedBucketOwnerID()});b("Banzai").post("fb_stories_banzai_generic",{ft:d});h.mediaLog(b("FBStoriesLoggingConstants").ACTION_OPEN_MEDIA,a,c)},deleteMediaLog:function(){h.mediaLog(b("FBStoriesLoggingConstants").ACTION_DELETE_MEDIA)},openSeenSummaryLog:function(){h.mediaLog(b("FBStoriesLoggingConstants").ACTION_OPEN_SEEN_SUMMARY)},storyNavigationLog:function(a){var c=h.getMediaLogger(b("FBStoriesLoggingConstants").ACTION_STORY_NAVIGATION).setGesture(a);c.log();b("StoryNavigationFalcoEvent").log(function(){var b=babelHelpers["extends"]({},h._getFalcoLoggingInformation(),{gesture:a});return b})},closeStoryLog:function(a,c){var d=b("FBStoriesLoggingConstants").ACTION_CLOSE_STORY,e=h.getMediaLogger(b("FBStoriesLoggingConstants").ACTION_CLOSE_STORY).setGesture(a).setActionSource(c);e.log();b("CloseStoryFalcoEvent").log(function(){var b=babelHelpers["extends"]({},h._getFalcoLoggingInformation(),{gesture:a});return b});e=b("FBStoriesStore").getSelectedBucketOwnerID();var f=b("FBStoriesStore").getThreadCountForSelectedBucket();b("Banzai").post("stories_interaction_poseidon_logging_banzai",{name:d,source:c,story_owner:String(e),number_media:String(f)});h._viewerSessionID=null}};e.exports=h}),null);
__d("FBStoriesPrefetcher",["Bootloader","FBStoriesActionsHelper","FBStoriesStore"],(function(a,b,c,d,e,f){"use strict";f.prefetchForCurrentThreadAndBucket=a;f.prefetch=c;f._prefetchVideos=d;f._prefetchForwardVideo=e;f._prefetchBackwardsVideo=g;f._prefetchVideo=h;f._prefetchThreadVideo=i;function a(){this.prefetch(b("FBStoriesStore").getSelectedBucketIndex(),b("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())}function c(a,b){this._prefetchVideos(a,b)}function d(a,b){this._prefetchThreadVideo(a,b),this._prefetchForwardVideo(a,b),this._prefetchBackwardsVideo(a,b)}function e(a,b){this._prefetchVideo(!0,a,b)}function g(a,b){this._prefetchVideo(!1,a,b)}function h(a,c,d){var e=b("FBStoriesStore").getThreadCount(c);d=a?d+1:d-1;while(d>=0&&d<e){if(this._prefetchThreadVideo(c,d))return!0;d=a?d+1:d-1}d=c;while(!b("FBStoriesActionsHelper").checkAllBucketsViewed(d)){e=b("FBStoriesActionsHelper").getNextBucketAndThreadIndex(d,a);c=e.nextBucketIndex;e=e.nextThreadIndex;if(this._prefetchThreadVideo(c,e))return!0;d=c}return!1}function i(a,c){var d=b("FBStoriesStore").getVideoMediaIdForBucketIndexAndThreadIndex(a,c);if(!d)return!1;b("Bootloader").loadModules(["VideoPlayerMetaData"],function(a){a.genVideoData(d,{allowDashPrefetch:!0,forceHD:!0})},"FBStoriesPrefetcher");return!0}}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate();this.$12();return this};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(b){return new a.Worker(b)}var n=b("memoize")(function(){var a;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=m(a);c.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("FileHasher",["FileHashWorkerResource","WebWorker","emptyFunction","fileSliceName"],(function(a,b,c,d,e,f){a=function(){"use strict";a.isSupported=function(){return b("WebWorker").isSupported()};function a(){var a=this,c=b("FileHashWorkerResource");b("WebWorker").prepareResource(c);this.$1=new(b("WebWorker"))(c).setMessageHandler(function(b){a.$2(b)}).execute()}var c=a.prototype;c.hash=function(a,c){this.$2=c;this.$1.postMessage({file:a,fileSliceName:b("fileSliceName")});return this};c.destroy=function(){this.$2=b("emptyFunction"),this.$1.terminate()};return a}();e.exports=a}),null);
__d("ModernWatchQueueFollowedShowTapMutation",["ModernWatchQueueFollowedShowTapMutation.graphql","RelayModern"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("ModernWatchQueueFollowedShowTapMutation.graphql");function a(a,c,d){return b("RelayModern").commitMutation(a,{mutation:h,variables:{input:{actor_id:c.actorID,page_id:c.pageID}},onCompleted:d&&d.onCompleted,onError:d&&d.onError})}}),null);
__d("MediaUploadAssetEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ASSET_ADDED","ASSET_STARTED","ASSET_REMOVED","ASSET_FAILED","ASSET_SUCCEED","ASSET_PROGRESS","ASSET_STALL"]);c=a;e.exports=c}),null);
__d("MediaUploadAssetStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["REQUESTED","SCHEDULED","PROCESSING","UPLOADING","COMPLETED","FAILED","REMOVED"]);c=a;e.exports=c}),null);
__d("MediaUploadTime",[],(function(a,b,c,d,e,f){"use strict";f.millisecondsToTime=a;f.secondsToTime=b;f.minutesToTime=c;f.hoursToTime=d;f.timeToMilliseconds=j;f.timeToSeconds=k;f.timeToMinutes=l;f.timeToHours=m;f.maybeTimeToMilliseconds=e;f.maybeTimeToSeconds=o;f.maybeTimeToMinutes=p;f.maybeTimeToHours=q;f.addTime=r;f.subtractTime=s;f.compareTime=t;var g=1e3,h=g*60,i=h*60;function a(a){return a}function b(a){return a*g}function c(a){return a*h}function d(a){return a*i}function j(a){return a}function k(a){return 1*a/g}function l(a){return 1*a/h}function m(a){return 1*a/i}function n(a,b){return a==null?null:b(a)}function e(a){return n(a,j)}function o(a){return n(a,k)}function p(a){return n(a,l)}function q(a){return n(a,m)}function r(a,b){return a+b}function s(a,b){return a-b}function t(a,b){return a<b?-1:a>b?1:0}}),null);
__d("MediaUploadBytesSummary",["MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.reset=function(){this.$2=null};c.updateForUploadStart=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!1,startedAt:b,updatedAt:b,totalBytes:a,uploadedBytes:0,skippedUpload:!1}};c.updateForUploadSkip=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!0,startedAt:b,updatedAt:b,finishedAt:b,totalBytes:a,uploadedBytes:a,skippedUpload:!0}};c.updateForProgress=function(a){var b=this.$2;if(b==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}b.uploadedBytes=a;b.updatedAt=this.$1.currentTimeProvider()};c.updateForUploadComplete=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}this.updateForProgress(a.totalBytes);a.fullyCompleted=!0;a.uploadedBytes=a.totalBytes};c.updateForUploadAbandoned=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}a.finishedAt=this.$1.currentTimeProvider()};c.computeSpeedBps=function(){var a=this.$2;if(a==null||a.skippedUpload)return null;else{var c=b("MediaUploadTime").timeToSeconds(b("MediaUploadTime").subtractTime(a.updatedAt,a.startedAt));return c>.1?a.uploadedBytes/c:0}};c.computeUploadedPortion=function(){var a=this.$2;if(a==null)return null;else if(a.fullyCompleted)return 1;else if(a.totalBytes===0)return 0;else return 1*a.uploadedBytes/a.totalBytes};c.computeSnapshot=function(){var a=this.$2;if(a==null)return null;else return{uploadedBytes:a.uploadedBytes,speedBps:this.computeSpeedBps(),skippedUpload:a.skippedUpload,startedAtMs:b("MediaUploadTime").timeToMilliseconds(a.startedAt),finishedAtMs:b("MediaUploadTime").maybeTimeToMilliseconds(a.finishedAt)}};return a}();e.exports=a}),null);
__d("MediaUploadOperationOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","FAILED_NON_TRANSIENT","FAILED_NO_MORE_RETRIES","FAILED_OUT_OF_TIME"]);c=a;e.exports=c}),null);
__d("MediaUploadStageEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["STAGE_STARTED","STAGE_PROGRESS","STAGE_SUCCEED","STAGE_FAILED","STAGE_CANCELED"]);c=a;e.exports=c}),null);
__d("MediaUploadAssetContext",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadBytesSummary","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=a.sessionContext,d=a.assetRequest,e=a.emitter,f=a.progressCalculator,g=a.retryState;a=a.params;this.sessionContext=c;this.request=d;this.assetID=d.assetID;this.asset=d.asset;this.retryState=g;this.$2=e;this.$3=f;this.$1=a.currentTimeProvider;this.$4=b("MediaUploadAssetStatus").REQUESTED;this.createdAt=this.$1();this.uploadSummary=new(b("MediaUploadBytesSummary"))(a);this.progress={completedStages:new Set(),calculated:{rawValue:0,percentageComplete:0}}}var c=a.prototype;c.emitAssetEvent=function(a){this.$2.emitAssetEvent(a,this),(a===b("MediaUploadAssetEvent").ASSET_SUCCEED||a===b("MediaUploadAssetEvent").ASSET_REMOVED)&&this.recalculateProgressAndEmit()};c.emitStageEvent=function(a,c){this.$2.emitStageEvent(a,this,c),a===b("MediaUploadStageEvent").STAGE_SUCCEED&&(this.progress.completedStages.add(c),this.recalculateProgressAndEmit()),a===b("MediaUploadStageEvent").STAGE_PROGRESS&&this.recalculateProgressAndEmit()};c.emitStageEventForOperationOutcome=function(a,c){a===b("MediaUploadOperationOutcome").SUCCESS?this.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,c):a===b("MediaUploadOperationOutcome").CANCELED?this.emitStageEvent(b("MediaUploadStageEvent").STAGE_CANCELED,c):this.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,c)};c.recalculateProgressAndEmit=function(){var a=this.$3.calculateAssetProgress(this);this.sessionContext.recalculateProgressAndEmit();a&&this.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_PROGRESS)};c.$5=function(){this.uploadSummary.reset(),this.progress.completedStages.clear(),this.recalculateProgressAndEmit()};c.updateStatusAndEmit=function(a){if(this.$4===a)return;this.$4=a;switch(a){case b("MediaUploadAssetStatus").REMOVED:this.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_REMOVED);break;case b("MediaUploadAssetStatus").FAILED:this.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_FAILED);break;case b("MediaUploadAssetStatus").COMPLETED:this.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_SUCCEED);break;case b("MediaUploadAssetStatus").PROCESSING:this.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_STARTED);break;case b("MediaUploadAssetStatus").UPLOADING:this.progress.lastAttemptStartedAt=this.$1();break;case b("MediaUploadAssetStatus").REQUESTED:case b("MediaUploadAssetStatus").SCHEDULED:this.$5();break}};c.isCompleted=function(){return this.$4===b("MediaUploadAssetStatus").COMPLETED};c.isSchedulable=function(){return this.$4===b("MediaUploadAssetStatus").REQUESTED||this.$4===b("MediaUploadAssetStatus").FAILED};c.isRemoved=function(){return this.$4===b("MediaUploadAssetStatus").REMOVED};c.isFailed=function(){return this.$4===b("MediaUploadAssetStatus").FAILED};c.__composeBaseSnapshot=function(){return{asset:this.asset,assetID:this.assetID,status:this.$4,createdAtMs:b("MediaUploadTime").timeToMilliseconds(this.createdAt),lastUploadStartedAtMs:b("MediaUploadTime").maybeTimeToMilliseconds(this.progress.lastAttemptStartedAt),metadata:this.metadata==null?void 0:{width:this.metadata.width,height:this.metadata.height,isSpherical:this.metadata.isSpherical,durationMs:b("MediaUploadTime").maybeTimeToMilliseconds(this.metadata.duration)},retries:{totalRetryAttempts:this.retryState.getRetryAttempts()},uploadSummary:this.uploadSummary.computeSnapshot(),percentageComplete:this.progress.calculated.percentageComplete}};return a}();e.exports=a}),null);
__d("MediaUploadExtrasStorage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.setFromObject=function(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];this.set(d,a[d])}return this};b.set=function(a,b){this.$2.set(a,b);return this};b.getNumber=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="number")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as number, but it was "+typeof b);return null}};b.getString=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="string")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as string, but it was "+typeof b);return null}};b.getBoolean=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="boolean")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as boolean, but it was "+typeof b);return null}};b.getUnsafe=function(a){return this.$2.get(a)};b.getClassInstance=function(a,b){var c=this.getUnsafe(a);if(c==null||c instanceof b)return c;else{this.$1.reportRecoverableError("Requested key "+a+" as "+String(b)+", but it was something else");return null}};return a}();e.exports=a}),null);
__d("MediaUploadFBAssetContext",["ErrorNormalizeUtils","MediaUploadAssetContext","MediaUploadExtrasStorage","MediaUploadStageEvent","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.request=c.assetRequest;d.sessionContext=c.sessionContext;d.processing={rawData:new(b("MediaUploadExtrasStorage"))(c.params)};return d}var d=c.prototype;d.recordStageOutcome=function(a){var c=a.stage,d=a.outcome,e=a.rawErrorCode,f=a.rawErrorObject,g=a.displayError,h=a.errorAttributes;a=a.networkRequestID;f=f==null?void 0:b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")(f));this.$MediaUploadFBAssetContext1={stage:c,outcome:d,rawErrorCode:e,errorObject:f,displayError:g,errorAttributes:h,networkRequestID:a}};d.emitStageEvent=function(c,d){c===b("MediaUploadStageEvent").STAGE_STARTED&&(this.$MediaUploadFBAssetContext1=null),a.prototype.emitStageEvent.call(this,c,d)};d.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{videoID:this.videoID,request:this.request,uploadServiceDomain:this.processing.uploadServiceDomain,hash:this.processing.pseudoHash==null?null:{hashValue:this.processing.pseudoHash.hashValue,calculationTimeCostMs:b("MediaUploadTime").timeToMilliseconds(this.processing.pseudoHash.calculationTimeCost)},lastAction:this.$MediaUploadFBAssetContext1})};c.castOrThrow=function(a,b){b=b.createThrowableError;if(a instanceof c)return a;else{throw b('Provided asset context has incorrect type of "'+((b=a.constructor)==null?void 0:b.name)+'"')}};return c}(b("MediaUploadAssetContext"));e.exports=a}),null);
__d("MediaUploadAssetRequest",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.assetID,c=a.asset;a=a.extras;this.assetID=b;this.asset=c;this.extras=a};e.exports=a}),null);
__d("MediaUploadFBAssetRequest",["MediaUploadAssetRequest"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c=b.assetID,d=b.asset,e=b.extras;b=b.attributes;c=a.call(this,{assetID:c,asset:d,extras:e})||this;c.attributes={targetID:b.targetID,actorID:b.actorID,hasFileBeenReplaced:b.hasFileBeenReplaced,composerDialogVersion:b.composerDialogVersion,publisherActionSource:b.publisherActionSource,creatorProduct:b.creatorProduct,composerSessionID:b.composerSessionID};return c}b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided asset request has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(b("MediaUploadAssetRequest"));e.exports=a}),null);
__d("MediaUploadEntryPointID",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.key=a};e.exports=a}),null);
__d("MediaUploadFBEntryPointID",["MediaUploadEntryPointID"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,b+"\\"+c)||this;d.sourceType=b;d.entryPointRef=c;return d}b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided entry point ID has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(b("MediaUploadEntryPointID"));e.exports=a}),null);
__d("MediaUploadSessionEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SESSION_CONFIRMED","SESSION_SUCCEED","SESSION_FAILED","SESSION_CANCELED","SESSION_FINISHED","SESSION_PROGRESS","PUBLISH_STARTED","PUBLISH_SUCCEED","PUBLISH_FAILED"]);c=a;e.exports=c}),null);
__d("MediaUploadSessionStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UNCONFIRMED","CONFIRMED","FAILED","PUBLISHING","COMPLETED","CANCELED"]);c=a;e.exports=c}),null);
__d("MediaUploadSessionContext",["MediaUploadExtrasStorage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";var g=new Set([b("MediaUploadSessionStatus").COMPLETED,b("MediaUploadSessionStatus").CANCELED,b("MediaUploadSessionStatus").FAILED]);a=function(){function a(a){var c=a.sessionID,d=a.emitter,e=a.progressCalculator;a=a.params;this.assetsByID=new Map();this.sessionID=c;this.$1=d;this.$2=e;this.extras=new(b("MediaUploadExtrasStorage"))(a);this.$4=a.currentTimeProvider;this.$5=a.randomStringProvider;this.$6=b("MediaUploadSessionStatus").UNCONFIRMED;this.$3={createdAt:this.$4()};this.progress={retryID:this.$5(),publishingExtrasProvided:!1,publishingDone:!1,percentageComplete:0};this.releaseOnFinish=[]}var c=a.prototype;c.emitSessionEvent=function(a){this.$1.emitSessionEvent(a,this),a===b("MediaUploadSessionEvent").PUBLISH_SUCCEED&&(this.progress.publishingDone=!0,this.recalculateProgressAndEmit()),a===b("MediaUploadSessionEvent").SESSION_FINISHED&&this.$7()};c.renewRetryID=function(){this.progress.retryID=this.$5()};c.updateLastError=function(a){this.__lastError=a};c.recalculateProgressAndEmit=function(){this.$2.calculateSessionProgress(this)&&this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_PROGRESS)};c.$7=function(){while(this.releaseOnFinish.length>0){var a=this.releaseOnFinish.pop();a.cancel()}};c.updateStatusAndEmit=function(a){if(this.$6===a)return;this.$6=a;this.progress.terminalStatus==null&&g.has(a)&&(this.progress.terminalStatus=a,this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_FINISHED));switch(a){case b("MediaUploadSessionStatus").CONFIRMED:this.progress.terminalStatus=void 0;this.$3.confirmedAt=this.$4();this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_CONFIRMED);break;case b("MediaUploadSessionStatus").COMPLETED:this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_SUCCEED);break;case b("MediaUploadSessionStatus").CANCELED:this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_CANCELED);break;case b("MediaUploadSessionStatus").FAILED:this.emitSessionEvent(b("MediaUploadSessionEvent").SESSION_FAILED);break;case b("MediaUploadSessionStatus").PUBLISHING:this.emitSessionEvent(b("MediaUploadSessionEvent").PUBLISH_STARTED);break;default:}};c.getActiveAssets=function(){var a=[];for(var b=this.assetsByID.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.isRemoved()||a.push(e)}return a};c.isCanceled=function(){return this.$6===b("MediaUploadSessionStatus").CANCELED};c.isPublished=function(){return this.$6===b("MediaUploadSessionStatus").COMPLETED};c.isPublishing=function(){return this.$6===b("MediaUploadSessionStatus").PUBLISHING};c.isConfirmed=function(){return this.$6===b("MediaUploadSessionStatus").CONFIRMED};c.isFailed=function(){return this.$6===b("MediaUploadSessionStatus").FAILED};c.__composeBaseSnapshot=function(){return{sessionID:this.sessionID,retryID:this.progress.retryID,status:this.$6,extras:this.extras,timing:{createdAtMs:b("MediaUploadTime").timeToMilliseconds(this.$3.createdAt),confirmedAtMs:b("MediaUploadTime").maybeTimeToMilliseconds(this.$3.confirmedAt)},terminalStatus:this.progress.terminalStatus,percentageComplete:this.progress.percentageComplete,publishingResponse:this.progress.publishingResponse,cancelReason:this.progress.cancelReason}};return a}();e.exports=a}),null);
__d("MediaUploadFBSessionContext",["ErrorNormalizeUtils","MediaUploadSessionContext","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,{sessionID:b.sessionID,emitter:b.emitter,progressCalculator:b.progressCalculator,params:b.params})||this;c.entryPoint=b.entryPoint;return c}var d=c.prototype;d.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{entryPoint:this.entryPoint,lastError:this.__lastError==null?null:{errorObject:this.__lastError.rawErrorObject==null?null:b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")(this.__lastError.rawErrorObject)),rawErrorCode:this.__lastError.rawErrorCode}})};c.castOrThrow=function(a,b){b=b.createThrowableError;if(a instanceof c)return a;else{throw b('Provided session context has incorrect type of "'+((b=a.constructor)==null?void 0:b.name)+'"')}};return c}(b("MediaUploadSessionContext"));e.exports=a}),null);
__d("MediaUploadFBStage",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["METADATA_EXTRACTION","METADATA_VALIDATION","HASHING","START_REQUEST","BYTES_UPLOAD","RECEIVE_REQUEST"]);c=a;e.exports=c}),null);
__d("MediaUploadFBStageOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCEL","EXCEPTION","INTERNAL_FAILURE","UNSUPPORTED_FEATURE","ASSET_IS_NOT_FILE","ASSET_IS_NOT_SUPPORTED","REQUEST_ERROR","INVALID_SERVER_RESPONSE","MISSING_MANDATORY_DATA"]);c=a;e.exports=c}),null);
__d("MediaUploadClientEventContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.startedAt=a.currentTimeProvider(),this.entryPoint=b};e.exports=a}),null);
__d("MediaUploadFBClientEventContext",["ErrorNormalizeUtils","MediaUploadClientEventContext","MediaUploadFBAssetContext","MediaUploadFBSessionContext","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c.envParams,c.entryPoint)||this;d.entryPoint=c.entryPoint;c.context!=null&&c.context instanceof b("MediaUploadFBSessionContext")?d.sessionContext=c.context:c.context!=null&&c.context instanceof b("MediaUploadFBAssetContext")&&(d.sessionContext=c.context.sessionContext,d.assetContext=c.context);return d}c.castOrThrow=function(a,b){if(a instanceof c)return a;else{throw b.createThrowableError('Provided client event context has incorrect type of "'+((b=a.constructor)==null?void 0:b.name)+'"')}};var d=c.prototype;d.composerSnapshot=function(){var a,c;a=((a=this.errorInfo)==null?void 0:a.rawErrorObject)==null?void 0:b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")((a=this.errorInfo)==null?void 0:a.rawErrorObject));return{entryPoint:this.entryPoint,startedAtMs:b("MediaUploadTime").timeToMilliseconds(this.startedAt),sessionSnapshot:(c=this.sessionContext)==null?void 0:c.composeSnapshot(),assetSnapshot:(c=this.assetContext)==null?void 0:c.composeSnapshot(),errorObject:a}};return c}(b("MediaUploadClientEventContext"));e.exports=a}),null);
__d("MediaUploadEventEmitterAdapter",["EventEmitter","MediaUploadFBAssetContext","MediaUploadFBClientEventContext","MediaUploadFBSessionContext","MediaUploadFBStage"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a};a=function(){function a(a){this.$2=new(b("EventEmitter"))(),this.$1=a,this.emitter=this.$3(),this.subscriber=this.$4()}var c=a.prototype;c.$3=function(){var a=this,c=function(c){c=b("MediaUploadFBSessionContext").castOrThrow(c,a.$1);return c.composeSnapshot()},d=function(c){c=b("MediaUploadFBAssetContext").castOrThrow(c,a.$1);return c.composeSnapshot()},e=this.$2,f=function(b){try{for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];e.emit.apply(e,[g(b)].concat(d))}catch(c){a.$1.reportRecoverableError("Session pub/sub chain failed for event "+String(b),c)}};return{emitClientEvent:function(c,d){f(c,b("MediaUploadFBClientEventContext").castOrThrow(d,a.$1).composerSnapshot())},emitSessionEvent:function(a,b){f(a,c(b))},emitAssetEvent:function(a,b){f(a,c(b.sessionContext),d(b))},emitStageEvent:function(e,g,h){h=b("MediaUploadFBStage").cast(String(h));if(h==null){a.$1.reportRecoverableError("Invalid stage value, it must be MediaUploadFBStage, ignoring");return}f(e,c(g.sessionContext),d(g),h)}}};c.$4=function(){var a=this,b=function(b,c){try{b()}catch(b){a.$1.reportRecoverableError("Stage pub/sub chain failed for event "+c(),b)}};return{addClientEventListener:function(c,d){var e=a.$2.addListener(g(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addSessionEventListener:function(c,d){var e=a.$2.addListener(g(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addAssetEventListener:function(c,d){var e=a.$2.addListener(g(c),function(a,e){return b(function(){return d(a,e)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addStageEventListener:function(c,d,e){var f=a.$2.addListener(g(c),function(a,f,g){d===g&&b(function(){return e(a,f)},function(){return String(c)+"  "+String(g)})});return{cancel:function(){return f.remove()}}}}};return a}();e.exports=a}),null);
__d("MediaUploadClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CLIENT_CREATED","CLIENT_CONFIG_REQUESTED","CLIENT_CONFIG_RECEIVED","CLIENT_CONFIG_FAILED","CLIENT_CONFIG_CACHED","CLIENT_INTERNET_ONLINE","CLIENT_INTERNET_OFFLINE","CLIENT_INTERNET_UNKNOWN"]);c=a;e.exports=c}),null);
__d("MediaUploadBanzaiLogger",["Banzai","CurrentUser","MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadStageEvent","MediaUploadTime","cr:1840657"],(function(a,b,c,d,e,f){"use strict";var g=new Map([[(a=b("MediaUploadClientEvent")).CLIENT_CONFIG_REQUESTED,"upload.client.started_client_config_fetch"],[a.CLIENT_CONFIG_RECEIVED,"upload.client.finished_client_config_fetch"],[a.CLIENT_CONFIG_FAILED,"upload.client.failed_client_config_fetch"],[a.CLIENT_CONFIG_CACHED,"upload.client.cached_client_config_fetch"]]),h=new Map([[(c=b("MediaUploadSessionEvent")).SESSION_CONFIRMED,"upload.client.started_flow"],[c.PUBLISH_STARTED,"upload.client.started_sending_post_request"],[c.PUBLISH_SUCCEED,"upload.client.finished_sending_post_request"],[c.PUBLISH_FAILED,"upload.client.failed_sending_post_request"]]),i=new Map([[b("MediaUploadSessionStatus").FAILED,"upload.client.failed_flow"],[b("MediaUploadSessionStatus").CANCELED,"upload.client.canceled_flow"],[b("MediaUploadSessionStatus").COMPLETED,"upload.client.finished_flow"]]),j=new Map([[(d=b("MediaUploadAssetEvent")).ASSET_ADDED,"upload.client.requested_uploading"],[d.ASSET_STARTED,"upload.client.started_uploading"],[d.ASSET_FAILED,"upload.client.failed_uploading"],[d.ASSET_REMOVED,"upload.client.canceled_uploading"],[d.ASSET_SUCCEED,"upload.client.finished_uploading"],[d.ASSET_STALL,"upload.client.stall_detected"]]),k=new Map([[(f=b("MediaUploadStageEvent")).STAGE_STARTED,new Map([[(a=b("MediaUploadFBStage")).START_REQUEST,"upload.client.started_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.started_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.started_sending_receive_request"]])],[f.STAGE_SUCCEED,new Map([[a.START_REQUEST,"upload.client.finished_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.finished_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.finished_sending_receive_request"]])],[f.STAGE_FAILED,new Map([[a.START_REQUEST,"upload.client.failed_sending_start_request"],[a.RECEIVE_REQUEST,"upload.client.failed_sending_receive_request"],[a.BYTES_UPLOAD,"upload.client.failed_sending_bytes"],[a.METADATA_VALIDATION,"upload.client.invalidated_uploading"]])],[f.STAGE_CANCELED,new Map([[a.START_REQUEST,"upload.client.canceled_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.canceled_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.canceled_sending_receive_request"]])]]);c=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.subscribe=function(a,c){var d=this;g.forEach(function(b,e){a.addClientEventListener(e,function(a){return d.$3(c,b,a)})});h.forEach(function(b,e){a.addSessionEventListener(e,function(a){return d.$4(c,b,a)})});i.forEach(function(e,f){a.addSessionEventListener(b("MediaUploadSessionEvent").SESSION_FINISHED,function(a){a.terminalStatus===f&&a.timing.confirmedAtMs!=null&&d.$4(c,e,a)})});j.forEach(function(b,e){a.addAssetEventListener(e,function(a,e){return d.$5(c,b,a,e)})});k.forEach(function(b,e){b.forEach(function(b,f){a.addStageEventListener(e,f,function(a,e){d.$5(c,b,a,e)})})})};c.$6=function(a){return a==null?null:b("MediaUploadTime").timeToMilliseconds(this.$1.currentTimeProvider())-a};c.$7=function(a,c){return{event:a,application_state:"www_v2",is_chunked_upload:!0,file_can_read:this.$1.features.supportFileManipulation,network_status:(a=this.$2)==null?void 0:(a=a.injectNetworkStatus)==null?void 0:a.getNetworkStatus(),internet_status:(a=this.$2)==null?void 0:(a=a.injectNetworkStatus)==null?void 0:a.getInternetStatus(),trigger_time:this.$1.currentTimeProvider(),app_id:b("CurrentUser").getAppID(),source:c.sourceType,composer_entry_point_ref:c.entryPointRef}};c.$8=function(a){var c=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="string"?a==null?void 0:a.rawErrorCode:void 0,d=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="number"?a==null?void 0:a.rawErrorCode:void 0;return{error:(c=c)!=null?c:a==null?void 0:(c=a.displayError)==null?void 0:c.summary,error_inner:(a==null?void 0:a.outcome)===b("MediaUploadFBStageOutcome").SUCCESS?void 0:a==null?void 0:a.outcome,error_description:(c=a==null?void 0:(c=a.errorObject)==null?void 0:c.message)!=null?c:a==null?void 0:(c=a.displayError)==null?void 0:c.description,error_trace:a==null?void 0:(c=a.errorObject)==null?void 0:c.stack,error_code:d}};c.$9=function(a){return{event_reason:a.cancelReason,elapsed_time:this.$6(a.timing.confirmedAtMs),waterfall_id:a.sessionID,retry_id:a.retryID}};c.$10=function(a){var b;return{elapsed_time:this.$6(a.lastUploadStartedAtMs),asset_id:a.assetID,video_id:a.videoID,composer_session_id:a.request.attributes.composerSessionID,target_id:a.request.attributes.targetID,composer_dialog_version:a.request.attributes.composerDialogVersion,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,source_width:(b=a.metadata)==null?void 0:b.width,source_height:(b=a.metadata)==null?void 0:b.height,duration:(b=a.metadata)==null?void 0:b.durationMs,file_size:(b=a.asset.dataAsFile())==null?void 0:b.size,video_original_file_path:a.asset.data.name,hash:(b=a.hash)==null?void 0:b.hashValue,hash_time:(b=a.hash)==null?void 0:b.calculationTimeCostMs,retries:a.retries.totalRetryAttempts,upload_domain:a.uploadServiceDomain,upload_speed:(b=a.uploadSummary)==null?void 0:b.speedBps,skip_upload:(b=a.uploadSummary)==null?void 0:b.skippedUpload}};c.$11=function(a){var b;return((b=this.$2)==null?void 0:b.injectExtraSessionFields)!=null?(b=this.$2)==null?void 0:b.injectExtraSessionFields(a):null};c.$12=function(a,b){var c;return((c=this.$2)==null?void 0:c.injectExtraAssetFields)!=null?(c=this.$2)==null?void 0:c.injectExtraAssetFields(a,b):null};c.$13=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.map(function(a){return(a=a)!=null?a:{}});return Object.assign.apply(Object,[{}].concat(d))};c.$3=function(a,b,c){var d=c.assetSnapshot,e=c.sessionSnapshot;b=this.$13(e==null?null:this.$11(e),e==null||d==null?null:this.$12(e,d),this.$7(b,a),e==null?null:this.$9(e),e==null||d==null?null:this.$10(d),this.$8(c),{elapsed_time:this.$6(c.startedAtMs)});this.$14(b)};c.$4=function(a,b,c){b=this.$13(this.$11(c),this.$7(b,a),this.$9(c),this.$8(c.lastError));this.$14(b)};c.$5=function(a,b,c,d){b=this.$13(this.$11(c),this.$12(c,d),this.$7(b,a),this.$9(c),this.$10(d),this.$8(d.lastAction));this.$14(b)};c.$14=function(a){b("cr:1840657")!=null?b("cr:1840657")(a):b("Banzai").post("video_waterfall",a,b("Banzai").VITAL)};return a}();e.exports=c}),null);
__d("mediaUploadLogStackTrace",["Banzai","ErrorNormalizeUtils","cr:1840657","err","gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(b("gkx")("1816889")){var c=b("ErrorNormalizeUtils").normalizeError(b("err")("no-op"));c=c.stack;c={event:"upload.client.media_debug_info",waterfall_id:a.waterfallID,source:a.sourceType,composer_entry_point_ref:a.composerEntryPointRef,error_trace:c,application_state:a.applicationState};b("cr:1840657")!=null?b("cr:1840657")(c):b("Banzai").post("video_waterfall",c,b("Banzai").VITAL)}}}),null);
__d("MediaUploadFBFileHasher",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=b("MediaUploadFBStage").HASHING,this.$2=a.pseudoHasher,this.$3=a.fullHasher}var c=a.prototype;c.process=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:a.emitStageEvent(b("MediaUploadStageEvent").STAGE_STARTED,this.$1);c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(this.$4(a));case 4:c.next=9;break;case 6:c.prev=6,c.t0=c["catch"](1),a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:c.t0});case 9:a.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c.abrupt("return",b("MediaUploadOperationOutcome").SUCCESS);case 11:case"end":return c.stop()}},null,this,[[1,6]])};c.$5=function(a,c,d){return c==null?b("Promise").resolve():c.hash(a.file).then(function(a){a.outcome==="SUCCESS"&&d(a.value);return a})};c.$4=function(a){var c=this,d,e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:d=a.asset.dataAsFile();if(!(d==null)){k.next=4;break}a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA});return k.abrupt("return");case 4:k.next=6;return b("regeneratorRuntime").awrap(this.$5(d,this.$3,function(b){return a.processing.fullHash=b}).then(function(e){return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!((e==null?void 0:e.outcome)==="SUCCESS")){f.next=5;break}a.processing.pseudoHash=a.processing.fullHash;return f.abrupt("return",[e,e]);case 5:f.t0=e;f.next=8;return b("regeneratorRuntime").awrap(c.$5(d,c.$2,function(b){return a.processing.pseudoHash=b}));case 8:f.t1=f.sent;return f.abrupt("return",[f.t0,f.t1]);case 10:case"end":return f.stop()}},null,this)}));case 6:e=k.sent,(f=e,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 8:if(!g){k.next=14;break}if(!(h>=f.length)){k.next=11;break}return k.abrupt("break",29);case 11:i=f[h++];k.next=18;break;case 14:h=f.next();if(!h.done){k.next=17;break}return k.abrupt("break",29);case 17:i=h.value;case 18:j=i;if(!((j==null?void 0:j.outcome)==="FILE_TOO_LARGE")){k.next=24;break}a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").ASSET_IS_NOT_SUPPORTED});return k.abrupt("return");case 24:if(!((j==null?void 0:j.outcome)==="FAILURE")){k.next=27;break}a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:j==null?void 0:j.rawErrorCode,rawErrorObject:j==null?void 0:j.rawErrorObject});return k.abrupt("return");case 27:k.next=8;break;case 29:a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS});case 30:case"end":return k.stop()}},null,this)};return a}();e.exports=a}),null);
__d("MediaUploadCancelablePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g={cancel:function(){}};a=function(){function a(a){var c=this;this.$1=!1;this.promise=new(b("Promise"))(function(b,d){c.$2=a(b,d),c.$2==null&&(c.$2=g),c.$1&&c.$2.cancel()})}a.resolve=function(b){return new a(function(a){a(b)})};var c=a.prototype;c.then=function(b){var c=this;return new a(function(d,e){var f={cancelable:c};c.promise.then(function(d){f.cancelable=g;if(c.$1)return d;else{d=b(d);if(d instanceof a){f.cancelable=d;return d.promise}else return d}}).then(d)["catch"](function(){f.cancelable=g,e.apply(void 0,arguments)});return{cancel:function(){f.cancelable.cancel()}}})};c.isCanceled=function(){return this.$1};c.cancel=function(){if(!this.$1){var a;this.$1=!0;(a=this.$2)==null?void 0:a.cancel()}};return a}();e.exports=a}),null);
__d("MediaUploadPipeline",["MediaUploadCancelablePromise","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,c){var d=this;this.$2=[];this.$3=null;this.$2=a;this.$1=c;this.cancelablePromise=new(b("MediaUploadCancelablePromise"))(function(a,c){d.$4(a,c,[].concat(d.$2));return{cancel:function(){var c;(c=d.$3)==null?void 0:c.cancel();d.$3=null;a(b("MediaUploadOperationOutcome").CANCELED)}}})}var c=a.prototype;c.$4=function(a,c,d){var e=this;if(d.length===0)this.$3=null,a(b("MediaUploadOperationOutcome").SUCCESS);else{var f=d.shift();f=f();this.$1.promiseTerminator(f.promise.then(function(f){e.cancelablePromise.isCanceled()?a(b("MediaUploadOperationOutcome").CANCELED):f===b("MediaUploadOperationOutcome").SUCCESS?e.$4(a,c,d):a(f)})["catch"](c));this.$3=f}};return a}();a=function(){function a(a){this.$2=[],this.$1=a}var c=a.prototype;c.addCancelableStep=function(a){this.$2.push(a)};c.addPlainStep=function(a){this.$2.push(function(){return new(b("MediaUploadCancelablePromise"))(function(b){b(a())})})};c.run=function(){var a=new g(this.$2,this.$1);return a.cancelablePromise};return a}();e.exports=a}),null);
__d("MediaUploadFBLocalAssetStrategy",["MediaUploadPipeline"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.envParams,this.metadataParser=a.metadataParser,this.metadataValidator=a.metadataValidator,this.fileHasher=a.fileHasher}var c=a.prototype;c.run=function(a){var c=this,d=new(b("MediaUploadPipeline"))(this.$1);d.addPlainStep(function(){return c.metadataParser.parse(a)});d.addPlainStep(function(){return c.metadataValidator.validate(a,c.metadataParser.retriveRawMetadata(a))});var e=this.fileHasher;e!=null&&d.addPlainStep(function(){return e.process(a)});return d.run()};return a}();e.exports=a}),null);
__d("ISOVideoBoxConstants",[],(function(a,b,c,d,e,f){"use strict";a=8;f.BOX_BASE_SIZE=a;b=[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221];f.GSPHERICAL_UUID=b;c=[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193];f.FBSPHERICAL_UUID=c}),null);
__d("FBSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata",USED_360_DIRECTOR:"FBSpherical:Used360Director"});e.exports=a}),null);
__d("GSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware",CROPPED_AREA_IMAGE_WIDTH_PIXELS:"GSphercal:CroppedAreaImageWidthPixels",CROPPED_AREA_IMAGE_HEIGHT_PIXELS:"GSphercal:CroppedAreaImageHeightPixels",CROPPED_AREA_LEFT_PIXELS:"GSphercal:CroppedAreaLeftPixels",CROPPED_AREA_TOP_PIXELS:"GSphercal:CroppedAreaTopPixels",FULL_PANO_WIDTH_PIXELS:"GSphercal:FullPanoWidthPixels",FULL_PANO_HEIGHT_PIXELS:"GSphercal:FullPanoHeightPixels"});e.exports=a}),null);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GSPHERICAL:b("GSphericalMetadataTags"),FBSPHERICAL:b("FBSphericalMetadataTags")});e.exports=a}),null);
__d("VideoProjection",[],(function(a,b,c,d,e,f){a=Object.freeze({FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",BARREL:"barrel",BARREL_SPLIT:"barrel_split",CDS_BARREL:"cds_barrel",HALF_EQUIRECTANGULAR:"half_equirectangular"});e.exports=a}),null);
__d("VideoStereoFormat",[],(function(a,b,c,d,e,f){a=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"});e.exports=a}),null);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function(a,b,c,d,e,f){"use strict";f.parseXMLToDocument=a;f.stringToProjectionType=c;f.stringToStereoMode=d;f.getUnsupportedGSphericalTagsXML=e;f.isGoogleVR180=g;f.arrayBufferToFile=h;f.stringToArrayBuffer=i;f.bufferToFile=j;f.uuidArrayEquals=k;function a(a){if(!a)return null;a=a.replace(/\0/g,"");if(window.DOMParser){var b=new DOMParser();b=b.parseFromString(a,"text/xml")}else b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b}function c(a){if(Object.values(b("VideoProjection")).includes(a))return a;else return null}function d(a){if(Object.values(b("VideoStereoFormat")).includes(a))return a;else return null}function e(a){a=a.getElementsByTagNameNS("*","*");var c=null;for(var d=0;d<a.length;d++){var e=a[d],f=e.nodeName,g=e.parentElement;if(f!=="parsererror"&&g&&g.nodeName!=="parsererror"&&Object.values(b("SphericalVideoMetadataTags").GSPHERICAL).indexOf(f)<0&&Object.values(b("SphericalVideoMetadataTags").GSPHERICAL).indexOf(g.nodeName)<0){c||(c="");g=e.outerHTML;c+="<"+f+g.slice(f.length+1,-(f.length+1))+f+">"}}return c}function g(a,b,c,d,e){if(null!==b&&null!==c&&null!==d&&null!==e&&a.projectionType==="equirectangular"&&(a.stereoMode==="left-right"||a.stereoMode==="top-bottom")){a=parseInt(b,10);b=parseInt(c,10);c=parseInt(d,10);d=parseInt(e,10);if(Math.abs(a-c/2)<=1&&Math.abs(b-d)<=1)return!0}return!1}function h(a,b,c){return new File([a],b,{type:c})}function i(a){var b=new ArrayBuffer(a.length),c=new DataView(b);for(var d=0;d<a.length;d++)c.setUint8(d,a.charCodeAt(d));return b}function j(a,b,c){a=a.buffer;return this.arrayBufferToFile(a,b,c)}function k(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}}),null);
__d("VideoUploadMetadataParserErrorCode",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["FILE_READING_NOT_SUPPORTED","UNKNOWN_FILE_EXTENSION","INTERNAL_FAILURE"]);c=a;e.exports=c}),null);
__d("VideoUploadSphericalLogger",["Banzai"],(function(a,b,c,d,e,f){var g=3e3;a=function(){function a(){this.$1={},this.$2=!1,this.$3=0}var c=a.prototype;c.log=function(){this.$2?this.$4():this.$5()};c.$5=function(){b("Banzai").post("spherical_video_composer_upload",babelHelpers["extends"]({},this.$1))};c.$4=function(){var a=Date.now();a-this.$3>g&&(this.$3=a,this.$5())};c.setDirectorsCutEnabled=function(a){this.$1.directors_cut_enabled=a;return this};c.setFieldOfView=function(a){this.$1.field_of_view=a;return this};c.setFileExtension=function(a){this.$1.file_extension=a;return this};c.setHasSphericalMetadata=function(a){this.$1.has_spherical_metadata=a;return this};c.setPitchDegrees=function(a){this.$1.pitch_degrees=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setUserAction=function(a){this.$1.user_action=a;a==="drag_video_preview"||a==="scroll_video_preview"?this.$2=!0:this.$2=!1;return this};c.setVideoPreviewPosition=function(a){this.$1.video_preview_position=a;return this};c.setYawDegrees=function(a){this.$1.yaw_degrees=a;return this};c.setIsRedesign=function(a){this.$1.is_redesign=a;return this};c.setFinalGuideEnabled=function(a){this.$1.final_guide_enabled=a;return this};c.setFinalNumGuidePoints=function(a){this.$1.final_num_guide_points=a;return this};c.setIsNuxTest=function(a){this.$1.is_nux_test=a;return this};return a}();c=new a();e.exports=c}),null);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return!1;a=a.getElementsByTagNameNS("*","Spherical");if(a.length===0)return!1;a=a[0];a=a.childNodes[0].nodeValue;return a.toLowerCase()==="true"}}),null);
__d("getVideo64BitAtomLength",["Int64"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f=a.getUint32(c+e+d);a=a.getUint32(c+d+e+e);return new(b("Int64"))(a,f).toNumber()}}),null);
__d("VideoUploadMetadataParser",["Bootloader","ErrorNormalizeUtils","ISOVideoBoxConstants","Promise","VideoSphericalMetadataUtil","VideoUploadFeatureDetector","VideoUploadMetadataParserErrorCode","VideoUploadSphericalLogger","checkForSphericalTag","fileSlice","getErrorSafe","getVideo64BitAtomLength","gkx","nullthrows","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f){var g=4,h=4,i=5242880,j=24,k=88,l=20,m=16,n=4,o=84,p=20,q=62,r=4,s=12,t=12,u=16,v=16,w={0:36,1:52,2:72},x=1,y=1,z=4,A=1,B=1,C=4,D=4,E=1e3,F=16,G=32,H=34;c=function(){function c(a,b,c,d){this.$1=a,this.$2=b==null?function(){}:b,this.$4=c,this.$5=!0,this.$3=d}var d=c.prototype;d.getHandler=function(){return this.$2};d.$6=function(a){this.$2(a),this.$3!=null&&this.$3({success:!0,metadata:a})};d.$7=function(a,c){this.$2(null);if(this.$3!=null){c=c==null?void 0:b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")(c));this.$3({success:!1,errorCode:a,errorObject:c})}};d.parse=function(){if(!b("VideoUploadFeatureDetector").supportsFileReading()){this.$7(b("VideoUploadMetadataParserErrorCode").FILE_READING_NOT_SUPPORTED);return null}switch(this.$1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":b("VideoUploadSphericalLogger").setFileExtension(this.$1.getExtension());break;case"mkv":if(b("gkx")("816873")){b("VideoUploadSphericalLogger").setFileExtension(this.$1.getExtension());break}default:this.$7(b("VideoUploadMetadataParserErrorCode").UNKNOWN_FILE_EXTENSION);return null}return this.$8()};d.$8=function(){var a=this,c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=this.$9();d=this.$10();return e.abrupt("return",new(b("Promise"))(function(e,f){try{b("promiseDone")(b("Promise").all([c,d]).then(function(b){var c=b[0];if(c.completed){b=b[1];c.videoPlayerData=b;a.$6(c)}e(c)},function(c){a.$7(b("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,c),f(c)}))}catch(c){a.$7(b("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,c),f(c)}}));case 3:case"end":return e.stop()}},null,this)};d.$9=function(){var a=this,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=this.$1.getExtension();d.next=d.t0==="mp4"?3:d.t0==="mov"?3:d.t0==="m4v"?3:d.t0==="3gp"?3:d.t0==="3g2"?3:d.t0==="mkv"?5:8;break;case 3:c=this.$11(0,Math.min(i,this.$1.getSize()||0),null);return d.abrupt("break",9);case 5:d.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(d,e){b("Bootloader").loadModules(["VideoUploadMetadataMKVParser"],function(a){a=new a(this.$1);c=a.parse();d()}.bind(a),"VideoUploadMetadataParser")}));case 7:return d.abrupt("break",9);case 8:throw new Error("Unrecognized file extension in _parseImpl");case 9:return d.abrupt("return",b("nullthrows")(c));case 10:case"end":return d.stop()}},null,this)};d.$11=function(a,c,d){var e=this,f=new FileReader(),g=new(b("Promise"))(function(g,h){f.onload=function(j){var k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:m.prev=0;if(f.result instanceof ArrayBuffer){m.next=3;break}throw new Error("reader.result is something other than ArrayBuffer");case 3:k=e.$12(new DataView(f.result),0,c-a,a,d);if(!k.completed){m.next=10;break}j=e.$13(k);j.completed=!0;g(j);m.next=14;break;case 10:m.next=12;return b("regeneratorRuntime").awrap(e.$11(a+k.nextOffset,Math.min(e.$1.getSize()||0,a+k.nextOffset+i),k));case 12:l=m.sent,g(l);case 14:m.next=19;break;case 16:m.prev=16,m.t0=m["catch"](0),h(m.t0);case 19:case"end":return m.stop()}},null,this,[[0,16]])};var j=e.$1.getFile();f.readAsArrayBuffer(b("fileSlice").call(j,a,c))});return g};d.$10=function(){if(!this.$4||!a.URL||!a.URL.createObjectURL)return null;var c=this.$1.getFile(),d=document.createElement("video"),e=new(b("Promise"))(function(a,b){var c=window.setTimeout(function(){window.clearTimeout(c),b("Video onloadedmetadata timed out")},E)}),f=new(b("Promise"))(function(b,e){d.onloadedmetadata=function(){try{var a={width:d.videoWidth,height:d.videoHeight};b(a)}catch(a){e(a)}};try{d.src=a.URL.createObjectURL(c)}catch(a){e(a)}});return b("Promise").race([f,e])};d.$14=function(a,b,c){var d=[];for(var e=0;e<c;e++)d.push(String.fromCharCode(a.getUint8(b+e)));return d.join("")};d.$15=function(a,b,c){var d={version:null,ambisonic_type:null,ambisonic_order:null,ambisonic_channel_ordering:null,ambisonic_normalization:null,num_channels:null,channel_map:[]},e=0;d.version=a.getUint8(b+e);e=x;d.ambisonic_type=a.getUint8(b+e);e+=y;d.ambisonic_order=a.getUint32(b+e);e+=z;d.ambisonic_channel_ordering=a.getUint8(b+e);e+=A;d.ambisonic_normalization=a.getUint8(b+e);e+=B;d.num_channels=a.getUint32(b+e);e+=C;for(var f=0;f<d.num_channels;f++){d.channel_map.push(a.getUint32(b+e));e+=D;if(e>c)return null}return JSON.stringify(d)};d.$16=function(a,c,d,e){try{var f=h+g,i=b("ISOVideoBoxConstants").GSPHERICAL_UUID.length;if(f+i<d){var j=[];for(var k=0;k<i;k++)j.push(a.getUint8(c+f+k));k=b("VideoSphericalMetadataUtil").uuidArrayEquals(j,b("ISOVideoBoxConstants").GSPHERICAL_UUID);j=b("VideoSphericalMetadataUtil").uuidArrayEquals(j,b("ISOVideoBoxConstants").FBSPHERICAL_UUID);f+=i;if(k||j){i=this.$14(a,c+f,d-f);b("checkForSphericalTag")(i)&&(e.sphericalMetadata.spherical=!0,j?e.sphericalMetadata.FBSphericalMetadataXML=i:e.sphericalMetadata.sphericalMetadataXml=i)}}}catch(a){}};d.$12=function(a,c,d,e,f){f=f||{widths:[],heights:[],streamTypes:[],streamDurations:[],spherical:!1,sphericalMetadata:{sphericalMetadataXml:null,FBSphericalMetadataXML:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null},isParsingInMediaInformationAtom:!1,endOfMediaInformationAtomOffset:null,streamSampleCounts:[],samples:[]};var i=null;while(c<d){var x=a.getUint32(c),y=this.$14(a,c+g,h);x===1&&(x=b("getVideo64BitAtomLength")(a,c,h,g));if(c+x>d){f.completed=!1;f.nextOffset=c;x>d&&(f.nextOffset+=x);return f}f.isParsingInMediaInformationAtom&&c>=Number(f.endOfMediaInformationAtomOffset)&&(f.isParsingInMediaInformationAtom=!1,f.endOfMediaInformationAtomOffset=null);if(c+e===0&&y!=="ftyp")throw new Error("No ftyp atom");if(x===0)throw new Error("len is 0");var z=function(){var b=a.getUint32(c+l),d=a.getUint32(c+j);return d/b};switch(y){case"moov":case"trak":case"mdia":case"stbl":c+=g+h;break;case"mvhd":f.duration=z();c+=x;break;case"tkhd":y=a.getUint16(c+o);var A=a.getUint16(c+k);f.widths.push(y);f.heights.push(A);f.samples.push({descriptions:[]});i=a.getUint32(c+p);c+=x;break;case"hdlr":if(!f.isParsingInMediaInformationAtom){y=this.$14(a,c+m,n);switch(y){case"vide":y="video";break;case"soun":y="audio";break;case"subt":y="subtitle";break;default:y="data"}f.streamTypes.push(y)}c+=x;break;case"mdhd":f.streamDurations.push(z());c+=x;break;case"uuid":this.$16(a,c,x,f);c+=x;break;case"meta":A=t+s+r;y=this.$14(a,c+A,4);if(y!=="face"){c+=x;break}z=g+h+q;A=this.$14(a,c+z,x-z);A!==null&&((f.sphericalMetadata.fbSpatialAudioMetadataXml===null||f.sphericalMetadata.fbSpatialAudioMetadataXml===void 0)&&(f.sphericalMetadata.fbSpatialAudioMetadataXml="<fb360_spatial_audio>"),i?f.sphericalMetadata.fbSpatialAudioMetadataXml+='\n                <track id="'+i.toString()+'">\n                  '+A+"\n                </track>\n              ":f.sphericalMetadata.fbSpatialAudioMetadataXml+="\n                <spatial_audio_formatting>\n                  "+A+"\n                </spatial_audio_formatting>\n              ");c+=x;break;case"minf":y=this.$14(a,c+2*g+h,h);y==="smhd"||y==="vmhd"?(c+=g+h,f.isParsingInMediaInformationAtom=!0,f.endOfMediaInformationAtomOffset=c+x):(f.streamSampleCounts.push(null),c+=x);break;case"stsd":c+=u;break;case"avc1":if(this.$5&&f.samples.length>0){z=f.samples[f.samples.length-1];z.descriptions.push({width:a.getUint16(c+G),height:a.getUint16(c+H)})}c+=x;break;case"mp4a":case"sowt":case"raw ":case"twos":case"fl32":case"fl64":case"in24":case"in32":case"ulaw":case"alaw":case"lpcm":case"Opus":A=a.getUint16(c+v).toString();Object.prototype.hasOwnProperty.call(w,A)?c+=w[A]:c+=x;break;case"SA3D":y=this.$15(a,c+g+h,x);y!==null&&(f.sphericalMetadata.ytSa3dMetadataJson===null&&(f.sphericalMetadata.ytSa3dMetadataJson=y));c+=x;break;case"stsz":case"stz2":f.streamSampleCounts.push(a.getUint32(c+F));c+=x;break;default:c+=x}}f.completed=!0;f.sphericalMetadata.fbSpatialAudioMetadataXml&&(f.sphericalMetadata.fbSpatialAudioMetadataXml+="</fb360_spatial_audio>");return f};d.$13=function(a){var c={streams:{numAudioTracks:0},format:{},metadata:{}},d=a.widths.length,e=a.heights.length,f=a.streamTypes.length,g=a.streamDurations.length,h=a.streamSampleCounts.length,i=a.samples.length;if(d!==e||d!==f||d!==g||d!==h||d!==i)throw new Error("Number of parsed widths, heights, durations or sample counts for video file are mismatched.");for(var e=0;e<d;e++){var j={width:a.widths[e],height:a.heights[e],duration:a.streamDurations[e],type:a.streamTypes[e],sampleCount:a.streamSampleCounts[e]};if(j.type==="video"){this.$5&&a.samples[e].descriptions.forEach(function(a){a.width>j.width&&a.height>j.height&&(j.width=a.width,j.height=a.height)});f=j.width*j.height;g=c.streams.primaryVideo;(!g||g.width*g.height>f)&&(c.streams.primaryVideo=j)}else if(j.type==="audio"){h=c.streams.primaryAudio;(!h||h.duration<j.duration)&&(c.streams.primaryAudio=j);c.streams.numAudioTracks++}}c.format.duration=a.duration;c.format.isSpherical=a.sphericalMetadata.spherical;a.sphericalMetadata.spherical&&(c.metadata.sphericalMetadataXml=a.sphericalMetadata.sphericalMetadataXml,c.metadata.FBSphericalMetadataXML=a.sphericalMetadata.FBSphericalMetadataXML,c.metadata.fbSpatialAudioMetadataXml=a.sphericalMetadata.fbSpatialAudioMetadataXml,c.metadata.ytSa3dMetadataJson=a.sphericalMetadata.ytSa3dMetadataJson);b("VideoUploadSphericalLogger").setHasSphericalMetadata(a.sphericalMetadata.spherical);return c};return c}();e.exports=c}),null);
__d("MediaUploadFBMetadataParser",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadMetadataParser","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g="MediaUploadMetadataParser";a=function(){function a(){this.$1=b("MediaUploadFBStage").METADATA_EXTRACTION}var c=a.prototype;c.parse=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:a.emitStageEvent(b("MediaUploadStageEvent").STAGE_STARTED,this.$1);c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(this.$2(a));case 4:c.next=9;break;case 6:c.prev=6,c.t0=c["catch"](1),a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:c.t0});case 9:a.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c.abrupt("return",b("MediaUploadOperationOutcome").SUCCESS);case 11:case"end":return c.stop()}},null,this,[[1,6]])};c.retriveRawMetadata=function(a){return a.processing.rawData.getUnsafe(g)};c.$2=function(a){var c=this,d=a.asset;d=d.dataAsFile();if(d==null){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return b("Promise").resolve()}var e=new(b("VideoUploadFile"))(null,d.file,d.size,d.extension);return new(b("Promise"))(function(d){var f=new(b("VideoUploadMetadataParser"))(e,null,!1,function(e){e.success?c.$3(a,e.metadata):e.errorObject!=null?a.recordStageOutcome({stage:c.$1,outcome:b("MediaUploadFBStageOutcome").EXCEPTION,rawErrorCode:String(e.errorCode),rawErrorObject:e.errorObject}):a.recordStageOutcome({stage:c.$1,outcome:b("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:String(e.errorCode)}),d()});f.parse()})};c.$3=function(a,c){var d,e,f,h;a.processing.rawData.set(g,c);d=(d=c.format)==null?void 0:d.duration;d=d==null?void 0:b("MediaUploadTime").secondsToTime(d);e=(e=c.streams)==null?void 0:(e=e.primaryVideo)==null?void 0:e.width;f=(f=c.streams)==null?void 0:(f=f.primaryVideo)==null?void 0:f.height;c.videoPlayerData!=null&&((h=c.videoPlayerData)==null?void 0:h.width)>0&&((h=c.videoPlayerData)==null?void 0:h.height)>0&&(e=c.videoPlayerData.width,f=c.videoPlayerData.height);c=(h=c.format)==null?void 0:h.isSpherical;a.metadata={duration:d,width:e,height:f,isSpherical:c}};return a}();e.exports=a}),null);
__d("VideoUploadFileValidator",["errorCode","fbt","cr:909496","cr:909497","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],l=["VIDEO__INVALID_GUIDE_DATA"];a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.validate=function(a,b){return this.$2(a)&&this.$3(a)&&this.$4(a.getExtension()==="gif",b)};c.getValidationErrorMessage=function(a,b){return this.$5(a)||this.$6(a)||this.$7(a.getExtension()==="gif",b)};a.canReplaceVideoForError=function(a){if(!a)return!0;if(l.indexOf(a)>-1)return!1;return k.indexOf(a)>-1?!0:!1};c.$2=function(a){a=this.$5(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$5=function(a){if(this.$1.extensions[(a=a.getExtension())==null?void 0:a.toLowerCase()])return;a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=j.jsx(b("cr:909497"),{target:"_blank",href:a,children:h._("recommended formats")});return{summary:h._("Unsupported file format"),description:h._("Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[h._param("link",a)])}};c.$3=function(a){a=this.$6(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$6=function(a){var b;if(a.getSize()===null)return;a.getSize()<this.$1.minSize&&(b=this.$8());a.getSize()>this.$1.maxSize&&(b=this.$9());return b};c.$8=function(){var a=Math.round(this.$1.minSize/1024);return{summary:h._("Video File Too Small"),description:h._("The video file you tried to upload is too small. The minimum size for a video file is {min-size} KB. Please try again with a larger file.",[h._param("min-size",a)])}};c.$9=function(){var a=Math.floor(this.$1.maxSize/1024/1024);return{summary:h._("Video File Too Large"),description:h._("The video file you tried to upload is too large. The maximum size for a video file is {max-size} MB. Please try again with a smaller file.",[h._param("max-size",a)])}};c.$4=function(a,c){a=this.$7(a,c);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$7=function(a,b){var c;if(!b)return;var d=b.format.duration;d&&(d>this.$1.maxLength&&(c=this.$10()),d<this.$1.minLength&&!a&&(c=this.$11()));if(!b.streams||!b.streams.primaryVideo)return;d=b.streams.primaryVideo.width;a=b.streams.primaryVideo.height;var e=0,f=0;b.videoPlayerData!==null&&(e=b.videoPlayerData.height,f=b.videoPlayerData.width);this.$1.acceptDimensionsFromPlayer&&f!==0&&e!==0&&(d=f,a=e);!b.streams.primaryVideo&&b.streams.primaryAudio&&(c=this.$12());d<this.$1.minWidth&&(c=this.$13());a<this.$1.minHeight&&(c=this.$14());f=d/a;this.$1.require16to9AspectRatio&&((f>2||f<1.6)&&(c=this.$15()));this.$1.minAspectRatio&&(f<this.$1.minAspectRatio&&(c=this.$16()));this.$1.maxAspectRatio&&(f>this.$1.maxAspectRatio&&(c=this.$17()));return c};c.$10=function(){if(this.$1.source==="profile_video")return{summary:h._("Profile video duration too long"),description:h._("The maximum length is {max-length} seconds. Please upload a shorter video.",[h._param("max-length",this.$1.maxLength)])};else return{summary:h._("Video duration too long"),description:h._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[h._param("max-length",Math.round(this.$1.maxLength/60))])}};c.$11=function(){return{summary:h._("Video file too short"),description:h._({"second":"The duration of the video that you tried to upload is too short. The minimum length for a video is {min-length} second. Please upload a longer video.","seconds":"The duration of the video that you tried to upload is too short. The minimum length for a video is {min-length} seconds. Please upload a longer video."},[h._param("min-length",this.$1.minLength),h._enum(this.$1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"})])}};c.$12=function(){var a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=j.jsx(b("cr:909497"),{href:a,children:h._("supported video format")});return{summary:h._("No video detected"),description:h._("It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[h._param("supported-video-format link",a)])}};c.$13=function(){return{summary:h._("Video width too narrow"),description:h._("The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[h._param("min-width",this.$1.minWidth)])}};c.$15=function(){return{summary:h._("Problem with uploading video"),description:h._("Videos look best when they have a 16:9 aspect ratio. Please edit your video and upload it again.")}};c.$14=function(){return{summary:h._("Video height too short"),description:h._("The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[h._param("min-height",this.$1.minHeight)])}};c.$17=function(){return{summary:h._("Video too wide"),description:h._("The video you selected is too wide. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a taller video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};c.$16=function(){return{summary:h._("Video too tall"),description:h._("The video you selected is too tall. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a narrower video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};return a}();e.exports=a}),null);
__d("MediaUploadFBMetadataValidator",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadFileValidator"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=b("MediaUploadFBStage").METADATA_VALIDATION,this.$2=a}var c=a.prototype;c.validate=function(a,c){a.emitStageEvent(b("MediaUploadStageEvent").STAGE_STARTED,this.$1);try{c=this.$3(a,c)}catch(d){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:d}),c=b("MediaUploadOperationOutcome").SUCCESS}a.emitStageEventForOperationOutcome(c,this.$1);return b("Promise").resolve(c)};c.$4=function(a){var c={};a.extensions.forEach(function(a){return c[a]=1});return{minSize:a.minSizeKB*1024,maxSize:a.maxSizeKB*1024,maxLength:b("MediaUploadTime").timeToSeconds(a.maxDuration),minLength:b("MediaUploadTime").timeToSeconds(a.minDuration),acceptDimensionsFromPlayer:a.acceptDimensionsFromPlayer,minWidth:a.minWidth,minHeight:a.minHeight,require16to9AspectRatio:!1,minAspectRatio:a.minAspectRatio,maxAspectRatio:a.maxAspectRatio,source:a.sourceType,extensions:c}};c.$3=function(a,c){var d=a.asset.dataAsFile();if(d==null){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return b("MediaUploadOperationOutcome").SUCCESS}if(this.configuration==null)throw this.$2.createThrowableError("Missing configuration in the MediaUploadFBMetadataValidator");d=new(b("VideoUploadFile"))(null,d.file,d.size,d.extension);var e=this.$4(this.configuration);e=new(b("VideoUploadFileValidator"))(e);e=e.getValidationErrorMessage(d,c);if(e!=null){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").INTERNAL_FAILURE,displayError:e});return b("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT}else{a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS});return b("MediaUploadOperationOutcome").SUCCESS}};return a}();e.exports=a}),null);
__d("MediaUploadOperationAttemptOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","TRANSIENT_FAILURE","TRANSIENT_FAILURE_IMMEDIATE_RETRY","NON_TRANSIENT_FAILURE"]);c=a;e.exports=c}),null);
__d("MediaUploadFBEndpointRequest",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.send=function(a,c){var d=this;return new(b("MediaUploadCancelablePromise"))(function(e){c.emitStageEvent(b("MediaUploadStageEvent").STAGE_STARTED,a.stage);var f=a.createPayload();if(f==null){c.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,a.stage);e(b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}var g=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(a.uri).setData(f).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",c.sessionContext.sessionID).setProgressHandler(function(){a.networkNotifier.notifyOnProgress(c,a.stage)}).setHandler(function(b){e(d.$1(a,c,b))}).setErrorHandler(function(b){e(d.$2(a,c,b))});if(g.send()){a.networkNotifier.notifyOnNewRequest(c,a.stage);return{cancel:function(){a.networkNotifier.notifyOnAbandon(c,a.stage),g.abort()}}}else e(b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE)})};c.$1=function(a,c,d){var e;a.networkNotifier.notifyOnResponse(c,a.stage);(e=c.retryState)==null?void 0:e.resetBackoff();a.acceptSuccessfulResponse(d);c.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,a.stage);return b("MediaUploadOperationAttemptOutcome").SUCCESS};c.$2=function(a,c,d){var e=d.error<1e3,f=d.error>9999;e||f?a.networkNotifier.notifyOnResponse(c,a.stage):a.networkNotifier.notifyOnTransportError(c,a.stage);a.acceptErrorResponse(d);c.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,a.stage);c=e&&d.error>=400&&d.error<500||f&&!d.transientError;return c?b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:b("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE};return a}();e.exports=a}),null);
__d("MediaUploadNetworkStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:"Unknown",CONNECTED:"Connected",DISCONNECTED:"Disconnected",TIMEOUT:"TimedOut"});c=a;e.exports=c}),null);
__d("MediaUploadFBInternetProbe",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadNetworkStatus","Promise","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f){"use strict";var g="https://rupload.facebook.com/fb_video/ping-";a=function(){function a(a,c){this.$2=a,this.$1=c,this.$3=[""+g+b("uuid")()]}var c=a.prototype;c.$4=function(a){return new(b("MediaUploadCancelablePromise"))(function(c){var d=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a).setReadOnly(!0).setOption("suppressEvaluation",!0).setHandler(function(a){a=a==null?void 0:(a=a.payload)==null?void 0:a.status;c(a===200?b("MediaUploadNetworkStatus").CONNECTED:b("MediaUploadNetworkStatus").DISCONNECTED)}).setTransportErrorHandler(function(){c(b("MediaUploadNetworkStatus").DISCONNECTED)}).setErrorHandler(function(){c(b("MediaUploadNetworkStatus").DISCONNECTED)});d.send()||c(b("MediaUploadNetworkStatus").DISCONNECTED);return{cancel:function(){d.abort()}}})};c.$5=function(){var a=this;return new(b("Promise"))(function(c){a.$1.delayedExecutor(a.$2.timeout,function(){return c(b("MediaUploadNetworkStatus").TIMEOUT)})})};c.probe=function(){var a=this,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=this.$3.map(function(b){return a.$4(b)});d=b("Promise").race([this.$5()].concat(c.map(function(a){return a.promise})));f.next=4;return b("regeneratorRuntime").awrap(d);case 4:e=f.sent;c.forEach(function(a){return a.cancel()});return f.abrupt("return",e);case 7:case"end":return f.stop()}},null,this)};return a}();e.exports=a}),null);
__d("MediaUploadRetryableOperation",["MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){var e=this;this.$4=null;this.$1=a;this.$2=c;this.$3=d;this.cancelablePromise=new(b("MediaUploadCancelablePromise"))(function(a){e.$5(a);return{cancel:function(){var c;(c=e.$4)==null?void 0:c.cancel();e.$4=null;a(b("MediaUploadOperationOutcome").CANCELED)}}})}a.createAsPromise=function(b,c,d){b=new a(b,c,d);return b.cancelablePromise};var c=a.prototype;c.$5=function(a){var c=this,d=this.$1();this.$4=d;this.$3.promiseTerminator(d.promise.then(function(b){c.$4=null,c.$6(a,b)},function(d){c.$4=null;c.$6(a,b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);throw d}))};c.$6=function(a,c){switch(c){case b("MediaUploadOperationAttemptOutcome").CANCELED:a(b("MediaUploadOperationOutcome").CANCELED);break;case b("MediaUploadOperationAttemptOutcome").SUCCESS:a(b("MediaUploadOperationOutcome").SUCCESS);break;case b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:a(b("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT);break;case b("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE:this.$7(a,!1);break;case b("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE_IMMEDIATE_RETRY:this.$7(a,!0);break}};c.$7=function(a,c){var d=this;this.$2.increaseRetryAttemptCounter();if(this.$2.exceedTotalDuration())a(b("MediaUploadOperationOutcome").FAILED_OUT_OF_TIME);else if(this.$2.exceedTotalRetries())a(b("MediaUploadOperationOutcome").FAILED_NO_MORE_RETRIES);else if(c)this.$5(a);else{c=this.$2.calculateBackoffDelay();this.$4=this.$3.delayedExecutor(c,function(){return d.$5(a)},function(){return a(b("MediaUploadOperationOutcome").CANCELED)})}};return a}();e.exports=a}),null);
__d("MediaUploadFBNetworkAssetStrategy",["MediaUploadPipeline","MediaUploadRetryableOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.startRequest=b,this.uploadServiceRequest=c,this.receiveRequest=d}var c=a.prototype;c.run=function(a){var c=this,d=a.asset.dataAsFile();if(d==null)throw this.$1.createThrowableError("Browser is not compatible with current version of the SDK");else{var e=new(b("MediaUploadPipeline"))(this.$1);e.addCancelableStep(function(){return b("MediaUploadRetryableOperation").createAsPromise(function(){return c.startRequest.send(a)},a.retryState,c.$1)});e.addCancelableStep(function(){return b("MediaUploadRetryableOperation").createAsPromise(function(){return c.uploadServiceRequest.send(a,d,c.startRequest.retriveResponse(a))},a.retryState,c.$1)});e.addCancelableStep(function(){return b("MediaUploadRetryableOperation").createAsPromise(function(){return c.receiveRequest.send(a,c.startRequest.retriveResponse(a),c.uploadServiceRequest.retriveResponse(a))},a.retryState,c.$1)});return e.run()}};c.cancel=function(){};return a}();e.exports=a}),null);
__d("MediaUploadFBNetworkProbe",["MediaUploadNetworkStatus","Network"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.probe=function(){return b("Network").isOnline()?b("MediaUploadNetworkStatus").CONNECTED:b("MediaUploadNetworkStatus").DISCONNECTED};return a}();e.exports=a}),null);
__d("MediaUploadFBReceiveRequest",["ActorURI","MediaUploadCancelablePromise","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f){"use strict";var g="MediaUploadFBReceiveRequest";a=function(){function a(a){this.$1=b("MediaUploadFBStage").RECEIVE_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(b("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var c=a.prototype;c.send=function(a,c,d){var e=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBReceiveRequest");if((c==null?void 0:c.skip_upload)===!0){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return b("MediaUploadCancelablePromise").resolve(b("MediaUploadOperationAttemptOutcome").SUCCESS)}return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:b("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return e.$8(a,c,d)},createCustomHeaders:function(){return e.$9(a)},acceptSuccessfulResponse:function(c){a.processing.rawData.set(g,c.payload),a.recordStageOutcome({stage:e.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS})},acceptErrorResponse:function(c){a.recordStageOutcome({stage:e.$1,outcome:b("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:c.error,displayError:{summary:c.errorSummary,description:c.errorDescription},errorAttributes:{silentError:c.silentError,transientError:c.transientError},networkRequestID:(c=c.payload)==null?void 0:c.__www_request_id__})}},a)};c.$9=function(a){var b=this.$4;if(b)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};c.$8=function(a,c,d){if(c==null){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});return null}if(d==null){a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_UPLOAD_SERVICE_RESPONSE"});return null}var e=a.asset.dataAsFile();e={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,video_id:c.video_id,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:!0,supports_upload_service:!0,partition_start_offset:0,partition_end_offset:e==null?void 0:e.size,start_offset:0,end_offset:e==null?void 0:e.size,upload_speed:a.uploadSummary.computeSpeedBps(),fbuploader_video_file_chunk:d.everstoreHandle,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};d=this.$3;d!=null&&d({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),startCallResponse:c,payload:e});return e};return a}();e.exports=a}),null);
__d("MediaUploadFBStartRequest",["ActorURI","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome"],(function(a,b,c,d,e,f){"use strict";var g="MediaUploadFBStartRequest";a=function(){function a(a){this.$1=b("MediaUploadFBStage").START_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(b("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var c=a.prototype;c.retriveResponse=function(a){return a.processing.rawData.getUnsafe(g)};c.send=function(a){var c=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBStartRequest");return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:b("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return c.$8(a)},createCustomHeaders:function(){return c.$9(a)},acceptSuccessfulResponse:function(d){var e=d.payload;if(e.video_id!=null)a.processing.rawData.set(g,e),a.videoID=e.video_id,a.recordStageOutcome({stage:c.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS});else{a.recordStageOutcome({stage:c.$1,outcome:b("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,networkRequestID:(e=d.payload)==null?void 0:e.__www_request_id__})}},acceptErrorResponse:function(d){a.recordStageOutcome({stage:c.$1,outcome:b("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError},networkRequestID:(d=d.payload)==null?void 0:d.__www_request_id__})}},a)};c.$9=function(a){var b=this.$4;if(b!=null)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};c.$8=function(a){var b,c=a.asset.dataAsFile();b={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:c!=null,supports_file_api:c!=null,file_size:c==null?0:c.size,file_extension:String(a.asset.data.extension),spherical:(b=a.metadata)==null?void 0:b.isSpherical,partition_start_offset:0,partition_end_offset:c==null?void 0:c.size,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,video_publisher_action_source:a.request.attributes.publisherActionSource,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};c=this.$3;c!=null&&c({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),payload:b});return b};return a}();e.exports=a}),null);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});e.exports=a}),null);
__d("ResumableUploadService",["AsyncRequest","ConstUriUtils","EventEmitter","Promise","ResumableUploadServiceState.enum","gkx","uuid"],(function(a,b,c,d,e,f){"use strict";var g="rupload",h="facebook.com";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,i,j,k,l,m,n,o,p,q){var r;r=a.call(this)||this;r.consumer=c;r.accessToken=d;r.sessionKey=e||b("uuid")();r.contentKey=f||"";r.contentValue=i||"";r.serviceName=j&&j!=""?j:g;r.serviceDomain=k&&k!=""?k:h;r.receiveParameters=l;r.flowCaptureHeaderValue=m;r.skipOffsetFetching=n;r.thriftParams=(c=o)!=null?c:new Map();r.tracingHeaderValue=p;r.customHttpHeaders=(d=q)!=null?d:new Map();return r}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.skipOffsetFetching,a.thriftParams,a.tracingHeaderValue,a.customHttpHeaders)};var d=c.prototype;d.$ResumableUploadService1=function(a){if(b("gkx")("1765373")){var c;if(((c=this.receiveParameters)==null?void 0:c.target_id)!=null){a.setRequestHeader("target_id",String((c=this.receiveParameters)==null?void 0:c.target_id))}if(((c=this.receiveParameters)==null?void 0:c.video_waterfall_id)!=null){a.setRequestHeader("x_fb_video_waterfall_id",String((c=this.receiveParameters)==null?void 0:c.video_waterfall_id))}}if(((c=this.receiveParameters)==null?void 0:c.xpv_asset_id)!=null){a.setRequestHeader("xpv_asset_id",String((c=this.receiveParameters)==null?void 0:c.xpv_asset_id))}if(((c=this.receiveParameters)==null?void 0:c.is_xpv_single_prod)!=null){a.setRequestHeader("is_xpv_single_prod",String((c=this.receiveParameters)==null?void 0:c.is_xpv_single_prod))}};d.resume=function(a){var c=this,d=this.getServiceName();d=b("ConstUriUtils").getUri("https://"+d+"/"+this.consumer+"/"+this.sessionKey);d!=null&&this.contentKey&&this.contentValue&&(d=d.addQueryParam(this.contentKey,this.contentValue));if(d==null){var e=new Error("ResumableUploadService: Invalid uploadURI");e.stack;throw e}var f=d.toString();e=function(){return new(b("Promise"))(function(a,d){a=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(f).setReadOnly(!0).setHandler(a).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a,{method:"GET"})});c.$ResumableUploadService1(a);c.decorateRequestFlowCaptureHeader(a);a.send()})};d=function(d){return new(b("Promise"))(function(e,g){var h=0;if(d!==void 0){var i=JSON.parse(d.payload.response);h=i.offset}c.emit(b("ResumableUploadServiceState.enum").START,{offset:h});c.uploadAsyncRequest=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(f).setRawData(a.slice(h)).setHandler(e).setErrorHandler(g).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(h)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(d){d=new ProgressEvent("upload-service",{total:a.size,loaded:d.loaded+Number(h)});c.emit(b("ResumableUploadServiceState.enum").PROGRESS,d)}).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a,{method:"POST",offset:h})});c.$ResumableUploadService1(c.uploadAsyncRequest);c.decorateRequestFlowCaptureHeader(c.uploadAsyncRequest);if(c.receiveParameters){i=c.receiveParameters;c.uploadAsyncRequest.setRequestHeader("start_offset",String(i.start_offset));c.uploadAsyncRequest.setRequestHeader("end_offset",String(i.end_offset));c.uploadAsyncRequest.setRequestHeader("composer_session_id",String(i.composer_session_id));c.uploadAsyncRequest.setRequestHeader("id",String(i.upload_session_id));c.uploadAsyncRequest.setRequestHeader("product_media_id",String(i.product_media_id));i.fb_region&&c.uploadAsyncRequest.setRequestHeader("X-FB-Region",String(i.fb_region));i.total_file_size&&c.uploadAsyncRequest.setRequestHeader("X-Total-Asset-Size",String(i.total_file_size))}c.thriftParams.size>0&&c.uploadAsyncRequest.setRequestHeader("X-Thrift-Params",JSON.stringify(Object.fromEntries(c.thriftParams.entries())));c.tracingHeaderValue&&c.uploadAsyncRequest.setRequestHeader("x-fb-product-log",c.tracingHeaderValue);if(c.customHttpHeaders.size>0)for(var e=c.customHttpHeaders,g=Array.isArray(e),i=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=e.length)break;j=e[i++]}else{i=e.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];c.uploadAsyncRequest.setRequestHeader(k,j)}c.uploadAsyncRequest.send()})};var g=function(a){if(a!=null){a=JSON.parse(a.payload.response);a.h!=null?c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a.h):c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a)}else c.emit(b("ResumableUploadServiceState.enum").FAIL,"uploading failed")},h=function(a){return c.emit(b("ResumableUploadServiceState.enum").FAIL,a)};e=this.skipOffsetFetching?b("Promise").resolve():e();return e.then(d,h).then(g,h)};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};d.cancel=function(){this.uploadAsyncRequest&&this.uploadAsyncRequest.abort(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};return c}(b("EventEmitter"));e.exports=a}),null);
__d("MediaUploadFBUploadServiceRequest",["AsyncResponse","MediaUploadCancelablePromise","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent","ResumableUploadService","ResumableUploadServiceState.enum","md5"],(function(a,b,c,d,e,f){"use strict";var g="MediaUploadFBUploadServiceRequest";a=function(){function a(a){this.$1=b("MediaUploadFBStage").BYTES_UPLOAD,this.$2=a.envParams,this.$3=a.networkNotifier}var c=a.prototype;c.send=function(a,c,d){var e=this;return new(b("MediaUploadCancelablePromise"))(function(f){a.emitStageEvent(b("MediaUploadStageEvent").STAGE_STARTED,e.$1);var g=e.configuration;if(g==null)throw e.$2.createThrowableError("Missing configuration in the MediaUploadFBUploadServiceRequest");if(d==null){a.recordStageOutcome({stage:e.$1,outcome:b("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});a.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,e.$1);f(b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}if(d.skip_upload){a.uploadSummary.updateForUploadSkip(c.size);a.recordStageOutcome({stage:e.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,e.$1);f(b("MediaUploadOperationAttemptOutcome").SUCCESS);return}a.uploadSummary.updateForUploadStart(c.size);a.recalculateProgressAndEmit();g=e.$4(a,c,g,d);var h=b("ResumableUploadService").create(g);a.processing.uploadServiceDomain=h.getServiceName();e.$5(a,h,f);h.resume(c.file);e.$3.notifyOnNewRequest(a,e.$1);return{cancel:function(){h.cancel()}}})};c.retriveResponse=function(a){return a.processing.rawData.getUnsafe(g)};c.$6=function(a,c,d){this.$3.notifyOnResponse(a,this.$1),typeof d==="string"?(a.processing.rawData.set(g,{everstoreHandle:d}),a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").SUCCESS}),a.emitStageEvent(b("MediaUploadStageEvent").STAGE_SUCCEED,this.$1),c(b("MediaUploadOperationAttemptOutcome").SUCCESS)):(a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,rawErrorCode:"RECEIVED_HANDLE_IS_NOT_STRING"}),a.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,this.$1),c(b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE))};c.$7=function(a,c,d){d.error<1e3?this.$3.notifyOnResponse(a,this.$1):this.$3.notifyOnTransportError(a,this.$1);a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError}});a.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,this.$1);a=d.error>=400&&d.error<500;c(a?b("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:b("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE)};c.$8=function(a,c,d){d instanceof b("AsyncResponse")?this.$7(a,c,d):(this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorObject:d}),a.emitStageEvent(b("MediaUploadStageEvent").STAGE_FAILED,this.$1),c(b("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE))};c.$9=function(a,c){this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:b("MediaUploadFBStageOutcome").CANCEL}),a.emitStageEvent(b("MediaUploadStageEvent").STAGE_CANCELED,this.$1),c(b("MediaUploadOperationAttemptOutcome").CANCELED)};c.$10=function(a,c){this.$3.notifyOnProgress(a,this.$1),(c==null?void 0:c.loaded)!=null&&(a.uploadSummary.updateForProgress(c.loaded),a.emitStageEvent(b("MediaUploadStageEvent").STAGE_PROGRESS,this.$1))};c.$5=function(a,c,d){var e=this,f;c.addListener((f=b("ResumableUploadServiceState.enum")).SUCCESS,function(b){return e.$6(a,d,b)});c.addListener(f.TRANSPORT_FAILURE,function(b){return e.$7(a,d,b)});c.addListener(f.FAIL,function(b){return e.$8(a,d,b)});c.addListener(f.CANCEL,function(){return e.$9(a,d)});c.addListener(f.PROGRESS,function(b){return e.$10(a,b)})};c.$4=function(a,c,d,e){var f;c=c.file;f=[String(c.lastModified),c.name,c.type,String(c.size),(f=(f=a.processing.pseudoHash)==null?void 0:f.hashValue)!=null?f:[a.sessionContext.sessionID,a.assetID].join("-")].join("-");f=[b("md5")(f),String(e.start_offset),String(e.end_offset)].join("-");var g=d.tracing.enabled&&d.tracing.minFileSizeKB<c.size/1024?["video_upload_www",[a.assetID,String(a.retryState.getRetryAttempts())].join("_"),[String(a.sessionContext.sessionID),String(e.video_id)].join("_")].join(":"):null,h=d.defaultService,i=h.serviceName;h=h.serviceDomain;a.retryState.getRetryAttemptsSinceLastReset()<10&&d.targetedService!=null&&(i=d.targetedService.serviceName,h=d.targetedService.serviceDomain);return{consumer:"fb_video",accessToken:"",sessionKey:f,serviceName:i,serviceDomain:h,tracingHeaderValue:g,receiveParameters:{start_offset:String(e.start_offset),end_offset:String(e.end_offset),composer_session_id:a.sessionContext.sessionID,upload_session_id:String(e.upload_session_id),product_media_id:e.video_id,xpv_asset_id:e.xpv_asset_id,is_xpv_single_prod:e.is_xpv_single_prod,fb_region:e.fb_region,total_file_size:String(c.size),target_id:a.request.attributes.targetID,video_waterfall_id:a.sessionContext.sessionID}}};return a}();e.exports=a}),null);
__d("GraphQLVideoPublisherInputDataHandlerBase",["invariant"],(function(a,b,c,d,e,f,g){"use strict";f.hasAPISupport=h;a=function(){function a(a,b){this.postData=a,this.extraData=b}var b=a.prototype;b.mapPostDataToGraphQLInputObject=function(){g(0,85)};b.hasAPISupport=function(){return h(this.postData)};b.uploadables=function(){g(0,85)};return a}();f.GraphQLVideoPublisherInputDataHandlerBase=a;function h(a){return!0}}),null);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});e.exports=a}),null);
__d("BrandedContentSponsorRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7});e.exports=a}),null);
__d("CallToActionTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",VIEW_RESUME:"VIEW_RESUME",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT",SEND_GIFT_MONEY:"SEND_GIFT_MONEY"});e.exports=a}),null);
__d("ExpirationType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3,HIDE_LONG_DURATION:4});e.exports=a}),null);
__d("VideoAssetMatureContentRating",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,SUITABLE_FOR_ALL:1,FOURTEEN_PLUS:2,EIGHTEEN_PLUS:3});e.exports=a}),null);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"});e.exports=a}),null);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2});e.exports=a}),null);
__d("GraphQLVideoPublisherVideoUploaderInputDataHandler",["BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","CallToActionTypes","ClientIDs","ExpirationType","GraphQLVideoPublisherInputDataHandlerBase","VideoAssetMatureContentRating","VideoCommentatingPermission","VideoFundedContentFlagProgram","VideoProjection","VideoStereoFormat","enumUtils"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mapPostDataToGraphQLInputObject=function(){var a=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler1(),c=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler2(),d=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler3(),e=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler4(),f=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler5(),g=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler6(),h=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler7(),i=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler8(),j=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler9(),k=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler10(),l=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler11(),m=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler12(),n=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler13(),o=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler14(),p=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler15();return{actor_id:this.extraData.target_id,basic_data:a,client_mutation_id:b("ClientIDs").getNewClientID(),thumbnail_data:c,ad_break_data:e,vu_editor_data:i,post_status_data:d,main_composer_tab_data:f,distribution_data:g,stars_data:h,questions_data:j,polls_data:k,tracking_data:l,captions_data:m,spherical_data:n,live_premiere_data:o,video_editor_config_json:this.postData.video_editor_config_json,location_preset_data:p}};d.uploadables=function(){return babelHelpers["extends"]({},this.$GraphQLVideoPublisherVideoUploaderInputDataHandler16(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler17(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler18())};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler1=function(){var a;return{source:this.extraData.source,target_id:this.extraData.target_id,video_id:this.extraData.video_id,video_title:this.postData.video_title,waterfall_id:this.extraData.waterfall_id,xhpc_message:this.postData.xhpc_message,creator_product:(a=this.extraData.creator_product)==null?void 0:a.toString(),composer_entry_point_ref:this.extraData.composer_entry_point_ref,composer_dialog_version:this.extraData.composer_dialog_version,has_file_been_replaced:this.extraData.has_file_been_replaced,supports_chunking:this.extraData.supports_chunking}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler2=function(){return{thumbnail_type:this.postData.thumbnail_type}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler17=function(){return this.postData.thumbnail_uploadable};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler18=function(){var a={},b=this.postData.schedule_custom_background_image,c=this.postData.schedule_custom_profile_image,d=this.postData.schedule_feed_background_image;b!=null&&(a.schedule_custom_background_image=b);c!=null&&(a.schedule_custom_profile_image=c);d!=null&&(a.schedule_feed_background_image=d);return a};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler4=function(){var a;a=(a=this.postData.ad_breaks)==null?void 0:a.map(function(a){return{time_offset:parseInt(a.time_offset,10),status:a.status}});return{ad_breaks:a,ad_break_prereview:this.postData.ad_break_prereview,ad_breaks_experiment_revenue_loss_threshold:this.postData.ad_breaks_experiment_revenue_loss_threshold,enable_ad_breaks_experiment:this.postData.enable_ad_breaks_experiment,ad_breaks_block_lists:this.postData.ad_breaks_block_lists,has_ad_breaks_block_lists:this.postData.has_ad_breaks_block_lists,is_in_stream_enabled:this.postData.is_in_stream_enabled,self_cert_answers:this.postData.self_cert_answers,should_auto_adjust_manual_ad_breaks:this.postData.should_auto_adjust_manual_ad_breaks,should_auto_insert_ad_breaks:this.postData.should_auto_insert_ad_breaks,should_use_image_ads:this.postData.should_use_image_ads,monetization_pre_check_options:this.postData.monetization_pre_check_options}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler3=function(){return{dogfooding:this.postData.dogfooding,draft:this.postData.draft,is_reviewable_branded_content:this.postData.is_reviewable_branded_content,scheduled:this.postData.scheduled,future_date:this.postData.future_date,future_time:this.postData.future_time,expiring:this.postData.expiring,expire_type:this.postData.expire_type!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.expire_type,b("ExpirationType")):null,expire_time:this.postData.expire_time,backdated_date:this.postData.backdated_date,hide_from_newsfeed:this.postData.hide_from_newsfeed}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler19=function(){var a=this.postData.branded_content_data;if(a==null)return null;var c=a.tagging_data;c!=null&&(c=babelHelpers["extends"]({},c,{shared_to_sponsor_status:c.shared_to_sponsor_status!=null?b("enumUtils").enumValueToKeyEnforcing(c.shared_to_sponsor_status,b("BrandedContentSharedToSponsorStatus")):null,sponsor_relationship:c.sponsor_relationship!=null?b("enumUtils").enumValueToKeyEnforcing(c.sponsor_relationship,b("BrandedContentSponsorRelationship")):null}));return babelHelpers["extends"]({},a,{tagging_data:c})};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler5=function(){return{action_type_id:this.postData.action_type_id,branded_content_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler19(),composertags_place_name:this.postData.composertags_place_name,composertags_place:this.postData.composertags_place,composertags_product_items:this.postData.composertags_product_items,composertags_sponsor:this.postData.composertags_sponsor,composertags_with:this.postData.composertags_with,content_tags:this.postData.content_tags,cta_type:this.postData.cta_type!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.cta_type,b("CallToActionTypes")):null,deal_id:this.postData.deal_id,direct_share_status:this.postData.direct_share_status!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.direct_share_status,b("BrandedContentSharedToSponsorStatus")):null,episode_data_json:this.postData.episode_data_json,external_movie_data:this.postData.external_movie_data,feed_targeted_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler20(),fan_funding_promotion_metadata:this.postData.fan_funding_promotion_metadata,free_form_tags:this.postData.free_form_tags,funded_content_program:this.postData.funded_content_program?b("enumUtils").enumValueToKeyEnforcing(this.postData.funded_content_program,b("VideoFundedContentFlagProgram")):null,fundraiser_for_story_charity_id:this.postData.fundraiser_for_story_charity_id,fundraiser_for_story_charity_type:this.postData.fundraiser_for_story_charity_type,game_id:this.postData.game_id,icon_id:this.postData.icon_id,is_explicitly_tagged_as_gaming_video:this.postData.is_explicitly_tagged_as_gaming_video,is_rewards_enabled:this.postData.is_rewards_enabled,is_stars_enabled_for_post:this.postData.is_stars_enabled_for_post,multilingual_specified_lang:this.postData.multilingual_specified_lang,multilingual_status_langs:this.postData.multilingual_status_langs,multilingual_statuses:this.postData.multilingual_statuses,object_id:this.postData.object_id,object_str:this.postData.object_str,playlistIDs:this.postData.playlistIDs,share_to_parent_page_option_selected:this.postData.share_to_parent_page_option_selected,sponsor_relationship:this.postData.sponsor_relationship?b("enumUtils").enumValueToKeyEnforcing(this.postData.sponsor_relationship,b("BrandedContentSponsorRelationship")):null,targeted_privacy_data:JSON.stringify(this.postData.targeted_privacy_data)}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler20=function(){var a=babelHelpers["extends"]({},this.postData.feed_targeted_data);this.postData.relevant_until_date!=null&&(a["relevant-until-date"]=this.postData.relevant_until_date);this.postData.relevant_until_time!=null&&(a["relevant-until-time"]=this.postData.relevant_until_time);Object.keys(a).length===0&&(a=void 0);return JSON.stringify(a)};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler6=function(){return{commentating_permission:this.postData.commentating_permission!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.commentating_permission,b("VideoCommentatingPermission")):null,crossposting_config:this.postData.crossposting_config,disturbing:this.postData.disturbing,embeddable:this.postData.embeddable,enable_drm:this.postData.enable_drm,exclude_from_watch:this.postData.exclude_from_watch,mature_content_rating:this.postData.mature_content_rating!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.mature_content_rating,b("VideoAssetMatureContentRating")):null,no_story:this.postData.no_story,secret:this.postData.secret,shows_v2_episode_data:this.postData.shows_v2_episode_data,social_actions:this.postData.social_actions}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler7=function(){return{is_receiving_stars_enabled:this.postData.is_receiving_stars_enabled,stars_goal_id:this.postData.stars_goal_id,stars_cue_trigger_timestamp:this.postData.stars_cue_trigger_timestamp}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler11=function(){return{custom_labels:this.postData.custom_labels,external_video_id:this.postData.external_video_id}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler9=function(){return{questions:this.postData.questions}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler10=function(){return{polls:this.postData.polls}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler21=function(a){return a.getIsDefault()?"captions_default":"captions_file"};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler12=function(){var a,b=this;a=(a=this.postData.captions)==null?void 0:a.map(function(a,c){return b.$GraphQLVideoPublisherVideoUploaderInputDataHandler21(a)+c});return{autopublish_captions:this.postData.autopublish_captions,captions:a,should_review_all_captions:this.postData.should_review_all_captions,spoken_locale:this.postData.spoken_locale}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler16=function(){var a,b=this,c={};(a=this.postData.captions)==null?void 0:a.forEach(function(a,d){c[b.$GraphQLVideoPublisherVideoUploaderInputDataHandler21(a)+d]=a.getFile()});return c};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler8=function(){return{auto_reframe_aspect_ratios:this.postData.auto_reframe_aspect_ratios,auto_reframe_publish_mode:this.postData.auto_reframe_publish_mode,trailer_review_required:this.postData.trailer_review_required,trailer_generate_on:this.postData.trailer_generate_on}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler13=function(){return{initialHeading:this.postData.initialHeading,initialPitch:this.postData.initialPitch,fov:this.postData.fov,guide_enabled:this.postData.guide_enabled,guide_keyframes:this.postData.guide_keyframes,enable_omnistab:this.postData.enable_omnistab,spherical:this.postData.spherical,projection:this.postData.projection!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.projection,b("VideoProjection")):null,stereoMode:this.postData.stereoMode!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.stereoMode,b("VideoStereoFormat")):null}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler14=function(){return{premiere_time_ms:this.postData.premiere_time_ms,should_premiere:this.postData.should_premiere,premiere_in_living_room_video_ids:this.postData.premiere_in_living_room_video_ids,premiere_custom_profile_image_focus:this.postData.premiere_custom_profile_image_focus,feed_background_focus:this.postData.feed_background_focus,premiere_audience:this.postData.premiere_audience}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler15=function(){return{location_preset_id:this.postData.location_preset_id}};return c}(b("GraphQLVideoPublisherInputDataHandlerBase").GraphQLVideoPublisherInputDataHandlerBase);e.exports=a}),null);
__d("VideoComposerVideoPublishingMutation",["RelayAPIConfig","RelayRuntime","VideoComposerVideoPublishingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=b("RelayRuntime").commitMutation,i=1e3*90,j=g!==void 0?g:g=b("VideoComposerVideoPublishingMutation.graphql");function a(a,c,d,e,f){var g=b("RelayAPIConfig").fetchTimeout;b("RelayAPIConfig").fetchTimeout=i;return h(c,{uploadables:d,mutation:j,variables:{input:a},onCompleted:function(a){b("RelayAPIConfig").fetchTimeout=g,e(a)},onError:function(a){b("RelayAPIConfig").fetchTimeout=g,f(a)}})}}),null);
__d("VideoComposerVideoPublisher",["RelayFBEnvironmentFactory","VideoComposerVideoPublishingMutation","err"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.mapPostDataToGraphQLInputObject(),this.$3=a.hasAPISupport(),this.$2=a.uploadables()}var c=a.prototype;c.publish=function(a,c){if(!this.$3)throw b("err")("This api does not support your publishing use case");b("VideoComposerVideoPublishingMutation").commit(this.$1,b("RelayFBEnvironmentFactory").getForActorID(this.$1.basic_data.target_id),this.$2,a,c)};return a}();e.exports=a}),null);
__d("VideoUploadGraphQLPostRequestManager",["FBLogger","GraphQLVideoPublisherInputDataHandlerBase","GraphQLVideoPublisherVideoUploaderInputDataHandler","VideoComposerVideoPublisher","clearTimeout","cr:909282","err","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){var f;f=a.call(this)||this;f.$VideoUploadGraphQLPostRequestManager1=0;f.$VideoUploadGraphQLPostRequestManager2=0;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=0;f.$VideoUploadGraphQLPostRequestManager5=0;f.$VideoUploadGraphQLPostRequestManager6=0;f.$VideoUploadGraphQLPostRequestManager7=null;f.$VideoUploadGraphQLPostRequestManager8=null;f.$VideoUploadGraphQLPostRequestManager9=!1;f.$VideoUploadGraphQLPostRequestManager1=b;f.$VideoUploadGraphQLPostRequestManager2=c;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=d;f.$VideoUploadGraphQLPostRequestManager5=e;f.$VideoUploadGraphQLPostRequestManager6=0;return f}var d=c.prototype;d.sendRequest=function(a){this.$VideoUploadGraphQLPostRequestManager8=a;if(this.$VideoUploadGraphQLPostRequestManager9){b("FBLogger")("video_publish_graphql").info("Sending publishing request again while processing another request");return}this.$VideoUploadGraphQLPostRequestManager10();this.inform("request-started")};d.clearRequest=function(){this.$VideoUploadGraphQLPostRequestManager9=!1,this.$VideoUploadGraphQLPostRequestManager6=0,this.$VideoUploadGraphQLPostRequestManager3=0};d.$VideoUploadGraphQLPostRequestManager10=function(){var a=this.$VideoUploadGraphQLPostRequestManager8;if(a==null)return;b("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7);this.$VideoUploadGraphQLPostRequestManager7=null;var c=a.getMetadata();a=this.__createRequestData(a);c=new(b("GraphQLVideoPublisherVideoUploaderInputDataHandler"))(c,a);this.$VideoUploadGraphQLPostRequestManager9=!0;a=new(b("VideoComposerVideoPublisher"))(c);a.publish(this.$VideoUploadGraphQLPostRequestManager11.bind(this),this.$VideoUploadGraphQLPostRequestManager12.bind(this))};d.__createRequestData=function(a){var c=a.getVideoID(),d=a.getTargetID();if(c==null)throw b("err")("Video id cannot be null");if(d==null)throw b("err")("Target id cannot be null");return{video_id:c,target_id:d,source:"COMPOSER",waterfall_id:a.getWaterfallID()||"",creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.$VideoUploadGraphQLPostRequestManager11=function(a){this.inform("request-finished",{video_asset_id:(a=a.video_publish)==null?void 0:a.video_asset_id});this.clearRequest()};d.$VideoUploadGraphQLPostRequestManager13=function(a){this.inform("request-failed",{error_code:a.number,error_description:a.message,error_summary:a.name,error_object:a}),this.clearRequest()};d.$VideoUploadGraphQLPostRequestManager12=function(a){this.$VideoUploadGraphQLPostRequestManager14(a)&&this.$VideoUploadGraphQLPostRequestManager6<this.$VideoUploadGraphQLPostRequestManager4?(b("FBLogger")("video_publish_graphql").info("retry publishing for error: %s",a.stack),this.$VideoUploadGraphQLPostRequestManager6++,this.$VideoUploadGraphQLPostRequestManager15(this.$VideoUploadGraphQLPostRequestManager16(this.$VideoUploadGraphQLPostRequestManager5,this.$VideoUploadGraphQLPostRequestManager6))):this.$VideoUploadGraphQLPostRequestManager13(a)};d.$VideoUploadGraphQLPostRequestManager16=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadGraphQLPostRequestManager15=function(a){b("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7),this.$VideoUploadGraphQLPostRequestManager7=b("setTimeout")(this.$VideoUploadGraphQLPostRequestManager10.bind(this),a)};d.$VideoUploadGraphQLPostRequestManager14=function(a){a=a.toString();return a.includes("NetworkTransportError")||a.includes("NetworkTimeoutError")||a.includes("NetworkRequestError")?!0:!1};d.hasAPISupport=function(a){return b("GraphQLVideoPublisherInputDataHandlerBase").hasAPISupport(a)};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_CANCELED_START_REQUEST:"upload.client.canceled_sending_start_request",EVENT_STARTED_RECEIVE_REQUEST:"upload.client.started_sending_receive_request",EVENT_FINISHED_RECEIVE_REQUEST:"upload.client.finished_sending_receive_request",EVENT_FAILED_RECEIVE_REQUEST:"upload.client.failed_sending_receive_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_HANDLING_SERVER_FAILURE_RESPONSE:"upload.client.handling_server_failure_response",EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE:"upload.client.handling_transport_failure_response",EVENT_DUPLICATE_POST_REQUEST:"upload.client.duplicate_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_STARTED_FETCHING_STATUS:"upload.client.started_fetching_status",EVENT_FINISHED_FETCHING_STATUS:"upload.client.finished_fetching_status",EVENT_STARTED_POST_FLOW:"upload.client.started_post_flow",EVENT_FINISHED_POST_FLOW:"upload.client.finished_post_flow",EVENT_CANCELED_POST_FLOW:"upload.client.canceled_post_flow",EVENT_FAILED_POST_FLOW:"upload.client.failed_post_flow",EVENT_RETRY_ATTEMPT:"upload.client.retry_attempt",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_ENCODING_ABORT_OBSERVED:"encode.client.encoding_abort_observed",EVENT_FETCH_FAIL_OBSERVED:"encode.client.fetch_video_info_fail_observed",EVENT_ENCODING_SUBSCRIBE_TO_VIDEO_STATUS:"encode.client.subscribe_to_video_status",EVENT_ENCODING_POLLING_FALLBACK:"encode.client.polling_fallback",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1",EVENT_MEASURE_FREE_LOCAL_STORAGE:"upload.client.free_local_storage"});f.VideoUploadLoggerEvents=a}),null);
__d("VideoUploadLogger",["Banzai","CurrentUser","VideoUploadLoggerEvents","VideoUploadLoggingConfig","cr:1840657","gkx"],(function(a,b,c,d,e,f){a=b("VideoUploadLoggerEvents").VideoUploadLoggerEvents;c=babelHelpers["extends"]({BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer"},a);var g=new Set([a.EVENT_STARTED_FLOW,a.EVENT_FINISHED_FLOW,a.EVENT_FAILED_FLOW,a.EVENT_CANCELED_FLOW]);d=function(){"use strict";function a(c){this.$1=c.source,this.$2=c.composer_dialog_version,this.$3=c.waterfall_id,this.$4=c.ad_account_id,this.$5=c.target_id,this.$6=c.delay,this.$7=[],this.$8=c.is_chunked_upload,this.$9=c.actor_id,this.$10=c.composer_entry_point_ref,this.$11=c.composer_work_shared_draft_mode,this.$12=c.is_remote_upload,this.$13=c.container_type,this.$14=c.has_file_been_replaced,this.$15=c.composer_session_id,this.$16=c.creative_tools,this.$17=c.asset_id,this.$18=b("gkx")("1554254")===!0?b("CurrentUser").getAppID():void 0,this.$19=!Boolean(c.reported_by_notifier)&&a.shouldSendFlowEventsViaNotifier({source_type:c.source,composer_entry_point_ref:c.composer_entry_point_ref})}a.shouldSendFlowEventsViaNotifier=function(a){return Boolean((b("VideoUploadLoggingConfig").FLOW_VIA_NOTIFIER_COMPOSERS||[]).find(function(b){return b.source_type===a.source_type&&b.composer_entry_point_ref===a.composer_entry_point_ref}))};var c=a.prototype;c.logEvent=function(c,d){if(this.$19&&g.has(c))return;d=babelHelpers["extends"]({},d);d.elapsed_time==null&&(c.indexOf("started")!==-1?this.$7[c]=Date.now():c.indexOf("finished")!==-1?d.elapsed_time=this.$20(c,"finished"):c.indexOf("canceled")!==-1?d.elapsed_time=this.$20(c,"canceled"):c.indexOf("failed")!==-1&&(d.elapsed_time=this.$20(c,"failed")));d.event=c;d.source=this.$1;d.composer_dialog_version=d.composer_dialog_version||this.$2;d.waterfall_id=this.$3;d.ad_account_id=this.$4;d.target_id=this.$5;d.is_chunked_upload=this.$8;d.actor_id=this.$9;d.composer_entry_point_ref=this.$10;d.composer_work_shared_draft_mode=this.$11;d.is_remote_upload=this.$12;d.container_type=this.$13;d.has_file_been_replaced=this.$14;d.trigger_time=Date.now();d.composer_session_id=this.$15;d.asset_id=this.$17;d.app_id=this.$18;b("cr:1840657")!=null?b("cr:1840657")(d):b("Banzai").post(a.BANZAI_ROUTE,d,{delay:this.$6,retry:!0})};c.postOnShutdown=function(a){return b("Banzai").subscribe(b("Banzai").SHUTDOWN,a)};c.getWaterfallID=function(){return this.$3};c.$20=function(a,b){a=a.replace(b,"started");b=this.$7[a];return b?Date.now()-b:null};return a}();Object.assign(d,c);e.exports=d}),null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function(a,b,c,d,e,f){var g="video";a=function(){"use strict";function a(a){this.$1=a;this.$2=null;this.$3=!1;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=a=b("emptyFunction");this.$9=a;this.$10=a;this.$11=a;this.$12=null}var c=a.prototype;c.setAllowCrossOrigin=function(a){this.$3=a;return this};c.setData=function(a){this.$4=a;return this};c.setWaterfallID=function(a){this.$6=a;return this};c.setSuccessHandler=function(a){this.$8=a;return this};c.setErrorHandler=function(a){this.$9=a;return this};c.setTransportErrorHandler=function(a){this.$10=a;return this};c.setUploadProgressHandler=function(a){this.$11=a;return this};c.setTimeoutHandler=function(a,b){this.$7=a;this.$12=b;return this};c.setThumbnail=function(a){this.$13=a;return this};c.setCustomProfileImage=function(a){this.$14=a;return this};c.setCustomBackgroundImage=function(a){this.$15=a;return this};c.setFeedBackgroundImage=function(a){this.$16=a;return this};c.setHandle=function(a){this.$5=a;return this};c.setCaptions=function(a){this.$17=a;return this};c.setPollOptionImages=function(a){this.$18=a;return this};c.send=function(){if(this.$2)throw new Error("An upload request is already in progress.");if(b("VideoUploadFeatureDetector").supportsXHR()){this.$2=this.$19();if(this.$13||this.$17||this.$14||this.$15||this.$16||this.$18){var a=new FormData();this.$13&&a.append("thumb",this.$13);this.$14&&a.append("schedule_custom_profile_image",this.$14);this.$15&&a.append("schedule_custom_background_image",this.$15);this.$16&&a.append("schedule_feed_background_image",this.$16);this.$17&&this.$17.forEach(function(b,c){c=b.getIsDefault()?"captions_default":"captions_file"+c;a.append(c,b.getFile())});if(this.$18){var c=this.$18;Object.keys(c).forEach(function(b){a.append(b,c[b])})}if(this.$4){var d=b("flattenPHPQueryData")(this.$4);Object.keys(d).forEach(function(b){a.append(b,d[b])})}this.$2.setRawData(a)}this.$2.send()}else this.$2=this.$20(),this.$21(this.$2)};c.sendChunk=function(a){if(this.$2)throw new Error("An upload request is already in progress.");var b=new FormData();this.$5?b.append("fbuploader_video_file_chunk",this.$5):b.append("video_file_chunk",a);this.$2=this.$19();this.$2.setRawData(b);this.$2.send()};c.sendFile=function(a){if(this.$2)throw new Error("An upload request is already in progress.");this.$2=this.$20();var c=a.cloneNode(!1);a.name=g;b("DOM").replace(a,c);b("DOM").appendContent(this.$2.getRoot(),a);this.$21(this.$2);a.name=c.name;b("DOM").replace(c,a)};c.abort=function(){if(!this.$2)return;this.$2.abort();this.$2=null};c.$19=function(){var a=this.__getAsyncRequest().setAllowCrossOrigin(this.$3).setURI(this.$1).setData(this.$4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$6).setHandler(this.$8).setErrorHandler(this.$9).setTransportErrorHandler(this.$10).setUploadProgressHandler(this.$11);this.$12&&a.setTimeoutHandler(this.$7,this.$12);return a};c.__getAsyncRequest=function(){return new(b("AsyncRequest"))()};c.$20=function(){var a=b("DOM").create("form",{action:this.$1,method:"POST"});b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this.$4),a);a=new(b("FileForm"))(a,null,{allowCrossOrigin:this.$3});a.subscribe("success",this.$22.bind(this));a.subscribe("failure",this.$23.bind(this));a.subscribe("progress",this.$24.bind(this));return a};c.$21=function(a){b("DOM").appendContent(document.body,a.getRoot()),b("submitForm")(a.getRoot())};c.$22=function(a,b){this.$8(b.response)};c.$23=function(a,b){this.$9(b.response)};c.$24=function(a,b){this.$11(b.event)};return a}();e.exports=a}),null);
__d("VideoUploadPostRequestManager",["VideoUploadLogger","VideoUploadRequest","clearTimeout","cr:909282","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){var g;g=a.call(this)||this;g.$VideoUploadPostRequestManager2=b;g.$VideoUploadPostRequestManager3=c;g.$VideoUploadPostRequestManager4=d;g.$VideoUploadPostRequestManager5=0;g.$VideoUploadPostRequestManager6=e;g.$VideoUploadPostRequestManager7=f;g.$VideoUploadPostRequestManager8=0;return g}var d=c.prototype;d.$VideoUploadPostRequestManager9=function(){return this.$VideoUploadPostRequestManager1?new(b("VideoUploadLogger"))({source:this.$VideoUploadPostRequestManager1.getSource(),waterfall_id:this.$VideoUploadPostRequestManager1.getWaterfallID(),target_id:this.$VideoUploadPostRequestManager1.getTargetID(),composer_entry_point_ref:this.$VideoUploadPostRequestManager1.getComposerEntryPointRef&&this.$VideoUploadPostRequestManager1.getComposerEntryPointRef()}):null};d.getRequest=function(){return this.$VideoUploadPostRequestManager10};d.sendRequest=function(a){this.$VideoUploadPostRequestManager1=a;if(this.$VideoUploadPostRequestManager10){var c=this.$VideoUploadPostRequestManager9();c&&c.logEvent(b("VideoUploadLogger").EVENT_DUPLICATE_POST_REQUEST);return}this.$VideoUploadPostRequestManager11=babelHelpers["extends"]({},a.getMetadata(),this.__createRequestData(a));this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager11.schedule_custom_profile_image;this.$VideoUploadPostRequestManager14=this.$VideoUploadPostRequestManager11.schedule_custom_background_image;this.$VideoUploadPostRequestManager15=this.$VideoUploadPostRequestManager11.schedule_feed_background_image;delete this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager16=this.$VideoUploadPostRequestManager11.captions;delete this.$VideoUploadPostRequestManager11.captions;this.$VideoUploadPostRequestManager17=a.getWaterfallID();this.$VideoUploadPostRequestManager18=this.$VideoUploadPostRequestManager11.pollImages;this.$VideoUploadPostRequestManager19();this.inform("request-started")};d.$VideoUploadPostRequestManager19=function(){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=null,this.$VideoUploadPostRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager2).setAllowCrossOrigin(!0).setData(this.$VideoUploadPostRequestManager11).setThumbnail(this.$VideoUploadPostRequestManager12).setCustomProfileImage(this.$VideoUploadPostRequestManager13).setCustomBackgroundImage(this.$VideoUploadPostRequestManager14).setFeedBackgroundImage(this.$VideoUploadPostRequestManager15).setCaptions(this.$VideoUploadPostRequestManager16).setWaterfallID(this.$VideoUploadPostRequestManager17).setPollOptionImages(this.$VideoUploadPostRequestManager18).setSuccessHandler(this.$VideoUploadPostRequestManager21.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager22.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager23.bind(this)),this.$VideoUploadPostRequestManager10.send()};d.__createRequestData=function(a){return{video_id:a.getVideoID(),target_id:a.getTargetID(),source:a.getSource(),waterfall_id:a.getWaterfallID(),creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.clearRequest=function(){this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager8=0,this.$VideoUploadPostRequestManager5=0};d.isInProgress=function(){return!!this.$VideoUploadPostRequestManager10};d.$VideoUploadPostRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=b("setTimeout")(this.$VideoUploadPostRequestManager19.bind(this),a)};d.$VideoUploadPostRequestManager25=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadPostRequestManager21=function(a){a=a.getPayload();this.inform("request-finished",{video_id:a.video_id,video_asset_id:a.video_asset_id,container_type:a.container_type,transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,premiere_destination_video_id:a.premiere_destination_video_id});this.clearRequest()};d.$VideoUploadPostRequestManager26=function(a){this.inform("request-failed",{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,error_is_silent:a.isSilent(),error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__});this.clearRequest()};d.$VideoUploadPostRequestManager22=function(a){this.$VideoUploadPostRequestManager10=null;this.$VideoUploadPostRequestManager5=0;var c=this.$VideoUploadPostRequestManager9();if(c){var d={server_retries:this.$VideoUploadPostRequestManager8,extra_data:{failure_is_transient:a.isTransient()}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_SERVER_FAILURE_RESPONSE,d)}a.isTransient()&&this.$VideoUploadPostRequestManager8<this.$VideoUploadPostRequestManager6?(this.$VideoUploadPostRequestManager8++,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager7,this.$VideoUploadPostRequestManager8))):this.$VideoUploadPostRequestManager26(a)};d.$VideoUploadPostRequestManager23=function(a){var c=this.$VideoUploadPostRequestManager9();if(c){var d={extra_data:{transport_retries:this.$VideoUploadPostRequestManager5}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE,d)}this.$VideoUploadPostRequestManager3===0||this.$VideoUploadPostRequestManager5>=this.$VideoUploadPostRequestManager3?this.$VideoUploadPostRequestManager26(a):(this.$VideoUploadPostRequestManager5++,this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager4,this.$VideoUploadPostRequestManager5)))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadRequestContext",[],(function(a,b,c,d,e,f){a=function(){function a(){var a=this;this.$14=!1;this.$21=0;this.$22=!1;this.$23=!1;this.$26=!1;this.getComposerEntryPointRef=function(){return a.$11};this.reset()}var b=a.prototype;b.setFile=function(a){this.$1=a;return this};b.getFile=function(){return this.$1};b.setMetadata=function(a){this.$24=a;return this};b.getMetadata=function(){return this.$24};b.setVideoID=function(a){this.$2=a;return this};b.getVideoID=function(){return this.$2};b.setXPVAssetID=function(a){this.$29=a;return this};b.getXPVAssetID=function(){return this.$29};b.setIsXPVSingleProd=function(a){this.$30=a;return this};b.getIsXPVSingleProd=function(){return this.$30};b.setUploadSessionID=function(a){this.$3=a;return this};b.getUploadSessionID=function(){return this.$3};b.setFbRegion=function(a){this.$4=a;return this};b.getFbRegion=function(){return this.$4};b.setStartOffset=function(a){this.$5=a;return this};b.getStartOffset=function(){return this.$5};b.setEndOffset=function(a){this.$6=a;return this};b.getEndOffset=function(){return this.$6};b.setPartitionStartOffset=function(a){this.$17=a;return this};b.getPartitionStartOffset=function(){return this.$17};b.setPartitionEndOffset=function(a){this.$18=a;return this};b.getPartitionEndOffset=function(){return this.$18};b.setPartitionNo=function(a){this.$19=a;return this};b.getPartitionNo=function(){return this.$19};b.setTargetID=function(a){this.$7=a;return this};b.getTargetID=function(){return this.$7};b.setSource=function(a){this.$8=a;return this};b.setComposerDialogVersion=function(a){this.$9=a;return this};b.getComposerDialogVersion=function(){return this.$9};b.getSource=function(){return this.$8};b.setWaterfallID=function(a){this.$10=a;return this};b.getWaterfallID=function(){return this.$10};b.setComposerEntryPointRef=function(a){this.$11=a;return this};b.setComposerWorkSharedDraftMode=function(a){this.$12=a;return this};b.getComposerWorkSharedDraftMode=function(){return this.$12};b.setHasFileBeenReplaced=function(a){this.$14=a;return this};b.getHasFileBeenReplaced=function(){return this.$14};b.setSupportsChunking=function(a){this.$15=a;return this};b.getSupportsChunking=function(){return this.$15};b.setSupportsFileAPI=function(a){this.$16=a;return this};b.getSupportsFileAPI=function(){return this.$16};b.setCreatorProduct=function(a){this.$20=a;return this};b.getCreatorProduct=function(){return this.$20};b.setLastKnownUploadSpeed=function(a){this.$21=a;return this};b.getLastKnownUploadSpeed=function(){return this.$21||0};b.setUseParallelChunks=function(a){this.$22=a;return this};b.getUseParallelChunks=function(){return this.$22};b.setIsSphericalVideo=function(a){this.$23=a;return this};b.getIsSphericalVideo=function(){return this.$23};b.setSphericalMetadata=function(a){this.$25=a;return this};b.getSphericalMetadata=function(){return this.$25};b.setEnableOmnistab=function(a){this.$26=a;return this};b.getEnableOmnistab=function(){return this.$26};b.setClientChunkSize=function(a){this.$27=a;return this};b.getClientChunkSize=function(){return this.$27};b.setVideoPublisherActionSource=function(a){this.$28=a;return this};b.getVideoPublisherActionSource=function(){return this.$28};b.setComposerSessionID=function(a){this.$13=a;return this};b.getComposerSessionID=function(){return this.$13};b.setRetryState=function(a){this.$31=a;return this};b.getRetryState=function(){return this.$31};b.setCreativeTools=function(a){this.$32=a;return this};b.getCreativeTools=function(){return this.$32};b.reset=function(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null,this.$14=!1,this.$15=null,this.$16=null,this.$17=null,this.$18=null,this.$19=null,this.$20=null,this.$21=0,this.$22=!1,this.$23=!1,this.$24={},this.$25={},this.$26=!1,this.$27=null,this.$28={},this.$13=null,this.$31=null,this.$32=null};return a}();e.exports=a}),null);
__d("MediaUploadSingleAssetPublisher",["Promise","VideoUploadGraphQLPostRequestManager","VideoUploadPostRequestManager","VideoUploadRequestContext"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}a.publish=function(b){a.$1==null&&(a.$1=new a());return a.$1.publish(b)};var c=a.prototype;c.publish=function(a){var c=this;return new(b("Promise"))(function(b){var d=c.$2(a.sessionSnapshot,a.assetSnapshot,a.postData),e,f=c.$3(a.postRequestManagerParams);f.hasAPISupport(a.postData)&&(e=f);e==null&&(e=c.$4(a.postRequestManagerParams));c.$5(e,b);e.sendRequest(d)})};c.$4=function(a){return new(b("VideoUploadPostRequestManager"))(a==null?void 0:a.chunk_post_uri,a==null?void 0:a.post_max_transport_retries,a==null?void 0:a.post_transport_retry_interval_base,a==null?void 0:a.post_max_server_retries,a==null?void 0:a.post_server_retry_interval_base)};c.$3=function(a){var c;return new(b("VideoUploadGraphQLPostRequestManager"))((c=a==null?void 0:a.post_max_transport_retries)!=null?c:0,(c=a==null?void 0:a.post_transport_retry_interval_base)!=null?c:0,(c=a==null?void 0:a.post_max_server_retries)!=null?c:0,(c=a==null?void 0:a.post_server_retry_interval_base)!=null?c:0)};c.$5=function(a,b){a.subscribe("request-finished",function(a,c){a={event:a,payload:c};b({isSuccessful:!0,rawResponse:a})}),a.subscribe("request-failed",function(a,c){a={event:a,payload:c};var d=(c==null?void 0:c.error_code)==null||(c==null?void 0:c.error_code)==0?"PublishError":c==null?void 0:c.error_code;b({isSuccessful:!1,errorCode:d,rawErrorObject:c==null?void 0:c.error_object,rawResponse:a})})};c.$2=function(a,c,d){return new(b("VideoUploadRequestContext"))().setVideoID(c.videoID).setTargetID(c.request.attributes.targetID).setSource(a.entryPoint.sourceType).setWaterfallID(a.sessionID).setCreatorProduct(c.request.attributes.creatorProduct).setComposerEntryPointRef(a.entryPoint.entryPointRef).setComposerDialogVersion(c.request.attributes.composerDialogVersion).setHasFileBeenReplaced((a=c.request.attributes.hasFileBeenReplaced)!=null?a:!1).setSupportsChunking(!0).setMetadata(d)};return a}();e.exports=a}),null);
__d("MediaUploadClientResult",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ACCEPTED","SESSION_NOT_FOUND","ASSET_NOT_FOUND","ASSET_ALREADY_EXISTS","SESSION_ALREADY_CANCELED","SESSION_ALREADY_PUBLISHING","SESSION_ALREADY_PUBLISHED","SESSION_NOT_FAILED","INVALID_TYPE","UNSUPPORTED_BROWSER"]);c=a;e.exports=c}),null);
__d("MediaUploadClient",["MediaUploadClientResult"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$4=new Map(),this.$1=a.implementation,this.$2=a.sessionStrategy,this.$3=a.envParams,this.$1.subscribeToHooks(),this.$3.isSupported()||this.$3.reportRecoverableError("This browser does not support this version of the Media Upload SDK")}var c=a.prototype;c.cancelSession=function(a,c){if(!this.$3.isSupported())return b("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?b("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.cancel(a,c)};c.cleanSession=function(a){return!this.$3.isSupported()?b("MediaUploadClientResult").UNSUPPORTED_BROWSER:this.$4["delete"](a)?b("MediaUploadClientResult").ACCEPTED:b("MediaUploadClientResult").SESSION_NOT_FOUND};c.retrySession=function(a){if(!this.$3.isSupported())return b("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?b("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.retry(a)};c.$5=function(a){var b=this.$4.get(a);b==null&&(b=this.$1.createSessionContext(a),this.$4.set(a,b));return b};c.updateSessionExtras=function(a,c){if(!this.$3.isSupported())return b("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);return this.$2.updateSessionExtras(a,c,!1)};c.confirmSession=function(a,c,d){if(!this.$3.isSupported())return b("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);if(d!=null){d=this.$2.updateSessionExtras(a,d,!0);if(d!==b("MediaUploadClientResult").ACCEPTED)return d}d=this.$2.syncAssetUploads(a,c);return d!==b("MediaUploadClientResult").ACCEPTED?d:this.$2.confirm(a)};c.startUploads=function(a,c){if(!this.$3.isSupported()){var d={};c.forEach(function(a){return d[a.assetID]=b("MediaUploadClientResult").UNSUPPORTED_BROWSER});return d}a=this.$5(a);return this.$2.uploadAssets(a,c)};c.removeUpload=function(a,c){if(!this.$3.isSupported())return b("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?b("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.removeAsset(a,c)};return a}();e.exports=a}),null);
__d("MediaUploadFBClient",["MediaUploadClient"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(b("MediaUploadClient"));e.exports=a}),null);
__d("MediaUploadAsset",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.mediaType=a.mediaType,this.data=a.data}var b=a.prototype;b.dataAsFile=function(){var a=this.data;if(a.mode==="File")return a;else return null};b.dataAsHTMLInput=function(){var a=this.data;if(a.mode==="HTMLInput")return a;else return null};return a}();e.exports=a}),null);
__d("MediaUploadMediaType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["VIDEO"]);c=a;e.exports=c}),null);
__d("MediaUploadAssetFactory",["MediaUploadAsset","MediaUploadMediaType","MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;else{a=/\.([^.]+)$/.exec(a);if(a==null||a.length<2)return null;else return a[1]}}a=function(){function a(a){a=a.features;this.$1=a}var c=a.prototype;c.$2=function(a){return{mode:"File",file:a,lastModified:b("MediaUploadTime").millisecondsToTime(a.lastModified),name:a.name,size:a.size,mimeType:a.type,extension:g(a.name)}};c.$3=function(a){return{mode:"HTMLInput",inputElement:a,name:a.value,extension:g(a.value)}};c.createFromFile=function(a,c){c===void 0&&(c=b("MediaUploadMediaType").VIDEO);return new(b("MediaUploadAsset"))({mediaType:c,data:this.$2(a)})};c.createFromHTMLInput=function(a,c){var d;c===void 0&&(c=b("MediaUploadMediaType").VIDEO);if(this.$1.supportFileFromHTML&&((d=a.files)==null?void 0:d.length)>0){d=a.files[0];d=this.$2(d)}else d=this.$3(a);return new(b("MediaUploadAsset"))({mediaType:c,data:d})};return a}();e.exports=a}),null);
__d("MediaUploadSDK",["MediaUploadAssetFactory"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.currentTimeProvider=a.currentTimeProvider,this.randomNumberProvider=a.randomNumberProvider,this.randomStringProvider=a.randomStringProvider,this.retryPolicyProvider=a.retryPolicyProvider,this.promiseTerminator=a.promiseTerminator,this.delayedExecutor=a.delayedExecutor,this.reportRecoverableError=a.reportRecoverableError,this.createThrowableError=a.createThrowableError,this.features=a.featureDetector(),this.registerUnloadHook=a.registerUnloadHook,this.factories={assets:new(b("MediaUploadAssetFactory"))(this)}}var c=a.prototype;c.isSupported=function(){return this.features.supportFileManipulation&&this.features.supportFileFromHTML};return a}();e.exports=a}),null);
__d("mediaUploadFBRetryPolicyProvider",["MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={backoff:{initial:(c=b("MediaUploadTime")).millisecondsToTime(400),jitter:c.millisecondsToTime(100),expBase:c.millisecondsToTime(100),expMultiplier:1.5,max:c.secondsToTime(8)},limits:{totalRetryCount:3e3,totalTime:c.hoursToTime(6)}};function a(){return g}}),null);
__d("MediaUploadFBSDK",["Banzai","FBLogger","MediaUploadSDK","MediaUploadTime","Random","SubscriptionsHandler","WaterfallIDGenerator","clearTimeout","fileSlice","getErrorSafe","mediaUploadFBRetryPolicyProvider","promiseDone","recoverableViolation","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g="media_upload";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,{currentTimeProvider:function(){return b("MediaUploadTime").millisecondsToTime(Date.now())},randomNumberProvider:function(a,c){return(c-a)*b("Random").random()+a},randomStringProvider:function(){return b("WaterfallIDGenerator").generate()},retryPolicyProvider:b("mediaUploadFBRetryPolicyProvider"),promiseTerminator:function(a){return b("promiseDone")(a)},delayedExecutor:function(a,c,d){var e=b("setTimeout")(c,b("MediaUploadTime").timeToMilliseconds(a));return{cancel:function(){d!=null&&d(),b("clearTimeout")(e)}}},reportRecoverableError:function(a,c){c!=null?b("FBLogger")(g).catching(b("getErrorSafe")(c)).mustfix(a):b("recoverableViolation")(a,g)},createThrowableError:function(a){throw b("unrecoverableViolation")(a,g)},featureDetector:function(){return{supportFileFromHTML:"FileList"in window,supportFileManipulation:"FileReader"in window&&"DataView"in window&&"FormData"in window&&typeof b("fileSlice")==="function"}},registerUnloadHook:function(a){var c=new(b("SubscriptionsHandler"))();a=b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);a!=null?c.addSubscriptions():b("recoverableViolation")("Banzai did not return handle for unsubscribing from the unload hook; logging quality will be bad",g);return{cancel:function(){try{c.release()}catch(a){b("FBLogger")(g).catching(b("getErrorSafe")(a)).mustfix("Failed to unsubscribe from the unload hook")}}}}})||this}return c}(b("MediaUploadSDK"));c=new a();d=c;e.exports=d}),null);
__d("MediaUploadSurface",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.sdk=a}var b=a.prototype;b.isClientSupported=function(a){a=this.$1.get(a.key);return a!=null};b.getClient=function(a){var b=this.$1.get(a.key);if(b==null)throw this.sdk.createThrowableError("Client configuration was not provided for the entry point "+a.key);else return b()};return a}();e.exports=a}),null);
__d("MediaUploadFBSurface",["MediaUploadExtrasStorage","MediaUploadFBAssetRequest","MediaUploadSurface"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.createAssetRequest=function(a,c,d,e){a=a(this.sdk.factories.assets);var f;e!=null&&(f=new(b("MediaUploadExtrasStorage"))(this.sdk),e(f));typeof d==="function"?e=d(a):e=d;return new(b("MediaUploadFBAssetRequest"))({asset:a,assetID:c,attributes:e,extras:f})};return c}(b("MediaUploadSurface"));e.exports=a}),null);
__d("MediaUploadAssetStrategy",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadOperationOutcome","MediaUploadPipeline","Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.implementation,this.$2=a.executor,this.$3=a.params}var c=a.prototype;c.removeAsset=function(a){a.updateStatusAndEmit(b("MediaUploadAssetStatus").REMOVED);(a=a.inFlightUpload)==null?void 0:a.cancel()};c.addAsset=function(a){a.sessionContext.assetsByID.set(a.assetID,a),a.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_ADDED)};c.scheduleUpload=function(a){var c=this;a.updateStatusAndEmit(b("MediaUploadAssetStatus").SCHEDULED);return this.$2.schedule(function(){return c.$4(a)})};c.$4=function(a){var c=this;if(a.isRemoved())return b("Promise").resolve();a.updateStatusAndEmit(b("MediaUploadAssetStatus").PROCESSING);var d=new(b("MediaUploadPipeline"))(this.$3);d.addCancelableStep(function(){return c.$1.runClientLazyLoading(a)});d.addCancelableStep(function(){return c.$1.runLocalAssetStategy(a)});d.addCancelableStep(function(){a.updateStatusAndEmit(b("MediaUploadAssetStatus").UPLOADING);return c.$1.runNetworkAssetStategy(a)});d=d.run();a.inFlightUpload=d;return d.promise.then(function(b){return c.$5(a,b)})["catch"](function(d){c.$3.reportRecoverableError("Unexpected failure during asset pipeline execution",d),a.updateStatusAndEmit(b("MediaUploadAssetStatus").FAILED)})};c.$5=function(a,c){if(a.isRemoved())return;switch(c){case b("MediaUploadOperationOutcome").SUCCESS:a.updateStatusAndEmit(b("MediaUploadAssetStatus").COMPLETED);break;case b("MediaUploadOperationOutcome").CANCELED:a.updateStatusAndEmit(b("MediaUploadAssetStatus").REMOVED);break;default:a.updateStatusAndEmit(b("MediaUploadAssetStatus").FAILED)}};return a}();e.exports=a}),null);
__d("MediaUploadRetryState",["MediaUploadTime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.retryPolicy=a,this.$3=0,this.$4=0,this.$1=b.currentTimeProvider,this.$2=b.randomNumberProvider,this.$5=this.$1()}var c=a.prototype;c.resetBackoff=function(){this.$3=0};c.getRetryAttempts=function(){return this.$4};c.getRetryAttemptsSinceLastReset=function(){return this.$3};c.calculateBackoffDelay=function(){var a=this.retryPolicy.backoff,c=b("MediaUploadTime").timeToMilliseconds(a.initial),d=a.expBase,e=a.expMultiplier;this.$3>0&&d!=null&&e!=null&&(c+=b("MediaUploadTime").timeToMilliseconds(d)*Math.pow(e,this.$3-1));a.max!=null&&(c=Math.min(c,b("MediaUploadTime").timeToMilliseconds(a.max)));d=a.jitter==null?0:b("MediaUploadTime").timeToMilliseconds(a.jitter);d>0&&(c+=this.$2(-.5*d,.5*d));return b("MediaUploadTime").millisecondsToTime(Math.round(c))};c.exceedTotalRetries=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalRetryCount)!=null&&this.$4>this.retryPolicy.limits.totalRetryCount};c.exceedTotalDuration=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalTime)!=null&&b("MediaUploadTime").compareTime((a=this.retryPolicy.limits)==null?void 0:a.totalTime,b("MediaUploadTime").subtractTime(this.$1(),this.$5))<=0};c.increaseRetryAttemptCounter=function(){this.$3++,this.$4++};return a}();e.exports=a}),null);
__d("MediaUploadCancelReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["USER_REQUEST","NAVIGATION_AWAY","UNLOAD_HOOK"]);c=a;e.exports=c}),null);
__d("MediaUploadSessionStrategy",["MediaUploadCancelReason","MediaUploadClientResult","MediaUploadSessionEvent","MediaUploadSessionStatus"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.implementation,this.$2=a.assetStrategy,this.$3=a.params}var c=a.prototype;c.$4=function(a){if(a.isConfirmed()&&a.progress.publishingExtrasProvided){var c=a.getActiveAssets();for(var d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g.isFailed()){a.updateStatusAndEmit(b("MediaUploadSessionStatus").FAILED);return}}c.every(function(a){return a.isCompleted()})&&this.$5(a)}};c.$5=function(a){a.updateStatusAndEmit(b("MediaUploadSessionStatus").PUBLISHING);var c=[];for(var d=a.assetsByID.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.isCompleted()&&c.push(g)}g=this.$1.publish(a,c).then(function(c){a.progress.publishingResponse=c.rawResponse,c.isSuccessful?(a.emitSessionEvent(b("MediaUploadSessionEvent").PUBLISH_SUCCEED),a.updateStatusAndEmit(b("MediaUploadSessionStatus").COMPLETED)):(a.updateLastError({rawErrorCode:c.errorCode,rawErrorObject:c.rawErrorObject}),a.emitSessionEvent(b("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(b("MediaUploadSessionStatus").FAILED),a.updateLastError())})["catch"](function(c){a.updateLastError({rawErrorObject:c}),a.emitSessionEvent(b("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(b("MediaUploadSessionStatus").FAILED),a.updateLastError()});this.$3.promiseTerminator(g)};c.$6=function(a,b){var c=this;this.$2.scheduleUpload(b)["finally"](function(){return c.$4(a)})};c.$7=function(a){if(a.isPublished())return b("MediaUploadClientResult").SESSION_ALREADY_PUBLISHED;else if(a.isPublishing())return b("MediaUploadClientResult").SESSION_ALREADY_PUBLISHING;else if(a.isCanceled())return b("MediaUploadClientResult").SESSION_ALREADY_CANCELED;else return b("MediaUploadClientResult").ACCEPTED};c.$8=function(a){var c=this;a.releaseOnFinish.push(this.$3.registerUnloadHook(function(){c.cancel(a,b("MediaUploadCancelReason").UNLOAD_HOOK)}));a.updateStatusAndEmit(b("MediaUploadSessionStatus").CONFIRMED)};c.cancel=function(a,c){var d=this.$7(a);if(d!==b("MediaUploadClientResult").ACCEPTED)return d;a.progress.cancelReason=c;a.updateStatusAndEmit(b("MediaUploadSessionStatus").CANCELED);for(var d=a.assetsByID.values(),c=Array.isArray(d),a=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(a>=d.length)break;e=d[a++]}else{a=d.next();if(a.done)break;e=a.value}e=e;this.$2.removeAsset(e)}return b("MediaUploadClientResult").ACCEPTED};c.removeAsset=function(a,c){var d=this.$7(a);if(d!==b("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(c);if(d==null)return b("MediaUploadClientResult").ASSET_NOT_FOUND;this.$2.removeAsset(d);this.$4(a);return b("MediaUploadClientResult").ACCEPTED};c.uploadAsset=function(a,c){var d=this.$7(a);if(d!==b("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(c.assetID);if(d!=null&&!d.isRemoved())return b("MediaUploadClientResult").ASSET_ALREADY_EXISTS;d=this.$1.createAssetContext(a,c);this.$2.addAsset(d);this.$6(a,d);return b("MediaUploadClientResult").ACCEPTED};c.syncAssetUploads=function(a,c){var d=this.$7(a);if(d!==b("MediaUploadClientResult").ACCEPTED)return d;d=new Set(c.map(function(a){return a.assetID}));var e=new Set(a.assetsByID.keys());for(var f in e)if(!d.has(f)){e=a.assetsByID.get(f);e!=null&&this.$2.removeAsset(e)}this.uploadAssets(a,c);return b("MediaUploadClientResult").ACCEPTED};c.uploadAssets=function(a,b){var c=this,d={};b.forEach(function(b){return d[b.assetID]=c.uploadAsset(a,b)});return d};c.updateSessionExtras=function(a,c,d){var e=this.$7(a);if(e!==b("MediaUploadClientResult").ACCEPTED)return e;c(a.extras);d&&(a.progress.publishingExtrasProvided=!0);return b("MediaUploadClientResult").ACCEPTED};c.retry=function(a){var c=this.$7(a);if(c!==b("MediaUploadClientResult").ACCEPTED)return c;else if(!a.isFailed())return b("MediaUploadClientResult").SESSION_NOT_FAILED;a.renewRetryID();this.$8(a);for(var c=a.assetsByID.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.isSchedulable()&&this.$6(a,f)}this.$4(a);return b("MediaUploadClientResult").ACCEPTED};c.confirm=function(a){var c=this.$7(a);if(c!==b("MediaUploadClientResult").ACCEPTED)return c;else if(a.isFailed())return this.retry(a);else if(a.isConfirmed()){this.$4(a);return b("MediaUploadClientResult").ACCEPTED}this.$8(a);this.$4(a);return b("MediaUploadClientResult").ACCEPTED};return a}();e.exports=a}),null);
__d("MediaUploadClientContext",["MediaUploadAssetStrategy","MediaUploadRetryState","MediaUploadSessionStrategy"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.sdk=a.sdk,this.emitter=a.emitter,this.executor=a.executor,this.progressCalculator=a.progressCalculator,this.assetStrategy=new(b("MediaUploadAssetStrategy"))({implementation:this,executor:this.executor,params:this.sdk}),this.sessionStrategy=new(b("MediaUploadSessionStrategy"))({implementation:this,assetStrategy:this.assetStrategy,params:this.sdk})}var c=a.prototype;c.runLocalAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};c.runNetworkAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};c.runClientLazyLoading=function(a){throw this.sdk.createThrowableError("Not implemented")};c.createSessionContext=function(a){throw this.sdk.createThrowableError("Not implemented")};c.createAssetContext=function(a,b){throw this.sdk.createThrowableError("Not implemented")};c.publish=function(a,b){throw this.sdk.createThrowableError("Not implemented")};c.subscribeToHooks=function(){throw this.sdk.createThrowableError("Not implemented")};c.createRetryState=function(){return new(b("MediaUploadRetryState"))(this.sdk.retryPolicyProvider(),this.sdk)};return a}();e.exports=a}),null);
__d("MediaUploadExecutor",["Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a=1),this.$1=[],this.$3=0,this.$2=a}var c=a.prototype;c.schedule=function(a){var c=this;return new(b("Promise"))(function(b){var d=function(){var c=a();c["finally"](b);return c};c.$1.push(d);c.$4()})};c.$4=function(){var a=this;if(this.$3>=this.$2)return;var b=this.$1.shift();b()["finally"](function(){a.$3--,a.$4()});this.$3++};return a}();e.exports=a}),null);
__d("MediaUploadFBDefaultServerConfigurationRetriever",["MediaUploadCancelablePromise","MediaUploadClientEvent","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql","MediaUploadOperationOutcome","MediaUploadTime","RelayFBEnvironment","RelayHooks","URI"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g!==void 0?g:g=b("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql"),j={metadataValidation:{minSizeKB:1,maxSizeKB:10*1024*1024,minDuration:b("MediaUploadTime").secondsToTime(1),maxDuration:b("MediaUploadTime").hoursToTime(24),minWidth:100,minHeight:100,minAspectRatio:.5,maxAspectRatio:4,extensions:new Set(["3g2","3gp","3gpp","asf","avi","dat","divx","dv","f4v","flv","gif","m2ts","m4v","mkv","mod","mov","mp4","mpe","mpeg","mpeg4","mpg","mts","nsv","ogm","ogv","qt","rmvb","tmp","tod","ts","vob","webm","wmv"]),acceptDimensionsFromPlayer:!1},startRequest:{baseURI:new(h||(h=b("URI")))("https://vupload-edge.facebook.com/ajax/video/upload/requests/start/")},receiveRequest:{baseURI:new h("https://vupload-edge.facebook.com/ajax/video/upload/requests/receive/")},uploadService:{defaultService:{serviceName:"rupload",serviceDomain:"facebook.com"},targetedService:null,tracing:{enabled:!1,minFileSizeKB:102400}},networkMonitor:{networkProbe:{enabled:!0},internetProbe:{enabled:!1,timeout:b("MediaUploadTime").secondsToTime(2),backoffPolicy:{backoff:{initial:b("MediaUploadTime").secondsToTime(10),jitter:b("MediaUploadTime").secondsToTime(0),expBase:b("MediaUploadTime").secondsToTime(1),expMultiplier:2,max:b("MediaUploadTime").secondsToTime(60)},limits:{}}},stallDetector:{enabled:!1,timeout:b("MediaUploadTime").secondsToTime(30)}}};a=function(){function a(a){this.$5=!0,this.$1=a.entryPoint,this.$3=a.emitter,this.$2=a.setters,this.$4=a.envParams}var c=a.prototype;c.$6=function(){return b("RelayHooks").fetchQuery(b("RelayFBEnvironment"),i,{source_type:this.$1.sourceType})};c.run=function(a){var c=this,d=new(b("MediaUploadFBClientEventContext"))({entryPoint:this.$1,envParams:this.$4,context:a});if(this.$5){this.$3.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CONFIG_REQUESTED,d);return new(b("MediaUploadCancelablePromise"))(function(a){try{var e=c.$6().subscribe({error:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(e){c.$4.reportRecoverableError("Error getting client configuration",e),c.$3.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),c.$7(null),a(b("MediaUploadOperationOutcome").SUCCESS)}),next:function(e){c.$3.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CONFIG_RECEIVED,d),c.$7(e),c.$5=!1,a(b("MediaUploadOperationOutcome").SUCCESS)}});return{cancel:function(){e.unsubscribe()}}}catch(e){c.$4.reportRecoverableError("Error requesting client configuration",e),c.$7(null),c.$3.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),a(b("MediaUploadOperationOutcome").SUCCESS)}})}else{this.$3.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CONFIG_CACHED,d);return b("MediaUploadCancelablePromise").resolve(b("MediaUploadOperationOutcome").SUCCESS)}};c.$8=function(a){var b,c;if((a==null?void 0:(b=a["default"])==null?void 0:b.service_name)==null||(a==null?void 0:(b=a["default"])==null?void 0:b.service_domain)==null)this.$4.reportRecoverableError("Invalid configuration for default endpoint of the Upload Service, falling back to default"),b=j.uploadService.defaultService;else{var d;b={serviceName:a==null?void 0:(d=a["default"])==null?void 0:d.service_name,serviceDomain:a==null?void 0:(d=a["default"])==null?void 0:d.service_domain}}if((a==null?void 0:(d=a.targeted)==null?void 0:d.service_name)!=null&&(a==null?void 0:(d=a.targeted)==null?void 0:d.service_domain)!=null){d={serviceName:a==null?void 0:(d=a.targeted)==null?void 0:d.service_name,serviceDomain:a==null?void 0:(d=a.targeted)==null?void 0:d.service_domain}}else(a==null?void 0:a.targeted)==null?d=null:(this.$4.reportRecoverableError("Invalid configuration for target endpoint of the Upload Service, falling back to default"),d=j.uploadService.targetedService);if((a==null?void 0:(c=a.tracing)==null?void 0:c.enabled)!=null&&(a==null?void 0:(c=a.tracing)==null?void 0:c.min_file_size_kb)!=null){a={enabled:a==null?void 0:(c=a.tracing)==null?void 0:c.enabled,minFileSizeKB:a==null?void 0:(c=a.tracing)==null?void 0:c.min_file_size_kb}}else this.$4.reportRecoverableError("Invalid configuration for tracing in the Upload Service, falling back to default"),a=j.uploadService.tracing;this.$2.uploadService({defaultService:b,targetedService:d,tracing:a})};c.$9=function(a){var c;if((a==null?void 0:a.min_size_kb)==null||(a==null?void 0:a.max_size_kb)==null||(a==null?void 0:a.min_width)==null||(a==null?void 0:a.min_height)==null||(a==null?void 0:a.min_duration_secs)==null||(a==null?void 0:a.max_duration_secs)==null||(a==null?void 0:a.min_aspect_ration)==null||(a==null?void 0:a.max_aspect_ration)==null||(a==null?void 0:a.allowed_extensions)==null||(a==null?void 0:a.accept_dimensions_from_player)==null)this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),c=babelHelpers["extends"]({sourceType:this.$1.sourceType},j.metadataValidation);else{var d=a==null?void 0:a.max_duration_secs;c={sourceType:this.$1.sourceType,minSizeKB:a==null?void 0:a.min_size_kb,maxSizeKB:a==null?void 0:a.max_size_kb,minWidth:a==null?void 0:a.min_width,minHeight:a==null?void 0:a.min_height,minAspectRatio:a==null?void 0:a.min_aspect_ration,maxAspectRatio:a==null?void 0:a.max_aspect_ration,extensions:new Set(a==null?void 0:a.allowed_extensions),acceptDimensionsFromPlayer:a==null?void 0:a.accept_dimensions_from_player,minDuration:b("MediaUploadTime").secondsToTime(a==null?void 0:a.min_duration_secs),maxDuration:b("MediaUploadTime").secondsToTime(d)}}this.$2.metadataValidation(c)};c.$10=function(a){return(a==null?void 0:a.backoff_initial_ms)==null?null:{backoff:{initial:b("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_initial_ms),jitter:(a==null?void 0:a.backoff_jitter_ms)==null?null:b("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_jitter_ms),expBase:(a==null?void 0:a.backoff_exp_base_ms)==null?null:b("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_exp_base_ms),expMultiplier:a==null?void 0:a.backoff_exp_multiplier,max:(a==null?void 0:a.backoff_max_ms)==null?null:b("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_max_ms)},limits:{totalRetryCount:a==null?void 0:a.limits_total_retry_count,totalTime:(a==null?void 0:a.limits_total_time_ms)==null?null:b("MediaUploadTime").millisecondsToTime(a==null?void 0:a.limits_total_time_ms)}}};c.$11=function(a){var c,d=this.$10(a==null?void 0:a.internet_probe_backoff);if((a==null?void 0:a.network_probe_enabled)==null||(a==null?void 0:a.internet_probe_enabled)==null||(a==null?void 0:a.internet_probe_timeout_ms)==null||d==null||(a==null?void 0:a.stall_detection_enabled)==null||(a==null?void 0:a.stall_detection_timeout_ms)==null)this.$4.reportRecoverableError("Invalid network monitor configuration, falling back to default"),c=j.networkMonitor;else{var e=a.network_probe_enabled,f=a.internet_probe_enabled,g=a.internet_probe_timeout_ms,h=a.stall_detection_enabled;a=a.stall_detection_timeout_ms;c={networkProbe:{enabled:e},internetProbe:{enabled:f,timeout:b("MediaUploadTime").millisecondsToTime(g),backoffPolicy:d},stallDetector:{enabled:h,timeout:b("MediaUploadTime").millisecondsToTime(a)}}}this.$2.networkMonitor(c)};c.$12=function(a){var c;(a==null?void 0:a.uri)==null?(this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),c=j.startRequest):c={baseURI:new(h||(h=b("URI")))(a==null?void 0:a.uri)};this.$2.startRequest(c)};c.$13=function(a){var c;(a==null?void 0:a.uri)==null?(this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),c=j.receiveRequest):c={baseURI:new(h||(h=b("URI")))(a==null?void 0:a.uri)};this.$2.receiveRequest(c)};c.$7=function(a){var b;this.$12(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_start);this.$13(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_receive);this.$8(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_upload_service);this.$9(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.video_metadata_validation);this.$11(a==null?void 0:(b=a.media_upload_config)==null?void 0:b.network_monitor)};return a}();e.exports=a}),null);
__d("MediaUploadLinearProgressCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=this.$4(),this.$3=this.$1.sessionWeights.assets+this.$1.sessionWeights.publishing}var b=a.prototype;b.$4=function(){var a=this.$1.assetWeights.uploadBytes;this.$1.assetWeights.singleOperations.forEach(function(b){return a+=b});return a};b.$5=function(a,b){a=Math.floor(a*100/this.$1.percentagePrecision)*this.$1.percentagePrecision;b=Math.abs(a-b)>=this.$1.percentagePrecision;return{percentageProgress:a,isDifferent:b}};b.calculateAssetProgress=function(a){var b=this.$1.assetWeights,c=0;if(a.isCompleted())c=1;else{for(var d=a.progress.completedStages.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=b.singleOperations.get(g);g!=null&&(c+=g)}g=a.uploadSummary.computeUploadedPortion();g!=null&&(c+=b.uploadBytes*g);c/=this.$2}f=this.$5(c,a.progress.calculated.percentageComplete);a.progress.calculated.rawValue=c;a.progress.calculated.percentageComplete=f.percentageProgress;a.progress.calculated.rawValue=c;return f.isDifferent};b.calculateSessionProgress=function(a){var b=this.$1.sessionWeights,c=0;a.progress.publishingDone&&(c+=b.publishing);var d=a.getActiveAssets();if(d.length>0){var e=b.assets/d.length;a.getActiveAssets().forEach(function(a){c+=e*a.progress.calculated.rawValue})}else c+=b.assets;c/=this.$3;d=this.$5(c,a.progress.percentageComplete);a.progress.percentageComplete=d.percentageProgress;return d.isDifferent};return a}();e.exports=a}),null);
__d("MediaUploadNetworkMonitor",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadNetworkStatus","MediaUploadRetryState","Promise"],(function(a,b,c,d,e,f){"use strict";var g={probe:function(){return b("MediaUploadNetworkStatus").UNKNOWN}},h={probe:function(){return b("Promise").resolve(b("MediaUploadNetworkStatus").UNKNOWN)}};a=function(){function a(a,c){this.$1=a,this.$3=g,this.$2=h,this.$4=b("MediaUploadNetworkStatus").UNKNOWN,this.$5=new Map(),this.$6=null,this.$8=null,this.$9=c.emitClientEvent}var c=a.prototype;c.updateConfiguration=function(a){var c;this.$3=(c=a.networkProbe)!=null?c:g;this.$2=(c=a.internetProbe)!=null?c:h;this.$7=a.internetProbeBackoffPolicy==null?null:new(b("MediaUploadRetryState"))(a.internetProbeBackoffPolicy,this.$1);this.$8=a.stallDetectorTimeout;this.$10()};c.getNetworkStatus=function(){return this.$3.probe()};c.getInternetStatus=function(){return this.$4};c.$11=function(a,b){return a.sessionContext.sessionID+"/"+a.assetID+"/"+String(b)};c.$12=function(a,c,d){var e;this.$13(b("MediaUploadNetworkStatus").CONNECTED);(e=this.$7)==null?void 0:e.resetBackoff();(e=this.$6)==null?void 0:e.cancel();this.$6=null;e=this.$11(a,c);d&&this.$5.set(e,{assetContext:a});this.$10();this.$14(e)};c.$15=function(a,b){a=this.$11(a,b);b=this.$5.get(a);if(b!=null){var c;(c=b.stallDetector)==null?void 0:c.cancel();b.stallDetector=null}this.$5["delete"](a)};c.$14=function(a){var c=this.$8;if(c==null)return;var d=this.$5.get(a);if(d==null)return;(a=d.stallDetector)==null?void 0:a.cancel();d.stallDetector=this.$1.delayedExecutor(c,function(){d.assetContext.emitAssetEvent(b("MediaUploadAssetEvent").ASSET_STALL),d.stallDetector=null})};c.$10=function(){var a=this,b=this.$7;if(b==null)return;if(this.$5.size===0)return;if(this.$6!=null)return;this.$6=this.$1.delayedExecutor(b.calculateBackoffDelay(),function(){var b=a.$2.probe().then(function(b){return a.$13(b)})["finally"](function(){a.$6=null,a.$10()});a.$1.promiseTerminator(b)});b.increaseRetryAttemptCounter()};c.$13=function(a){if(this.$4===a)return;this.$4=a;switch(this.$4){case b("MediaUploadNetworkStatus").CONNECTED:this.$9(b("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE);break;case b("MediaUploadNetworkStatus").DISCONNECTED:this.$9(b("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE);break;case b("MediaUploadNetworkStatus").TIMEOUT:this.$9(b("MediaUploadClientEvent").CLIENT_INTERNET_UNKNOWN);break;case b("MediaUploadNetworkStatus").UNKNOWN:}};c.notifyOnNewRequest=function(a,b){this.$12(a,b,!0)};c.notifyOnProgress=function(a,b){this.$12(a,b,!1)};c.notifyOnAbandon=function(a,b){this.$15(a,b)};c.notifyOnTransportError=function(a,b){this.$15(a,b)};c.notifyOnResponse=function(a,b){this.$15(a,b),this.$12(a,b,!1)};return a}();e.exports=a}),null);
__d("MediaUploadFBDefaultClientContext",["MediaUploadBanzaiLogger","MediaUploadClientContext","MediaUploadClientEvent","MediaUploadEventEmitterAdapter","MediaUploadExecutor","MediaUploadFBAssetContext","MediaUploadFBAssetRequest","MediaUploadFBClient","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetriever","MediaUploadFBFileHasher","MediaUploadFBInternetProbe","MediaUploadFBLocalAssetStrategy","MediaUploadFBMetadataParser","MediaUploadFBMetadataValidator","MediaUploadFBNetworkAssetStrategy","MediaUploadFBNetworkProbe","MediaUploadFBReceiveRequest","MediaUploadFBSessionContext","MediaUploadFBStage","MediaUploadFBStartRequest","MediaUploadFBUploadServiceRequest","MediaUploadLinearProgressCalculator","MediaUploadNetworkMonitor","cr:1856704","mediaUploadLogStackTrace"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f,g=new(b("MediaUploadEventEmitterAdapter"))(c);f=a.call(this,{sdk:c,emitter:g.emitter,executor:new(b("MediaUploadExecutor"))(),progressCalculator:new(b("MediaUploadLinearProgressCalculator"))({assetWeights:{uploadBytes:.9,singleOperations:new Map([[b("MediaUploadFBStage").START_REQUEST,.05],[b("MediaUploadFBStage").RECEIVE_REQUEST,.05]])},sessionWeights:{publishing:.1,assets:.9},percentagePrecision:1})})||this;f.entryPoint=d;f.eventAdapter=g;f.configuration=e;f.networkMonitor=new(b("MediaUploadNetworkMonitor"))(f.sdk,{emitClientEvent:function(a){return g.emitter.emitClientEvent(a,new(b("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:c}))}});f.localAssetStategy=f.$MediaUploadFBDefaultClientContext1();f.networkAssetStategy=f.$MediaUploadFBDefaultClientContext2();f.serverConfigurationRetriever=new(b("MediaUploadFBDefaultServerConfigurationRetriever"))({entryPoint:d,emitter:f.emitter,setters:{metadataValidation:function(a){f.localAssetStategy.metadataValidator.configuration=a},startRequest:function(a){f.networkAssetStategy.startRequest.configuration=a},receiveRequest:function(a){f.networkAssetStategy.receiveRequest.configuration=a},uploadService:function(a){f.networkAssetStategy.uploadServiceRequest.configuration=a},networkMonitor:function(a){f.networkMonitor.updateConfiguration({networkProbe:a.networkProbe.enabled?new(b("MediaUploadFBNetworkProbe"))():null,internetProbe:a.internetProbe.enabled?new(b("MediaUploadFBInternetProbe"))({timeout:a.internetProbe.timeout},f.sdk):null,internetProbeBackoffPolicy:a.internetProbe.backoffPolicy,stallDetectorTimeout:a.stallDetector.enabled?a.stallDetector.timeout:null})}},envParams:f.sdk});f.client=new(b("MediaUploadFBClient"))({implementation:babelHelpers.assertThisInitialized(f),sessionStrategy:f.sessionStrategy,envParams:f.sdk});f.emitter.emitClientEvent(b("MediaUploadClientEvent").CLIENT_CREATED,new(b("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:f.sdk}));return f}var d=c.prototype;d.$MediaUploadFBDefaultClientContext1=function(){return new(b("MediaUploadFBLocalAssetStrategy"))({envParams:this.sdk,metadataParser:new(b("MediaUploadFBMetadataParser"))(),metadataValidator:new(b("MediaUploadFBMetadataValidator"))(this.sdk),fileHasher:new(b("MediaUploadFBFileHasher"))({pseudoHasher:b("cr:1856704")==null?void 0:new(b("cr:1856704"))({maxChunkSize:1024*1024,takeFirstBytes:100*1024,hashingAlgorithm:"sha256",outputEncoding:"base64"},this.sdk)})})};d.$MediaUploadFBDefaultClientContext2=function(){var a,c;a=new(b("MediaUploadFBStartRequest"))({entryPoint:this.entryPoint,payloadHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestPayload,customHeadersHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});var d=new(b("MediaUploadFBUploadServiceRequest"))({envParams:this.sdk,networkNotifier:this.networkMonitor});c=new(b("MediaUploadFBReceiveRequest"))({entryPoint:this.entryPoint,payloadHook:(c=this.configuration.networkHooks)==null?void 0:c.receiveRequestPayload,customHeadersHook:(c=this.configuration.networkHooks)==null?void 0:c.receiveRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});return new(b("MediaUploadFBNetworkAssetStrategy"))(this.sdk,a,d,c)};d.runClientLazyLoading=function(a){return this.serverConfigurationRetriever.run(b("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};d.runLocalAssetStategy=function(a){return this.localAssetStategy.run(b("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};d.runNetworkAssetStategy=function(a){return this.networkAssetStategy.run(b("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};d.createSessionContext=function(a){b("mediaUploadLogStackTrace")({waterfallID:a,sourceType:this.entryPoint.sourceType,composerEntryPointRef:this.entryPoint.entryPointRef,applicationState:"www_v2"});return new(b("MediaUploadFBSessionContext"))({sessionID:a,entryPoint:this.entryPoint,emitter:this.emitter,progressCalculator:this.progressCalculator,params:this.sdk})};d.createAssetContext=function(a,c){return new(b("MediaUploadFBAssetContext"))({sessionContext:b("MediaUploadFBSessionContext").castOrThrow(a,this.sdk),assetRequest:b("MediaUploadFBAssetRequest").castOrThrow(c,this.sdk),emitter:this.emitter,progressCalculator:this.progressCalculator,retryState:this.createRetryState(),params:this.sdk})};d.publish=function(a,c){var d=this;a=b("MediaUploadFBSessionContext").castOrThrow(a,this.sdk).composeSnapshot();c=c.map(function(a){return b("MediaUploadFBAssetContext").castOrThrow(a,d.sdk).composeSnapshot()});return this.configuration.eventHooks.publishCallback(a,c)};d.subscribeToHooks=function(){var a=this,c=new(b("MediaUploadBanzaiLogger"))(this.sdk,{injectNetworkStatus:this.networkMonitor,injectExtraSessionFields:function(){return{composer_dialog_version:a.configuration.composerDialogVersion}}});c.subscribe(this.eventAdapter.subscriber,this.entryPoint);this.configuration.eventHooks.eventSubscriber!=null&&this.configuration.eventHooks.eventSubscriber(this.eventAdapter.subscriber)};return c}(b("MediaUploadClientContext"));e.exports=a}),null);
__d("MediaUploadSurfaceDefinition",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.$4=function(a,b){var c=this;return function(){var d=c.$3.get(a.key);d==null&&(d=c.$1.client(a,b),c.$3.set(a.key,d));return d}};b.registerClientConfiguration=function(a){var b=this;a.entryPoints.forEach(function(c){b.$2.set(c.key,b.$4(c,a))});return this};b.createSurface=function(){return this.$1.surface(this.$2)};return a}();e.exports=a}),null);
__d("MediaUploadFBDefaultSurfaceDefinition",["MediaUploadFBDefaultClientContext","MediaUploadFBEntryPointID","MediaUploadFBSurface","MediaUploadSurfaceDefinition"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){return a.call(this,{client:function(a,d){a=new(b("MediaUploadFBDefaultClientContext"))(c,b("MediaUploadFBEntryPointID").castOrThrow(a,c),d);return a.client},surface:function(a){return new(b("MediaUploadFBSurface"))(c,a)}})||this}return c}(b("MediaUploadSurfaceDefinition"));e.exports=a}),null);
__d("MediaUploadVUShim",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadStageEvent","MediaUploadVUShimSession","MediaUploadVUShimSurface","Promise","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var c=a.prototype;c.createSession=function(a){if(!b("MediaUploadFBSDK").isSupported())return null;var c=a.source,d=a.composer_entry_point_ref;if(c==null||d==null)return null;c=new(b("MediaUploadFBEntryPointID"))(c,d);if(!b("MediaUploadVUShimSurface").isClientSupported(c))return null;if(!b("gkx")("74"))return null;d=b("MediaUploadVUShimSurface").getClient(c);c=new(b("MediaUploadVUShimSession"))(a,d);this.$1.set(c.sessionID,c);return c};c.triggerPublish=function(a,c){var d=this.$1.get(a.sessionID);return d==null?b("Promise").resolve({isSuccessful:!1,errorCode:"MISSING_SESSION"}):d.triggerPublish(a,c)};c.setupEventSubscription=function(a){var c=this,d=function(){if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var b=h;a.addClientEventListener(b,function(a){return c.emitClientEvents(b)})};for(var e=b("MediaUploadClientEvent").members(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=d();if(i==="break")break}d=function(){if(k){if(l>=j.length)return"break";i=j[l++]}else{l=j.next();if(l.done)return"break";i=l.value}var b=i;a.addSessionEventListener(b,function(a){var d;return(d=c.$1.get(a.sessionID))==null?void 0:d.sessionUpdated(b,a)})};for(var j=b("MediaUploadSessionEvent").members(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m=d();if(m==="break")break}d=function(){if(o){if(p>=n.length)return"break";m=n[p++]}else{p=n.next();if(p.done)return"break";m=p.value}var b=m;a.addAssetEventListener(b,function(a,d){var e;(e=c.$1.get(a.sessionID))==null?void 0:e.assetUpdated(b,a,d)})};for(var n=b("MediaUploadAssetEvent").members(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q=d();if(q==="break")break}d=function(){if(s){if(t>=r.length)return"break";q=r[t++]}else{t=r.next();if(t.done)return"break";q=t.value}var d=q,e=function(){if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var b=i;a.addStageEventListener(d,b,function(a,e){var f;(f=c.$1.get(a.sessionID))==null?void 0:f.stageUpdated(d,b,a,e)})};for(var f=b("MediaUploadFBStage").members(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i,j=e();if(j==="break")break}};for(var r=b("MediaUploadStageEvent").members(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u=d();if(u==="break")break}};c.emitClientEvents=function(a){var c;if(a===b("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE)c="online";else if(a===b("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE)c="offline";else return;for(var a=this.$1.values(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f.inform(c)}};return a}();c=new a();d=c;e.exports=d}),null);
__d("MediaUploadVUShimLogger",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.logEvent=function(a,b){};b.postOnShutdown=function(a){return{remove:function(){}}};b.getWaterfallID=function(){return this.$1};return a}();e.exports=a}),null);
__d("MediaUploadVUShimSession",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadCancelReason","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadSingleAssetPublisher","MediaUploadStageEvent","MediaUploadVUShimLogger","MediaUploadVUShimSurface","Promise","WaterfallIDGenerator","cr:909282","mixin"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.sessionID=b("WaterfallIDGenerator").generate();e.$MediaUploadVUShimSession1=c;e.$MediaUploadVUShimSession3=(c=c.waterfall_id)!=null?c:e.sessionID;e.$MediaUploadVUShimSession6=d;e.$MediaUploadVUShimSession5=new(b("MediaUploadVUShimLogger"))(e.$MediaUploadVUShimSession3);e.$MediaUploadVUShimSession10=!e.$MediaUploadVUShimSession1.background_upload;return e}var d=c.prototype;d.createTestLogger=function(){};d.getLogger=function(){return this.$MediaUploadVUShimSession5};d.start=function(a){var c=this;this.inform("set-waterfall-id",{waterfallID:this.$MediaUploadVUShimSession3});var d=b("MediaUploadVUShimSurface").createAssetRequest(function(c){var d=a.getFile(),e=a.getFileInput();if(d!=null)return c.createFromFile(d);else if(e!=null){d=c.createFromHTMLInput(e);if(d.dataAsFile()==null)throw b("MediaUploadFBSDK").createThrowableError("Cannot get File from the HTML input element");else return d}else throw b("MediaUploadFBSDK").createThrowableError("Invalid video upload file, it contains only null objects")},a.getStableAssetID(),function(a){var b;return{targetID:(b=c.$MediaUploadVUShimSession4)!=null?b:c.$MediaUploadVUShimSession1.target_id,composerSessionID:c.$MediaUploadVUShimSession2,actorID:c.$MediaUploadVUShimSession1.as_actor_id,composerDialogVersion:"V2",publisherActionSource:c.$MediaUploadVUShimSession1.video_publisher_action_source,creatorProduct:((b=a.dataAsFile())==null?void 0:b.extension)==="gif"?4:2}});this.$MediaUploadVUShimSession9=d;this.$MediaUploadVUShimSession6.startUploads(this.sessionID,[d]);this.$MediaUploadVUShimSession10&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[d],function(a){return a.set("dummyPublish",!0)})};d.setTargetID=function(a){this.$MediaUploadVUShimSession4=a};d.setComposerSessionID=function(a){this.$MediaUploadVUShimSession2=a};d.post=function(a){this.$MediaUploadVUShimSession10?b("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession9!=null&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession9],function(b){return b.set("postData",a)})};d.cancel=function(a){this.$MediaUploadVUShimSession6.cancelSession(this.sessionID,b("MediaUploadCancelReason").USER_REQUEST)};d.abandon=function(a){this.$MediaUploadVUShimSession6.cancelSession(this.sessionID,b("MediaUploadCancelReason").USER_REQUEST)};d.isPostInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession7)==null?void 0:a.status)===b("MediaUploadSessionStatus").PUBLISHING};d.isInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===b("MediaUploadAssetStatus").PROCESSING||((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===b("MediaUploadAssetStatus").UPLOADING};d.getHasUploadFinished=function(){var a;return((a=this.$MediaUploadVUShimSession8)==null?void 0:a.status)===b("MediaUploadAssetStatus").COMPLETED};d.getVideoID=function(){var a;return(a=this.$MediaUploadVUShimSession8)==null?void 0:a.videoID};d.getUploadTime=function(){var a,b;a=(a=this.$MediaUploadVUShimSession8)==null?void 0:(a=a.uploadSummary)==null?void 0:a.startedAtMs;b=(b=this.$MediaUploadVUShimSession8)==null?void 0:(b=b.uploadSummary)==null?void 0:b.finishedAtMs;return a!=null&&b!=null?b-a:null};d.getExPartitionNumber=function(a){return 0};d.getIsSphericalVideo=function(){var a;return(a=(a=this.$MediaUploadVUShimSession8)==null?void 0:(a=a.metadata)==null?void 0:a.isSpherical)!=null?a:!1};d.startFlow=function(){this.$MediaUploadVUShimSession10?b("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession9!=null&&this.$MediaUploadVUShimSession6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession9])};d.sessionUpdated=function(a,c){this.$MediaUploadVUShimSession7=c;var d=c.extras.getUnsafe("postData");if(d==null)return;c=c.publishingResponse;switch(a){case b("MediaUploadSessionEvent").PUBLISH_STARTED:this.inform("post-started",d);break;case b("MediaUploadSessionEvent").PUBLISH_SUCCEED:this.inform("post-finished",Object.assign({},(a=c==null?void 0:c.payload)!=null?a:{},d));break;case b("MediaUploadSessionEvent").PUBLISH_FAILED:this.inform("post-failed",(a=c==null?void 0:c.payload)!=null?a:{});break;default:}};d.assetUpdated=function(a,c,d){var e;this.$MediaUploadVUShimSession7=c;this.$MediaUploadVUShimSession8=d;var f,g;c=(c=(c=d.asset.dataAsFile())==null?void 0:c.size)!=null?c:0;e=(e=(e=d.uploadSummary)==null?void 0:e.skippedUpload)!=null?e:!1;switch(a){case b("MediaUploadAssetEvent").ASSET_ADDED:f="upload-requested";break;case b("MediaUploadAssetEvent").ASSET_STARTED:f="upload-started";break;case b("MediaUploadAssetEvent").ASSET_REMOVED:f="upload-canceled";break;case b("MediaUploadAssetEvent").ASSET_PROGRESS:f="upload-progressed";g={start_offset:0,end_offset:c,file_size:c,sent_bytes:e?c:(a=(a=d.uploadSummary)==null?void 0:a.uploadedBytes)!=null?a:0,video_id:d.videoID,upload_domain:d.uploadServiceDomain,skip_upload:e,transport_retries:d.retries.totalRetryAttempts};break;case b("MediaUploadAssetEvent").ASSET_SUCCEED:f="upload-finished";g={start_offset:0,end_offset:c,video_id:d.videoID,is_spherical_video:(e=d==null?void 0:(a=d.metadata)==null?void 0:a.isSpherical)!=null?e:!1};break;case b("MediaUploadAssetEvent").ASSET_FAILED:f="upload-failed";g={error_code:(c=d.lastAction)==null?void 0:c.rawErrorCode,error_summary:(a=d.lastAction)==null?void 0:(e=a.displayError)==null?void 0:e.summary,error_description:(c=d.lastAction)==null?void 0:(a=c.displayError)==null?void 0:a.description,error_is_transient:(e=d.lastAction)==null?void 0:(c=e.errorAttributes)==null?void 0:c.transientError,upload_domain:d.uploadServiceDomain,www_request_id:(a=d.lastAction)==null?void 0:a.networkRequestID};break;default:}f!=null&&this.inform(f,g)};d.stageUpdated=function(a,c,d,e){this.$MediaUploadVUShimSession7=d;this.$MediaUploadVUShimSession8=e;if(a===b("MediaUploadStageEvent").STAGE_SUCCEED&&c===b("MediaUploadFBStage").METADATA_EXTRACTION){if(e.metadata!=null){d=e.metadata;a=d.durationMs==null?void 0:d.durationMs/1e3;e={format:{duration:a,isSpherical:(c=d.isSpherical)!=null?c:!1},metadata:{},streams:{numAudioTracks:1,primaryVideo:{type:"video",width:d.width,height:d.height,duration:a},primaryAudio:{type:"audio",duration:a}}}}else e=null;this.inform("metadata-parsed",e)}};d.triggerPublish=function(a,c){var d;this.$MediaUploadVUShimSession7=a;this.$MediaUploadVUShimSession8=c[0];d=(d=a.extras.getBoolean("dummyPublish"))!=null?d:!1;var e=a.extras.getUnsafe("postData");if(d)return b("Promise").resolve({isSuccessful:!0});else if(e==null)return b("Promise").resolve({isSuccessful:!1,errorCode:"MISSING_POST_DATA"});else return b("MediaUploadSingleAssetPublisher").publish({sessionSnapshot:a,assetSnapshot:c[0],postData:e,postRequestManagerParams:this.$MediaUploadVUShimSession1})};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("MediaUploadVUShimSurface",["MediaUploadFBDefaultSurfaceDefinition","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadVUShim"],(function(a,b,c,d,e,f){"use strict";a=new(b("MediaUploadFBDefaultSurfaceDefinition"))(b("MediaUploadFBSDK"));a.registerClientConfiguration({entryPoints:[new(c=b("MediaUploadFBEntryPointID"))("composer","pages_feed"),new c("composer","pages_feed_video_composer"),new c("newsfeed_composer","feed"),new c("composer","timeline")],eventHooks:{publishCallback:function(a,c){return b("MediaUploadVUShim").triggerPublish(a,c)},eventSubscriber:function(a){b("MediaUploadVUShim").setupEventSubscription(a)}}});d=a.createSurface();f=d;e.exports=f}),null);
__d("PageActionURLHandlerType",[],(function(a,b,c,d,e,f){a=Object.freeze({ASYNC_DIALOG:"async-dialog",ASYNC_POST:"async-post",DIALOG:"dialog",DIALOG_POST:"dialog-post",LINK_OUT:"link-out",LINK_OUT_NEW_TAB:"link-out-new-tab"});e.exports=a}),null);
__d("PageActionBarActionSelector.react",["fbt","ix","ContextualDialogArrow","Image.react","PageActionURLHandlerType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PopoverMenu.react","ReactXUIMenu","URI","VideoPageThemedActionBarButton.react","XUIButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react"),l=b("ReactXUIMenu").Item,m=function(a){var c=function(c){b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:c})};return k.jsx(b("ReactXUIMenu"),{children:a.actions.map(function(d){if(!d.url||!d.label||!d.label.text)return null;b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:d.__typename});var e=b("PageActionURLHandlerType")[d.url_handler_type]||null,f=d.url;(e==="async-dialog"||e==="async-post"||e==="dialog")&&(f=new(j||(j=b("URI")))(d.url).getUnqualifiedURI().toString());var g=function(){return c(d.__typename)};return k.jsx(l,{href:f,onClick:g,rel:e,target:e==="link-out-new-tab"?"_blank":"_self",children:d.label.text},d.label.text)})})};function a(a){if(a.actions.length===0)return null;var c=a.videoPageThemeColor;return k.jsx(b("PopoverMenu.react"),{alignh:"right",layerBehaviors:[b("ContextualDialogArrow")],menu:m(a),children:c==null?k.jsx(b("XUIButton.react"),{haschevron:!1,image:k.jsx(b("Image.react"),{src:h("127000")}),label:g._("More"),labelIsHidden:!0,size:a.size||"large"}):k.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:k.jsx(b("Image.react"),{src:h("484386")}),isBgFilled:!1,label:g._("More"),labelIsHidden:!0,videoPageThemeColor:c})})}}),null);
__d("PageActionContainer.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var b=a.action.ReactComponent;return!b?null:h.jsx(b,babelHelpers["extends"]({},a))}}),null);
__d("PageActionOpenURLAsyncDialog.react",["cx","AsyncDialog","AsyncRequest","URI","VideoPageThemedActionBarButton.react","XUIButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AsyncDialog").send(new(b("AsyncRequest"))(new(i||(i=b("URI")))(d.props.action.url).getUnqualifiedURI())).setRelativeTo(babelHelpers.assertThisInitialized(d))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label,d=a.url;a=a.hideButtonText;if(c===null||d===null)return null;d=this.props.videoPageThemeColor;return d==null?j.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,labelIsHidden:a,onClick:this.$1,size:this.props.size}):j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,labelIsHidden:a,onClick:this.$1,videoPageThemeColor:d})};return c}(j.PureComponent);e.exports=a}),null);
__d("PageActionOpenURLAsyncPost.react",["cx","AsyncRequest","URI","VideoPageThemedActionBarButton.react","XUIButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){new(b("AsyncRequest"))(new(i||(i=b("URI")))(d.props.action.url).getUnqualifiedURI()).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label;a=a.url;if(c===null||a===null)return null;a=this.props.videoPageThemeColor;return a==null?j.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,onClick:this.$1,size:this.props.size}):j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,onClick:this.$1,videoPageThemeColor:a})};return c}(j.PureComponent);e.exports=a}),null);
__d("PageActionOpenURLLinkOut.react",["cx","PageActionURLHandlerType","Tooltip","URI","VideoPageThemedActionBarButton.react","XUIButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=14;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PageActionURLHandlerType")[d.props.action.url_handler_type]==="link-out-new-tab"?(i||(i=b("URI"))).goURIOnWindow(d.props.action.url,window.open("","_blank"),!0):(i||(i=b("URI"))).go(d.props.action.url)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.action,c=a.label;a=a.url;if(c===null||a===null)return null;a=this.props.videoPageThemeColor;a=a==null?j.jsx(b("XUIButton.react"),{className:"_rfh",image:this.props.image,label:c.text,onClick:this.$1,size:this.props.size}):j.jsx(b("VideoPageThemedActionBarButton.react"),{className:"_3-99",image:this.props.image,isBgFilled:!1,label:c.text,onClick:this.$1,videoPageThemeColor:a});c.text.length>=k&&(a=j.cloneElement(a,b("Tooltip").propsFor(c.text)));return a};return c}(j.PureComponent);e.exports=a}),null);
__d("PageCTAAction.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var b=a.ReactComponent,c=a.call_to_action,d=a.cta_config,e=a.foodAndDrinkLoggingParams,f=a.servicesLoggingParams,g=a.should_auto_open,i=a.surface;return h.jsx(b,babelHelpers["extends"]({},a,{cta:{id:c?c.id:null,label:d&&d.label||c&&c.label||null,type:d&&d.cta_type||c&&c.cta_type||null},extraProps:{foodAndDrinkLoggingParams:e,servicesLoggingParams:f,shouldAutoOpen:Boolean(g)},page:{id:a.page.id},surface:i}))}}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["cx","fbt","ix","Image.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=494;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return k.jsxs(b("XUIDialog.react"),{shown:this.props.shown,onToggle:function(b){return!b&&a.props.onDismiss},width:l,children:[k.jsxs(b("XUIDialogBody.react"),{className:"_3-95 _3pa-",children:[k.jsx(b("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),k.jsx(b("XUIText.react"),{size:"header3",display:"block",children:h._("The Messenger link has been copied.")}),k.jsx(b("XUIText.react"),{className:"_3-8y",display:"block",size:"header4",children:h._("The Messenger link has been copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page.")})]}),k.jsx(b("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:k.jsxs("div",{children:[k.jsx(b("Image.react"),{className:"_1-vn _3-8_",src:i("126379")}),k.jsx(b("XUIGrayText.react"),{children:this.props.url})]}),children:k.jsx(b("XUIDialogButton.react"),{use:"confirm",label:h._("Done"),onClick:this.props.onDismiss})})]})};return c}(k.Component);e.exports=a}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:!0}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","Arbiter","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","PagesEventObserver","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","ReactXUIMenu","XPagesMessageCallToActionSendController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","joinClasses","qex","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$4=function(a){a=d.props.pageID;var c=b("MercuryIDs").getThreadIDFromUserID(a);b("FantaTabActions").openTab(c,[d.props.settings.ref]);b("ChatOpenTabEventLogger").logUserClickOpen(d.props.settings.ref,a);b("Arbiter").inform("pages/messages/message_button_clicked",{});c=(c=b("qex")._("1164632"))!=null?c:!1;if(c){c=b("XPagesMessageCallToActionSendController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(c).send()}};d.$6=function(a){a=d.props.settings.adminSettings&&d.props.settings.adminSettings.messengerLinkURI;if(!a)return;b("Clipboard").copy(a);d.setState({linkDialogShown:!0});b("PagesEventObserver").notify("shared_message_link_copy",d.props.pageID,{source:"source:pages:message_shortlink"})};d.$7=function(){d.setState({linkDialogShown:!1})};d.$8=function(){d.setState({nuxDismissed:!0})};d.state={isOnline:!1,linkDialogShown:!1,nuxDismissed:!1};return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=b("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(b("AsyncRequest"))().setMethod("GET").setURI(c).setHandler(function(b){b=b.payload;a.setState({isOnline:b.showOnlneIndicator})}).send()};d.componentDidMount=function(){b("PagesEventObserver").notify("messages_button_render",this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};d.render=function(){if(!this.props.settings.isLoggedIn)return null;var a=h._("Message");this.props.settings.adminSettings||(this.props.className?a=h._("Send Message"):this.props.settings.label&&(a=h._("{settings_label}",[h._param("settings_label",this.props.settings.label)])));var c=this.props.pageCategory==="WORKPLACE_BOT",d=c?i("701295"):i("481153");c=c?i("701294"):i("548580");var e=null;if(this.props.settings.adminSettings)e=k.jsxs(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuShowOnHover")],className:b("joinClasses")(this.props.className,"_3u42"),layerBehaviors:[b("ContextualDialogArrow")],menu:this.$1(),children:[e,this.$2()]});else{var f=b("joinClasses")(this.props.className,this.props.isInHovercard?null:"_p8f");c=this.props.isSecondaryAction||this.props.isInHovercard?c:d;e=k.jsx(b("XUIButton.react"),{className:f,"data-testid":void 0,image:k.jsx(b("Image.react"),{src:c}),imageRight:this.$3(),label:a,onClick:this.$4,ref:"messageButton",size:this.props.size})}return k.jsxs(b("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r",children:[e,this.$5()]})};d.$3=function(){return!this.state.isOnline?null:k.jsx("span",{className:"_ljx",children:k.jsx(b("Image.react"),{src:i("311942")})})};d.$1=function(){if(!this.props.settings.adminSettings)return null;var a=null;this.props.settings.adminSettings.messengerLinkURI&&(a=k.jsx(l,{onclick:this.$6,children:h._("Copy Messenger Link")}));return k.jsxs(b("ReactXUIMenu"),{children:[k.jsx(l,{href:this.props.settings.adminSettings.inboxURI,children:h._("View Messages")}),this.props.settings.adminSettings.messengerLinkURI?k.jsx(b("MenuSeparator.react"),{}):null,a]})};d.$2=function(){var a=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;return!a?null:k.jsx(b("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$7,shown:this.state.linkDialogShown,url:a})};d.$5=function(){var a=this;if(!this.props.settings.showNUX)return null;var c=this.props.pageCategory==="WORKPLACE_BOT"?h._("Send a message to this Bot."):h._("Send a message to this Page.");return k.jsx(b("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return a.refs.messageButton},onCloseButtonClick:this.$8,position:"below",shown:!this.state.nuxDismissed,width:"auto",children:c})};return c}(k.Component);e.exports=a}),null);
__d("PageMessageAction.react",["PagesMessageButton.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.action;return h.jsx(b("PagesMessageButton.react"),{className:this.props.className,icon:this.props.icon,isSecondaryAction:this.props.isSecondaryAction,pageID:a.messaging_page.id,pageCategory:a.page.category_type,settings:{adminSettings:a.admin_inbox_url?{inboxURI:a.admin_inbox_url,messengerLinkURI:a.admin_messenger_link_url}:null,isLoggedIn:!0,ref:a.messaging_page.id===a.page.id?"fb_page:secondary_message_button":"fb_page:locations_child_page_message_cta",showNUX:a.show_nux,label:a.label.text},size:this.props.size})};return c}(h.Component);e.exports=a}),null);
__d("PageReportAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{image:i.jsx(b("Image.react"),{src:g("128308")})}))}}),null);
__d("PageSharePageAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{action:babelHelpers["extends"]({},a.action,{hideButtonText:!!a.videoPageThemeColor}),image:i.jsx(b("Image.react"),{src:a.videoPageThemeColor==null?g("363825"):g("484394")})}))}}),null);
__d("PageSimpleActionWithURL.react",["Image.react","PageActionOpenURLAsyncDialog.react","PageActionOpenURLAsyncPost.react","PageActionOpenURLLinkOut.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c,d;d=(d=a)!=null?(d=d.action)!=null?d.url_handler_type:d:d;c=(c=a)!=null?(c=c.action)!=null?(c=c.icon)!=null?(c=c.icon_image)!=null?c.uri:c:c:c:c;c=c!=null?h.jsx(b("Image.react"),{height:16,src:c,width:16}):null;switch(d){case"ASYNC_DIALOG":return h.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{image:c}));case"ASYNC_POST":return h.jsx(b("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},a,{image:c}));default:return h.jsx(b("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},a,{image:c}))}}}),null);
__d("PageSuggestEditsAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsx(b("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},a,{image:i.jsx(b("Image.react"),{src:g("128156")})}))}}),null);
__d("XLoggedOutInlineLoginDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_out_inline_modal/content/",{redirect_uri:{type:"String"}})}),null);
__d("InlineLoginDialogWrapper.react",["AsyncRequest","CurrentUser","XLoggedOutInlineLoginDialogController","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loginPromptCreated:!1},d.$2=function(a){!b("CurrentUser").isLoggedIn()&&(d.props.SEOInlineLoginDialogGatingPayload==null||d.props.SEOInlineLoginDialogGatingPayload())&&(a.stopPropagation(),d.$3())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.$1&&this.$4(this.$1)};d.$4=function(a){this.state.loginPromptCreated||(this.$5(a),this.setState({loginPromptCreated:!0}))};d.$5=function(a){var c=b("XLoggedOutInlineLoginDialogController").getURIBuilder().setString("redirect_uri",this.props.next).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setRelativeTo(a).send()};d.render=function(){var a=this;return h.jsx("div",{onClickCapture:this.$2,ref:function(b){return a.$1=b},children:this.props.children})};return c}(h.PureComponent);e.exports=a}),null);
__d("ProfileSubFollowStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR_FOLLOW:"follow",RECAP:"recap",SEE_FIRST:"see_first",SEE_MORE:"see_more",HIGHLIGHTS_ONLY:"highlights_only",SUBSCRIBE_ALL_LIVE_NOTIFICATIONS:"subscribe_all_live_notifications",SUBSCRIBE_SUGGESTED_LIVE_NOTIFICATIONS:"subscribe_suggested_live_notifications",SUBSCRIBE_NONE_LIVE_NOTIFICATIONS:"subscribe_none_live_notifications",UNFOLLOW:"unfollow",SNOOZED:"snoozed"});e.exports=a}),null);
__d("SnoozedProfileTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setItemObjID=function(a){this.$1.item_obj_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};return a}();c={clienttime:!0,event:!0,item_obj_id:!0,session_id:!0};e.exports=a}),null);
__d("PagesHeaderFollowButton.react",["cx","fbt","ix","Arbiter","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","ReactXUIMenu","SnoozedProfileTypedLogger","SubscribeButton","VideoPageThemedActionBarButton.react","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","react","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("ReactXUIMenu").SelectableMenu,m=b("ReactXUIMenu").Item,n=4225,o=5571;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$8=function(){d.props.snoozeStatus&&new(b("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(d.props.pageID).setSessionID(d.$1).log()},d.$9=function(a){d.$11();b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(a.target,d.props.pageID,!0,d.props.followLocation,null,d.props.qocDialogButton);d.props.shouldShowFollowPrivacyNux&&(d.setState({privacyNuxShown:!0}),b("BasicFBNux").onView(n));if(d.props.qocDialogButton){a=d.props.pageID;b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:a,suppress:!0})}},d.$12=function(a){d.$11();b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(a.target,d.props.pageID,!1,d.props.followLocation,null,d.props.qocDialogButton);b("PagesLikeFollowHelper").onUnfollowWithConfirmation(d.props.pageID);if(d.props.qocDialogButton){a=d.props.pageID;b("Arbiter").inform(b("SubscribeButton").UNSUBSCRIBED,{profile_id:a,suppress:!0})}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("uuid")(),this.props.shouldShowFollowButtonNux===!0&&b("BasicFBNux").onView(o),this.setState({privacyNuxShown:!1,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};d.componentWillUnmount=function(){this.$1=null};d.render=function(){if(!this.props.followAllowed)return null;var a,c;if(this.props.snoozeStatus)a=this.$2(),c=this.$3(),new(b("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$1).log();else{if(!this.props.followStatus)return this.$4();else if(this.props.disableDropdown)return this.$5();a=this.$6();c=this.$7()}c=k.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:k.jsx(l,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:!0,children:c}),onHide:this.$8,children:a});return this.props.asPrimaryButton==="true"?k.jsx("div",{className:"_6534",children:c}):c};d.$4=function(){var a=this.props.videoPageThemeColor;if(a)return k.jsx(b("VideoPageThemedActionBarButton.react"),{"data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("488981")}),isBgFilled:!0,label:h._("Follow"),onClick:this.$9,ref:"followButton",videoPageThemeColor:a});if(this.props.blueFollowButton)return k.jsx(b("PagesButton.react"),{color:"fbblue",image:k.jsx(b("Image.react"),{className:"ctaButtonIcon",src:i("114929")}),label:k.jsx("span",{className:"blueButtonLabel",children:h._("Follow")}),onClick:this.$9});return this.props.asPrimaryButton==="true"?k.jsxs("span",{className:"_6534 uiContextualLayerParent",children:[k.jsx(b("XUIButton.react"),{className:this.props.asPrimaryButtonWide?"_93q_":"","data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("114929")}),label:h._("Follow"),onClick:this.$9,ref:"followButton",size:this.props.size||"large",use:"confirm"}),this.$10()]}):k.jsx(b("XUIButton.react"),{"data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("127712")}),label:h._("Follow"),onClick:this.$9,size:this.props.size})};d.$11=function(){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:this.props.logAction})};d.$5=function(){return this.props.blueFollowButton?k.jsx(b("PagesButton.react"),{color:"fbblue",image:k.jsx(b("Image.react"),{className:"ctaButtonIcon",src:i("114932")}),label:k.jsx("span",{className:"blueButtonLabel",children:h._("Following")}),onClick:this.$12}):k.jsx(b("XUIButton.react"),{image:this.props.qocDialogButton?k.jsx(b("Image.react"),{src:i("116170")}):k.jsx(b("Image.react"),{src:i("116498")}),label:h._("Following"),onClick:this.$12,size:this.props.size})};d.$6=function(){var a=this.props.videoPageThemeColor;if(a)return k.jsx(b("VideoPageThemedActionBarButton.react"),{"data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("602176")}),isBgFilled:!1,label:h._("Following"),ref:"followedButton",videoPageThemeColor:a});return this.props.asPrimaryButton==="true"?k.jsxs("div",{children:[k.jsx(b("XUIPopoverButton.react"),{className:this.props.asPrimaryButtonWide?"_93q_":"","data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("116533")}),label:h._("Following"),ref:"followedButton",size:this.props.size||"large"}),this.renderLayers()]}):k.jsxs("div",{children:[k.jsx(b("XUIPopoverButton.react"),{"data-testid":void 0,image:k.jsx(b("Image.react"),{src:i("116498")}),label:h._("Following"),ref:"followedButton",size:this.props.size}),this.renderLayers()]})};d.$2=function(){return k.jsx("div",{children:k.jsx(b("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:k.jsx(b("Image.react"),{src:i("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size})})};d.renderLayers=function(){var a=this;return k.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.followedButton},shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return a.$13()},children:h._("You can control who can see the people, Pages and lists you follow {hyperlink for help center}.",[h._param("hyperlink for help center",k.jsx(b("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog",children:h._("here")}))])},"ambientNUX")};d.$13=function(){this.setState({privacyNuxShown:!1}),b("BasicFBNux").onDismiss(n)};d.$10=function(){var a=this;return k.jsxs(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.followButton},onCloseButtonClick:function(){return a.$14()},position:"below",shown:this.state.followButtonNuxShown,children:[k.jsx(b("Image.react"),{className:"_2tv4",src:i("418478")}),k.jsx("div",{className:"_2tv5",children:h._("Follow this show to get new episodes in your watchlist on Facebook Watch.")})]},"ambientNUX")};d.$14=function(){this.setState({followButtonNuxShown:!1}),b("BasicFBNux").onDismiss(o)};d.$3=function(){var a=this;return[k.jsxs(m,{className:"_10it",onclick:function(){b("PagesLikeFollowHelper").onSnoozeChange(a.props.pageID,!1),new(b("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(a.props.pageID).setSessionID(a.$1).log()},children:[k.jsx(b("XUIText.react"),{size:"meta1",display:"block",children:(this.props.snoozeData||{}).actionText}),k.jsx(b("XUIText.react"),{size:"meta1",className:"_34kz",children:(this.props.snoozeData||{}).timeLeftText})]},"Unsnooze."+this.props.pageID)]};d.$7=function(){var a=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[k.jsx(m,{"data-testid":void 0,onclick:this.$12,children:h._("Unfollow this Page")},"Unfollow."+this.props.pageID),k.jsx(b("XUIMenuSeparator.react"),{},"follow_seperator"),b("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!0,a,this.props.notifStatus),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!1,!a,this.props.notifStatus)]};return c}(k.Component);e.exports=a}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]};c.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState(),e=b("PagesSnoozeStore").getState()[c.pageID]||{},f=b("PagesGetNotificationStore").getState(),g=b("PageNewsFeedStore").getState();g={pageID:c.pageID,pageName:c.pageName,actorID:c.actorID,followAllowed:c.followAllowed,followLocation:c.followLocation,newsFeedStatus:g[c.pageID],disableDropdown:c.disableDropdown,shouldShowFollowPrivacyNux:c.shouldShowFollowPrivacyNux,likeStatus:a[c.pageID],followStatus:d[c.pageID],snoozeStatus:e.status,snoozeData:e.data,notifStatus:babelHelpers["extends"]({},f[c.pageID]),origin:c.origin,size:c.size,showUnpublishPageDialog:c.showUnpublishPageDialog,blueFollowButton:c.blueFollowButton,asPrimaryButton:c.asPrimaryButton,asPrimaryButtonWide:c.asPrimaryButtonWide,shouldShowFollowButtonNux:c.shouldShowFollowButtonNux,videoPageThemeColor:c.videoPageThemeColor,qocDialogButton:c.qocDialogButton,logAction:c.logAction};return g};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:"init_data"})};d.render=function(){return h.jsx(b("PagesHeaderFollowButton.react"),babelHelpers["extends"]({},this.state))};return c}(h.Component);c=b("FluxContainer").create(a,{withProps:!0});e.exports=c}),null);
__d("PagesHeaderGamesNotificationButton.react",["cx","fbt","ix","ContextualDialogArrow","FDSButton.react","Image.react","PageGetNotificationUtil","PageLikeButton","PagesLikeFollowHelper","PagesLikeFollowNotifDispatcher","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ReactXUIMenu","XUIMenuSeparator.react","XUIPopoverButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("ReactXUIMenu").SelectableMenu,m=b("ReactXUIMenu").Item;function n(a){return k.jsx(b("FDSButton.react"),{icon:k.jsx(b("Image.react"),{src:i("493831")}),label:h._("Favourite"),onClick:a.onFollowClick})}function o(){return k.jsx(b("XUIPopoverButton.react"),{image:k.jsx(b("Image.react"),{src:i("116170")}),label:h._("Favourited"),size:"large"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageLikeButton").doLikeAction(a.target,d.props.pageID,d.props.origin,d.props.actorID),b("PagesLikeFollowNotifDispatcher").dispatch({data:{pageID:d.props.pageID,state:"on",type:"live_video"},type:"notif_change"})},d.$2=function(a){b("PageLikeButton").doUnlikeAction(a,d.props.pageID,d.props.origin,d.props.actorID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a,c=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[k.jsx(m,{onclick:this.$2,children:h._("Unfavourite")},"Unfollow."+this.props.pageID),k.jsx(b("XUIMenuSeparator.react"),{},"follow_seperator"),(a=b("PagesLikeFollowHelper")).newsfeedTitleMenuItem(this.props.pageID),a.newsfeedMenuItem(this.props.pageID,"see_first",this.props.newsFeedStatus),a.newsfeedMenuItem(this.props.pageID,"follow",this.props.newsFeedStatus),a.newsfeedMenuItem(this.props.pageID,"unfollow",this.props.newsFeedStatus),a.notificationTitleMenuItem(this.props.pageID),a.notificationMenuItem(this.props.pageID,!0,c,this.props.notifStatus),a.notificationMenuItem(this.props.pageID,!1,!c,this.props.notifStatus)]};d.render=function(){return this.props.isSubscribed?k.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:k.jsx(l,{className:"_4bje",multiple:!0,children:this.$3()}),children:k.jsx(o,{})}):k.jsx(n,{onFollowClick:this.$1})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesHeaderGamesNotificationContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderGamesNotificationButton.react","PagesLikeFollowNotifDispatcher","PagesLikeStore","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesFollowStore"),b("PagesGetNotificationStore"),b("PagesLikeStore"),b("PageNewsFeedStore")]};c.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState();return{actorID:c.actorID,followLocation:c.followLocation,isSubscribed:a[c.pageID]||d[c.pageID],newsFeedStatus:b("PageNewsFeedStore").getState()[c.pageID],notifStatus:babelHelpers["extends"]({},b("PagesGetNotificationStore").getState()[c.pageID]),origin:c.origin,pageID:c.pageID}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesFollowStore"),b("PagesGetNotificationStore"),b("PagesLikeStore"),b("PageNewsFeedStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:"init_data"})};d.render=function(){return h.jsx(b("PagesHeaderGamesNotificationButton.react"),babelHelpers["extends"]({},this.state))};return c}(h.PureComponent);c=b("FluxContainer").create(a,{withProps:!0});e.exports=c}),null);
__d("XRecommendPageComposerDialogAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/recommendation/composer/",{page_id:{type:"FBID",required:!0},recommendation_type:{type:"Enum",enumType:1},surface:{type:"Enum",required:!0,enumType:1},ref_type:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("XRecommendPageDeleteRecommendationDialogAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/recommendation/action_bar/delete_dialog/",{page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("PagesHeaderRecommendPageButton.react",["cx","fbt","ix","AsyncDialog","AsyncRequest","ContextualDialogArrow","Image.react","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ReactXUIMenu","URI","XPagesProfileReviewsController","XRecommendPageComposerDialogAsyncController","XRecommendPageDeleteRecommendationDialogAsyncController","XUIButton.react","XUIPopoverButton.react","gkx","goURI","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||b("react"),m=b("ReactXUIMenu").SelectableMenu,n=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=b("XRecommendPageComposerDialogAsyncController").getURIBuilder().setFBID("page_id",String(d.props.pageID)).setEnum("surface","page_recommendation_action_bar").setEnum("ref_type","page_recommendation_action_bar");d.props.canRecommendWithType&&a.setEnum("recommendation_type","positive");b("AsyncDialog").send(new(b("AsyncRequest"))(new(k||(k=b("URI")))(a.getURI()).getUnqualifiedURI()))},d.$2=function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(b("XRecommendPageDeleteRecommendationDialogAsyncController").getURIBuilder().setFBID("page_id",String(d.props.pageID)).getURI().getUnqualifiedURI()))},d.$3=function(a){b("goURI")(b("XPagesProfileReviewsController").getURIBuilder().setString("page_token",d.props.pageURIToken).getURI())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.isRecommended&&this.props.canRecommendWithType){var a=b("gkx")("678726")?l.jsx(n,{children:h._("Edit recommendation")},"editRecommendation."+this.props.pageID):null;return l.jsx(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:l.jsxs(m,{multiple:!0,children:[a,l.jsx(n,{onClick:this.$3,children:h._("View recommendation")},"viewRecommendation."+this.props.pageID),l.jsx(n,{onClick:this.$2,children:h._("Delete recommendation")},"deleteRecommendation."+this.props.pageID)]}),children:l.jsx(b("XUIPopoverButton.react"),{image:l.jsx(b("Image.react"),{src:i("548195")}),label:h._("Recommended"),size:"large"})})}else return l.jsx(b("XUIButton.react"),{className:"_rfh",image:l.jsx(b("Image.react"),{src:i("548196")}),label:h._("Recommend"),onClick:this.$1,size:"large"})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesRecommendPageDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Arbiter").subscribe("pageRecommendation/recommendChange",function(a,b){d.dispatchRecommendChange(b.pageID,b.recommendStatus)}));return d}var d=c.prototype;d.dispatchRecommendChange=function(a,b){this.dispatch({type:"recommend_changed",data:{pageID:a,recommendStatus:b}})};return c}(b("ExplicitRegistrationReactDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("PagesRecommendPageStore",["FluxReduceStore","PagesRecommendPageDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){a=babelHelpers["extends"]({},a);switch(b.type){case"init_data":case"recommend_changed":a[b.data.pageID]=b.data.recommendStatus;break}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesRecommendPageDispatcher"));e.exports=c}),null);
__d("PagesHeaderRecommendPageButtonContainer.react",["FluxContainer","PagesHeaderRecommendPageButton.react","PagesRecommendPageDispatcher","PagesRecommendPageStore","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesRecommendPageStore")]};c.calculateState=function(a,c){a=b("PagesRecommendPageStore").getState();return{isRecommended:a[c.pageID]}};function c(c){var d;d=a.call(this,c)||this;b("PagesRecommendPageDispatcher").explicitlyRegisterStores([b("PagesRecommendPageStore")]);b("PagesRecommendPageDispatcher").dispatch({data:c,type:"init_data"});return d}var d=c.prototype;d.render=function(){return h.jsx(b("PagesHeaderRecommendPageButton.react"),{canRecommendWithType:this.props.canRecommendWithType,isRecommended:this.state.isRecommended,pageID:this.props.pageID,pageURIToken:this.props.pageURIToken})};return c}(h.PureComponent);c=b("FluxContainer").create(a,{withProps:!0});e.exports=c}),null);
__d("SEOInlineLoginDialogGating.react",["gkx"],(function(a,b,c,d,e,f){"use strict";a={seoPagesLoginPrompt:function(){return b("gkx")("1051420")},seoJobsDetailViewLoginPrompt:function(){return b("gkx")("1064552")}};c=a;e.exports=c}),null);
__d("PagesActionBarChannel.react",["cx","InlineLoginDialogWrapper.react","PageActionBarActionSelector.react","PageActionContainer.react","PageCTAAction.react","PageCallToActionRef","PagesHeaderFollowButtonContainer.react","PagesHeaderGamesNotificationContainer.react","PagesHeaderLikeButtonContainer.react","PagesHeaderRecommendPageButtonContainer.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","SEOInlineLoginDialogGating.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsxs("div",{className:"_5hgz"+(a.videoPageThemeColor==null?" _51xa":""),children:[a.primaryFollowButtonInBar!=null&&a.videoPageThemeColor!=null&&i.jsx(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{asPrimaryButton:"false",videoPageThemeColor:a.videoPageThemeColor})),a.customActionsData.slice(0,a.numberOfActionBarButtons).map(function(c,d){b("PagesLogger").log(a.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_ACTIONS,"pages__header__action_bar",["page_consumer_experience"],{action:c.__typename});switch(c.__typename){case"PageLikeAction":return{element:i.createElement(b("PagesHeaderLikeButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{hideButtonText:a.hideButtonText,key:c.__typename+d,logAction:c.__typename,size:"large",videoPageThemeColor:a.videoPageThemeColor})),isCTAAction:!1};case"PageFollowAction":return{element:i.createElement(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{asPrimaryButton:"false",key:c.__typename+d,logAction:c.__typename,size:"large",videoPageThemeColor:a.videoPageThemeColor})),isCTAAction:!1};case"PageGetGamesNotificationAction":return{element:i.createElement(b("PagesHeaderGamesNotificationContainer.react"),babelHelpers["extends"]({},a.likeFollowData,{key:c.__typename+d})),isCTAAction:!1};case"PageCTAAction":return{element:i.createElement(b("PageCTAAction.react"),babelHelpers["extends"]({},c,{className:"_rfh",key:c.__typename+d,surface:b("PageCallToActionRef").PAGES_ACTION_BAR_CHANNEL})),isCTAAction:!0};case"PageRecommendPageAction":return{element:i.createElement(b("PagesHeaderRecommendPageButtonContainer.react"),babelHelpers["extends"]({},a.recommendData,{key:c.__typename+d})),isCTAAction:!1};default:c.hideButtonText=a.hideButtonText;return{element:i.jsx(b("PageActionContainer.react"),{action:c,className:"_rfh _17q_",pageID:a.pageID,size:"large",videoPageThemeColor:a.videoPageThemeColor},c.__typename+d),isCTAAction:!1}}}).map(function(c,d){return a.next!=null&&!c.isCTAAction?i.jsx(b("InlineLoginDialogWrapper.react"),{SEOInlineLoginDialogGatingPayload:b("SEOInlineLoginDialogGating.react").seoPagesLoginPrompt,next:a.next,children:c.element},d):c.element}),i.jsx(b("PageActionBarActionSelector.react"),{actions:a.customActionsData.slice(a.numberOfActionBarButtons),pageID:a.pageID,videoPageThemeColor:a.videoPageThemeColor})]})}}),null);
__d("PagesHeaderDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0});e.exports=a}),null);
__d("PagesActionsUnitStore",["FluxReduceStore","PagesHeaderDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"actions_unit_data":return babelHelpers["extends"]({},a,b.data);case"update_video_page_theme_color":return babelHelpers["extends"]({},a,{videoPageThemeColor:b.videoPageThemeColor})}return a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{callToAction:null,likeFollowData:null,recommendData:null,messageData:null,moreMenuItemConfigs:[],pageID:"0",customActionsData:[],numberOfActionBarButtons:3,primaryFollowButtonInBar:!1,hideButtonText:!1,videoPageThemeColor:null}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesHeaderDispatcher"));e.exports=c}),null);
__d("PagesActionBarChannelContainer.react",["BusinessConsoleFirstPartyToolAction","FluxContainer","PagesActionBarChannel.react","PagesActionsUnitStore","PagesHeaderDispatcher","PagesHeaderFollowButtonContainer.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesActionsUnitStore")]};c.calculateState=function(){return b("PagesActionsUnitStore").getState()};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesHeaderDispatcher").explicitlyRegisterStore(b("PagesActionsUnitStore")),b("PagesHeaderDispatcher").dispatch({data:this.props,type:"actions_unit_data"}),b("BusinessConsoleFirstPartyToolAction").updateLastActiveTime(null,"page")};d.render=function(){var a=this.state.primaryFollowButtonInBar,c=this.state.videoPageThemeColor;return h.jsxs("div",{children:[a===!0&&(c===null||c===""||c===void 0)?h.jsx(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.state.likeFollowData,{asPrimaryButton:"true"})):null,h.jsx(b("PagesActionBarChannel.react"),babelHelpers["extends"]({},this.state))]})};return c}(h.Component);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("PagesPrimaryButtonsActionChannel.react",["cx","InlineLoginDialogWrapper.react","Layout.react","PageActionContainer.react","PageCTAAction.react","PageCallToActionRef","PagesHeaderFollowButtonContainer.react","SEOInlineLoginDialogGating.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn;function a(a){var c=a.primaryButtons,d=c[0],e=c[1];if(!d)return null;c=a.isAdmin?!1:b("qex")._("815972");var f=a.isAdmin?!1:b("qex")._("815973"),g=null;d.__typename==="PageCTAAction"&&!(d.action_type==="FOLLOW_PAGE"&&!a.isAdmin)?g=i.jsx(b("PageCTAAction.react"),babelHelpers["extends"]({},d,{className:(e?"_147q":"")+" _604m",entrypoint:"fb_page:primary_message_button",surface:b("PageCallToActionRef").PAGES_ACTIONS_UNIT_SURFACE})):d.__typename==="PageFollowAction"||d.action_type==="FOLLOW_PAGE"&&!a.isAdmin?g=i.jsx(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},d.likeFollowData,{asPrimaryButton:"true",asPrimaryButtonWide:!0})):g=i.jsx(b("InlineLoginDialogWrapper.react"),{SEOInlineLoginDialogGatingPayload:b("SEOInlineLoginDialogGating.react").seoPagesLoginPrompt,next:a.next,children:i.jsx(b("PageActionContainer.react"),{action:d,className:(e?"":"_xah")+(e?"":" _2ias")+(e?"":" _2-sm")+(e?"":" _1olk"),isSecondaryAction:!1,size:"large"})});return i.jsxs(b("Layout.react"),{className:"_2iar",children:[i.jsx(k,{className:c?"_7gir":"",children:g}),e&&!f?i.jsx(j,{className:"_3-9b",children:function(){var c=i.jsx(b("PageActionContainer.react"),{action:e,isSecondaryAction:!0,size:"large"});return e.__typename!=="PageCTAAction"?i.jsx(b("InlineLoginDialogWrapper.react"),{SEOInlineLoginDialogGatingPayload:b("SEOInlineLoginDialogGating.react").seoPagesLoginPrompt,next:a.next,children:c}):{pageActionContainer:c}}()}):null]})}}),null);
__d("VideoUploadProgressUtils",[],(function(a,b,c,d,e,f){"use strict";f.isEncodingFinished=a;f.getOptimizedProgress=b;f.getUpdatedProgress=c;var g=99.8;function a(a){return a==="finish"}function b(a,b,c,d,e){if(!e)return{progress:Math.max(b,a.progress),progressWithoutFake:a.progressWithoutFake};e={progress:b,progressWithoutFake:a.progressWithoutFake};var f=a.progress+b;if(!(b>0)||d>0&&f>d){e.progress=-1;return e}f=Number(f.toFixed(1));c==="finish"||c==="notify"?f=100:f>=100&&(f=a.progress<100?a.progress:g);e.progress=f;e.progressWithoutFake=f;return e}function c(a,b){var c={progress:b.progress,progressWithoutFake:b.progressWithoutFake};a.obj.cached_progress&&b.progress<a.obj.cached_progress&&(c={progress:a.obj.cached_progress,progressWithoutFake:a.obj.cached_progress});b=this.getOptimizedProgress(c,a.obj.progress,a.obj.stage,a.obj.max_percent?a.obj.max_percent:0,a.obj.sve_report);c.progress=b.progress;c.progressWithoutFake=b.progressWithoutFake;return c}}),null);
__d("OptimisticVideoProgressBar.react",["cx","fbt","Arbiter","AsyncRequest","BUIProgressBar.react","ChannelConstants","Run","VideoUploadProgressUtils","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=5e3,l="video_encode";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoProgress:0,completed:!1,encodeToken:{}},d.inactivityTimer=null,d.stopInactivityTimer=function(){clearTimeout(d.inactivityTimer)},d.resetInactivityTimer=function(a){d.stopInactivityTimer(),d.inactivityTimer=d.startInactivityTimer(a)},d.getChannelType=function(){return b("ChannelConstants").getArbiterType(l)},d.onEncodeFinished=function(){d.stopInactivityTimer(),d.state.encodeToken.unsubscribe(),d.setState({videoProgress:100,completed:!0})},d.onEncodeUpdate=function(a,c){if(String(c.obj.videoID)!==d.props.videoID)return;var e=b("VideoUploadProgressUtils").getUpdatedProgress(c,{progress:d.state.videoProgress,progressWithoutFake:d.state.videoProgress});d.setState(function(a,d){return{videoProgress:e.progress,completed:a.completed||b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)}});b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)?d.onEncodeFinished():d.resetInactivityTimer(d.props.videoID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);b("Run").onLeave(function(){return a.unsubscribe()});this.inactivityTimer=this.startInactivityTimer(this.props.videoID);this.setState({encodeToken:a})};d.componentWillUnmount=function(){this.state.encodeToken.unsubscribe(),this.stopInactivityTimer()};d.componentDidUpdate=function(a,b){!b.completed&&this.state.completed&&this.onComplete()};d.checkVideoStatus=function(a){var c=this;new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){b=b.getPayload();b.is_ready?c.onEncodeFinished(a):c.inactivityTimer=c.startInactivityTimer(a)}).send()};d.startInactivityTimer=function(a){return setTimeout(this.checkVideoStatus.bind(this,a),k)};d.onComplete=function(){b("Arbiter").inform(this.props.onReadyEvent,{videoID:this.props.videoID,videoAssetID:this.props.videoAssetID,source:this.props.source})};d.render=function(){var a=h._("FINISHED"),c=h._("PROCESSING");a=this.state.completed?a:c;return j.jsx(b("BUIProgressBar.react"),{className:b("joinClasses")("_33bk",this.props.className),message:a,isComplete:this.state.completed,percentage:this.state.videoProgress,width:this.props.width})};return c}(j.Component);e.exports=a;a.propTypes={videoID:b("prop-types").string.isRequired,videoAssetID:b("prop-types").string||null,width:b("prop-types").number.isRequired,onReadyEvent:b("prop-types").string.isRequired,source:b("prop-types").string}}),null);
__d("XPagesMessagePageOwnerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/send_page_message/",{message:{type:"String",required:!0},page_id:{type:"String",required:!0}})}),null);
__d("PageContentTabMessageOwnerDialog",["cx","fbt","AbstractTextArea.react","AsyncRequest","LayerFadeOnHide","PageContentTabSuccessDialog.react","PageContentTabSuccessDialogTimer","ReactDOM","XPagesMessagePageOwnerController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows","prop-types","react"],(function(a,b,c,d,e,f,g,h){f.onChildChanged=a;f.show=c;f.hide=d;f.hideWithSuccessMessage=e;f.destroy=g;var i,j=i||b("react"),k=5,l=b("PageContentTabSuccessDialogTimer").TIME_IN_MS,m=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={messageText:null,isSendingMessage:!1},d.$1=null,d.$2=function(){d.$1&&d.setState({messageText:d.$1.getValue()})},d.$3=function(){d.setState({isSendingMessage:!0});var a=b("XPagesMessagePageOwnerController").getURIBuilder().setString("message",b("nullthrows")(d.$1).getValue()).setString("page_id",b("nullthrows")(d.props.pageID)).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload().threadID;d.setState({isSendingMessage:!1,messageText:null});d.props.onMessageThreadInitiated&&d.props.onMessageThreadInitiated(a)}).setErrorHandler(function(){d.setState({isSendingMessage:!1})}).setFinallyHandler(function(a){d.props.callbackParent(!0)}).send()},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this;return j.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,width:500,children:[j.jsx(b("XUIDialogTitle.react"),{children:j.jsxs("div",{children:[h._("Message to"),"\xa0",this.props.username]})}),j.jsx(b("XUIDialogBody.react"),{children:j.jsx(b("AbstractTextArea.react"),{autoFocus:!0,className:"_3k3a",disabled:this.state.isSendingMessage,ref:function(b){return a.$1=b},onChange:this.$2,placeholder:h._("Send a message to {Account Name}",[h._param("Account Name",this.props.username)]),rows:k})}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSendingMessage||this.state.messageText==null||this.state.messageText.trim().length===0,label:h._("Send Message"),onClick:this.$3,use:"confirm"})})]})};return a}(j.Component);m.propTypes={existingThreadID:b("prop-types").string,username:b("prop-types").string,callbackParent:b("prop-types").func,onChatThreadOpen:b("prop-types").func,onMessageThreadInitiated:b("prop-types").func};function a(a){a===!0&&this.hideWithSuccessMessage("Message Sent!")}function c(a,c){var d=this;this._container||(this._container=document.createElement("div"));b("ReactDOM").render(j.jsx(m,{username:a,pageID:c,callbackParent:function(a){return d.onChildChanged(a)}}),this._container)}function d(){if(!this._container)return;this.destroy()}function e(a){if(!this._container)return;b("ReactDOM").render(j.jsx(b("PageContentTabSuccessDialog.react"),{successLabel:a}),this._container);setTimeout(this.destroy.bind(this),l)}function g(){b("ReactDOM").unmountComponentAtNode(this._container),this._container=null}}),null);
__d("XPageCreationAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/create/dialog/",{ref_page_id:{type:"FBID"},ref_type:{type:"String"},draft_page_name:{type:"String"}})}),null);
__d("PageCreatePageButton.react",["fbt","AsyncRequest","InlineLoginDialogWrapper.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","SEOInlineLoginDialogGating.react","XPageCreationAsyncDialogController","XUIButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesLogger").log(String(d.props.fbid),b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").CREATE_PAGE_BUTTON);var a=b("XPageCreationAsyncDialogController").getURIBuilder().setFBID("ref_page_id",d.props.fbid).setString("ref_type","page_profile_button").getURI();new(b("AsyncRequest"))().setURI(a).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("PagesLogger").log(String(this.props.fbid),b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").CREATE_PAGE_BUTTON)};d.render=function(){return i.jsx(b("InlineLoginDialogWrapper.react"),{SEOInlineLoginDialogGatingPayload:b("SEOInlineLoginDialogGating.react").seoPagesLoginPrompt,next:this.props.next,children:i.jsx(b("XUIButton.react"),{label:g._("Create a Page"),onClick:this.$1,use:"special"})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverCameraButton.react",["cx","fbt","Link.react","PagesNuxFrameworkHelper","XUIAmbientNUX.react","XUIText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showCoverSlideshowMenuOptionNux:!1,showOnTourBadgeMenuOptionNux:!1,cameraButtonRef:null},d.$1=function(a){if(a===null)return;d.setState({cameraButtonRef:a})},d.$2=function(){return d.state.cameraButtonRef},d.$3=function(){d.state.showCoverSlideshowMenuOptionNux?b("PagesNuxFrameworkHelper").closeNux(5462,"page_timeline"):d.state.showOnTourBadgeMenuOptionNux&&b("PagesNuxFrameworkHelper").closeNux(5649,"page_timeline"),d.setState({showCoverSlideshowMenuOptionNux:!1,showOnTourBadgeMenuOptionNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.shouldShowCoverSlideshowMenuOptionNux?b("PagesNuxFrameworkHelper").registerNux(5462,"page_timeline",function(){return a.setState({showCoverSlideshowMenuOptionNux:!0})}):this.props.shouldshowOnTourBadgeMenuOptionNux&&b("PagesNuxFrameworkHelper").registerNux(5649,"page_timeline",function(){return a.setState({showOnTourBadgeMenuOptionNux:!0})})};d.$4=function(){return this.state.showOnTourBadgeMenuOptionNux?h._("Show tour info"):h._("New! Cover slideshow")};d.$5=function(){return this.state.showOnTourBadgeMenuOptionNux?h._("Add the name and dates of your tour on your Page's cover photo, video or slideshow."):h._("Show people who visit your Page even more of what's important to you with a cover slideshow. Select 'Create slideshow' in the cover photo area to get started.")};d.render=function(){return j.jsxs(b("Link.react"),{className:"_3oj-","data-testid":void 0,children:[j.jsx(b("XUIAmbientNUX.react"),{alignment:"center",contextRef:this.$2,onCloseButtonClick:this.$3,position:"right",shown:(this.state.showCoverSlideshowMenuOptionNux||this.state.showOnTourBadgeMenuOptionNux)&&!!this.state.cameraButtonRef,width:"normal",children:j.jsxs("div",{children:[j.jsx(b("XUIText.react"),{display:"block",weight:"bold",children:this.$4()}),this.$5()]})}),j.jsxs("div",{className:"_3oj_"+(this.props.expanded?" _3ok0":""),ref:this.$1,children:[j.jsx("div",{className:"_3ok1",children:j.jsx("div",{className:"_4eqf _4eqi"})}),j.jsx("div",{className:"_3ok2",children:j.jsx("span",{className:"_3ok3",children:this.props.label})})]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0});e.exports=a}),null);
__d("XPagesCoverCancelEditAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_delete_media/",{})}),null);
__d("PagesCoverCoreStore",["AsyncRequest","FluxReduceStore","PagesCoverDispatcher","XPagesCoverCancelEditAsyncController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var d=null;switch(b.type){case"new_cover_data":var e=b.data,f=e.coreData;e=e.pageID;f&&(d=babelHelpers["extends"]({},f,{isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],pageID:e,previousCoverType:f.currentCoverType}));break;case"photo_saved":case"photo_removed":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!0});break;case"photo_uploading":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:a.currentCoverType!=="cover_photo"});break;case"photo_previewing":d=babelHelpers["extends"]({},a,{previousCoverType:a.currentCoverType,currentCoverType:"cover_photo",shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!1});if(b.data.isNewUpload){e=Array.from(a.newUploadPhotoIDs);e.push(b.data.coverPhotoData.id);d.newUploadPhotoIDs=e}break;case"photo_saving":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,currentCoverType:"loading"});break;case"video_invalid_upload":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!a.isEditMode});break;case"video_start_upload":d=babelHelpers["extends"]({},a,{currentCoverType:"cover_video",isEditMode:!0,previousCoverType:a.currentCoverType,shouldShowEditMenuForAdmins:!1});break;case"video_uploading":case"video_encoding":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1});break;case"video_choosing_thumbnail":d=babelHelpers["extends"]({},a);break;case"video_publishing":d=babelHelpers["extends"]({},a,{isEditMode:!1,shouldShowEditMenuForAdmins:!1,currentCoverType:"loading"});break;case"video_previewing":d=babelHelpers["extends"]({},a,{isEditMode:!0,shouldShowEditMenuForAdmins:!1});f=b.data;e=f.isNewUpload;f=f.videoID;if(e){e=Array.from(a.newUploadVideoIDs);e.push(f);d.newUploadVideoIDs=e}else d.previousCoverType=a.currentCoverType,d.currentCoverType="cover_video";break;case"photo_cancel":case"video_cancelling":d=babelHelpers["extends"]({},a,{currentCoverType:a.previousCoverType,isEditMode:!1,shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!0});c.deleteNewUploadMedia(a.pageID,a.newUploadPhotoIDs);break;case"video_published":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!0});break;case"slideshow_edit":d=babelHelpers["extends"]({},a,{isEditMode:!0,previousCoverType:a.currentCoverType,shouldShowEditMenuForAdmins:!1,currentCoverType:"cover_slideshow"});break;case"slideshow_saving":d=babelHelpers["extends"]({},a,{isEditMode:!1});break;case"slideshow_photo_previewing":if(b.data.isNewUpload){f=Array.from(a.newUploadPhotoIDs);f.push(b.data.itemData.carouselMediaData.photoData.coverPhotoData.id);d=babelHelpers["extends"]({},a,{newUploadPhotoIDs:f})}break;case"slideshow_video_encode_finished":if(b.data){e=b.data.videoData;f=Array.from(a.newUploadVideoIDs);f.push(e.videoID);d=babelHelpers["extends"]({},a,{newUploadVideoIDs:f})}break;case"slideshow_editing_cancelled":d=babelHelpers["extends"]({},a,{currentCoverType:a.previousCoverType,isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],shouldShowEditMenuForAdmins:!0});c.deleteNewUploadMedia(a.pageID,a.newUploadPhotoIDs);break;case"cover_removing":d=babelHelpers["extends"]({},a,{shouldShowEditMenuForAdmins:!1,shouldShowLoadingOverlay:!0});break;case"on_tour_badge_updated":d=babelHelpers["extends"]({},a,{eventTourBadgeInfo:b.data,shouldShowLoadingOverlay:!1});break;case"loading":d=babelHelpers["extends"]({},a,{shouldShowLoadingOverlay:!0});break}return d||a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return{canViewerEditProfile:!1,currentCoverType:"cover_photo",hasCoverSet:!1,isEditMode:!1,newUploadPhotoIDs:[],newUploadVideoIDs:[],pageID:"",previousCoverType:"cover_photo",shouldShowEditMenuForAdmins:!0,shouldShowLoadingOverlay:!1,eventTourBadgeInfo:{tourID:null,title:null,subtitle:null,eventTourBadgeStatus:"no_tour",shouldShowNux:!1},disableCoverVideoUploadOption:!1}};d.getEventTourBadgeInfo=function(){return this.getState().eventTourBadgeInfo};d.deleteNewUploadMedia=function(a,c){new(b("AsyncRequest"))().setMethod("POST").setURI(b("XPagesCoverCancelEditAsyncController").getURIBuilder().getURI()).setData({page_id:a,photo_id_vector:c}).send()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesCoverDispatcher"));e.exports=c}),null);
__d("XEventsTourPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/tours/{tour_id}/",{tour_id:{type:"FBID",required:!0},acontext:{type:"String"},afterload:{type:"Enum",enumType:0}})}),null);
__d("PageOnTourOverlay.react",["cx","EventActionContext","EventsActionsLogger","FBJSON","FluxContainer","Link.react","PagesCoverCoreStore","XEventsTourPermalinkController","XUIText.react","joinClasses","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.$2(b("EventsActionsLogger").Type.CLICK)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesCoverCoreStore")]};c.calculateState=function(){return b("PagesCoverCoreStore").getEventTourBadgeInfo()};var d=c.prototype;d.componentDidMount=function(){this.$1()&&this.$2(b("EventsActionsLogger").Type.VIEW)};d.$2=function(a){var c;(c=b("EventsActionsLogger")).log(null,{acontext:this.$4(),target:c.Target.TOUR,type:a,mechanism:c.Mechanism.PAGE_COVER_AREA,surface:c.Surface.PAGE,target_id:b("nullthrows")(this.state.tourID)})};d.$1=function(){var a=this.state,b=a.tourID,c=a.title;a=a.eventTourBadgeStatus;return a==="tour_badge_shown"&&b!==null&&c!==null};d.$4=function(){return b("EventActionContext").addActionHistoryEntry(b("EventActionContext").getNewActionContext(),{surface:b("EventsActionsLogger").Surface.PAGE,mechanism:b("EventsActionsLogger").Mechanism.PAGE_COVER_AREA,extra_data:b("FBJSON").stringify({tourID:this.state.tourID})})};d.render=function(){if(!this.$1())return null;var a=this.state,c=a.title,d=a.subtitle;a=a.tourID;var e="_ncd";this.props.className&&(e=b("joinClasses")(e,this.props.className));a=b("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",a).setString("acontext",b("EventActionContext").toString(this.$4())).getURI();return i.jsxs("div",{className:e,children:[i.jsx(b("Link.react"),{href:a,onClick:this.$3,children:i.jsx(b("XUIText.react"),{className:"_4yv7",color:"white",size:"header1",children:c})}),i.jsx("br",{}),i.jsx(b("XUIText.react"),{className:"_nce _4yv7",size:"header3",children:d})]})};return c}(i.PureComponent);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("PagesCoverLoadingScreen.react",["cx","CenteredContainer.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large"})}),d=a.height,e=a.width;a=a.isInSettingsPage;return d&&e?i.jsx("div",{style:{height:d,width:e},children:c}):i.jsx("div",{className:(a?"":"_2rc-")+(a?" _7tj4":""),children:c})}}),null);
__d("PagesCoverDimension",[],(function(a,b,c,d,e,f){"use strict";a=820;f.COVER_WIDTH=a;b=312;f.COVER_HEIGHT=b;c=514;f.COVER_WIDTH_IN_SETTINGS=c;d=195;f.COVER_HEIGHT_IN_SETTINGS=d;e=514;f.COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE=e;a=289;f.COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE=a;b=820;f.COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE=b;c=461;f.COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE=c;d=37;f.THUMBNAIL_HEIGHT_IN_SETTINGS=d;e=94;f.THUMBNAIL_WIDTH_IN_SETTINGS=e}),null);
__d("XPagesCoverOverlayEditAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_overlay_edit/",{})}),null);
__d("XPagesCoverOverlayRemoveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_overlay_remove/",{})}),null);
__d("PagesCoverOverlay.react",["cx","fbt","ix","AsyncRequest","Image.react","LayerFadeOnHide","PageCTAAction.react","PageCallToActionRef","PagesEventObserver","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","ShimButton.react","SimpleNUXMessage","XPagesCoverOverlayEditAsyncController","XPagesCoverOverlayRemoveAsyncController","XUIAmbientNUX.react","XUIText.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$7=function(a){a=a.target;a instanceof HTMLTextAreaElement&&a.value.length<=l&&d.setState({newDescription:a.value})};d.$8=function(a){a.keyCode==13&&a.preventDefault()};d.$11=function(){d.setState({isEditing:!0,shouldShowNUX:!1});return};d.$9=function(){d.setState({isEditing:!1,newDescription:d.state.currentDescription||""})};d.$10=function(){var a=null,c=null;!d.state.newDescription?(a=b("XPagesCoverOverlayRemoveAsyncController").getURIBuilder().getURI(),c=!0):(a=b("XPagesCoverOverlayEditAsyncController").getURIBuilder().getURI(),c=d.state.newDescription);new(b("AsyncRequest"))().setURI(a).setData({page_id:d.props.pageID,description:c}).setHandler(function(a){a.payload.description!==null&&d.setState({isEditing:!1,newDescription:a.payload.description||"",currentDescription:a.payload.description})}).send()};d.$13=function(){b("SimpleNUXMessage").markMessageSeenByUser("312563085834620"),d.setState({shouldShowNUX:!1})};d.state={isEditing:!1,newDescription:d.props.description||"",currentDescription:d.props.description,shouldShowNUX:!1};return d}var d=c.prototype;d.componentDidMount=function(){this.$1()&&this.setState({shouldShowNUX:!0})};d.UNSAFE_componentWillReceiveProps=function(a){if(this.props.description===a.description)return;this.setState({newDescription:a.description||"",currentDescription:a.description})};d.render=function(){var a=this.props.description;a=!!a||this.$2();return!a&&!this.props.isEditable?null:k.jsxs("div",{children:[k.jsx("div",{className:"_4i3o"}),k.jsxs("div",{className:"_4i3n",children:[this.$3(),this.$4(),this.$5(),this.$6()]})]})};d.$3=function(){if(this.state.isEditing||!this.state.currentDescription)return null;b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_COVER_DESCRIPTION,b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);b("PagesEventObserver").notify("cover_area_description_impression",this.props.pageID);var a=this.$2();return k.jsx("div",{className:"_4i46"+(a?" _4i47":"")+(a?"":" _4i4d"),children:k.jsx(b("XUIText.react"),{children:this.state.currentDescription})})};d.$4=function(){if(this.$2()){b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_COVER_CTA_BUTTON,b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);b("PagesEventObserver").notify("cover_area_cta_impression",this.props.pageID);return k.jsx(b("PageCTAAction.react"),babelHelpers["extends"]({},this.props.primaryButton,{className:"_1kp2 _4i44 _291t",surface:b("PageCallToActionRef").PAGES_COVER_AREA_SURFACE}))}return null};d.$5=function(){if(!this.props.isEditable||!this.state.isEditing)return null;var a=this.$2();return k.jsx("div",{children:k.jsx("textarea",{ref:function(a){a&&a.focus()},className:"_4i4e"+(a?" _4i47":"")+(a?"":" _4i4d"),maxLines:"3",value:this.state.newDescription,onChange:this.$7,onKeyDown:this.$8})})};d.$6=function(){if(!this.props.isEditable||this.props.isPreviewMode||this.props.isLoading)return null;return this.state.isEditing?k.jsxs("div",{children:[k.jsx("div",{className:"_4i4f",children:k.jsx("div",{className:"_4i4g",children:k.jsx(b("XUIText.react"),{children:h._("{current_char_num}\/{max_char_num}",[h._param("current_char_num",this.state.newDescription.length),h._param("max_char_num",l)])})})}),k.jsxs("div",{className:"_4i4p",children:[k.jsx(b("ShimButton.react"),{className:"_4i4r",onClick:this.$9,children:k.jsx(b("Image.react"),{src:i("127524")})}),k.jsx(b("ShimButton.react"),{className:"_4i4r",onClick:this.$10,children:k.jsx(b("Image.react"),{src:i("114570")})})]})]}):k.jsxs(b("ShimButton.react"),{className:"_4i4p",onClick:this.$11,children:[k.jsx("div",{className:"_4i4r",children:k.jsx(b("Image.react"),{src:i("115342")})}),k.jsx("div",{className:"_4i4s",ref:"coverEditButton",children:k.jsx(b("XUIText.react"),{children:h._("Edit")})}),this.$12()]})};d.$2=function(){return!!this.props.primaryButton&&this.props.primaryButton.__typename==="PageCTAAction"};d.$12=function(){var a=this,c=k.jsx("div",{className:"_308b",children:h._("Make it easy for people to see what's important and take action on your Page. You can edit or remove this new description anytime, and it won't affect other descriptions on your Page.")});return k.jsx(b("XUIAmbientNUX.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:function(){return a.refs.coverEditButton},onCloseButtonClick:this.$13,position:"above",alignment:"right",shown:this.state.shouldShowNUX,children:c})};d.$1=function(){return this.props.isEditable?!b("SimpleNUXMessage").hasUserSeenMessage("312563085834620"):!1};return c}(k.Component);e.exports=a}),null);
__d("PagesCoverPhotoLink.react",["cx","Link.react","XPhotoPermalinkController","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return a.coverPhotoData.uri===null||a.isLoading||a.isPreviewMode?i.Children.only(a.children):i.jsx(b("Link.react"),{className:"_5q-4",href:b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",a.coverPhotoData.id).setString("vanity",a.pageID).getURI(),rel:"theater",children:a.children})}}),null);
__d("XPagesCoverPhotoSaveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_photo_save/",{focus_x:{type:"Float",required:!0},focus_y:{type:"Float",required:!0},page_id:{type:"FBID",required:!0},photo_id:{type:"FBID",required:!0},privacy_mutation_token:{type:"String"}})}),null);
__d("XPagesCoverReloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_reload/",{page_id:{type:"FBID",required:!0}})}),null);
__d("videoPageContextualColorFetchUpdatedThemeColor",["PagesHeaderDispatcher","RelayFBEnvironment","RelayModern","promiseDone","videoPageContextualColorFetchUpdatedThemeColorQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("videoPageContextualColorFetchUpdatedThemeColorQuery.graphql");function a(a){a={pageID:a};b("promiseDone")(b("RelayModern").fetchQuery(b("RelayFBEnvironment"),h,a,{force:!0}),function(a){a=(a=a.page)==null?void 0:a.video_page_theme_color;a&&b("PagesHeaderDispatcher").dispatch({type:"update_video_page_theme_color",videoPageThemeColor:"#"+a.substring(2)})})}}),null);
__d("PagesCoverPhoto.react",["cx","ActorURI","AsyncRequest","PagesCoverDimension","PagesCoverDispatcher","PagesCoverOverlay.react","PagesCoverPhotoLink.react","ProfileHeaderCoverPhoto.react","XPagesCoverPhotoSaveAsyncController","XPagesCoverReloadController","gkx","react","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.$1=a},d.$5=function(){b("PagesCoverDispatcher").dispatch({type:"photo_cancel"}),new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI()).send()},d.$6=function(){if(!d.$1)return;var a=d.$1.getDimensions().getRect().center;b("PagesCoverDispatcher").dispatch({data:{coverPhotoData:babelHelpers["extends"]({},d.props.coverPhotoData,{focus:{height:a.y,width:a.x}})},type:"photo_saving"});new(b("AsyncRequest"))().setURI(b("ActorURI").create(b("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFloat("focus_x",a.x).setFloat("focus_y",a.y).setFBID("page_id",d.props.pageID).setFBID("photo_id",d.props.coverPhotoData.id).getURI(),d.props.pageID)).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return this.props.coverPhotoData.uri!==null};d.$4=function(){return i.jsx("div",{className:"_5_yy _44oa"})};d.render=function(){return!this.$3()&&!this.props.isEditable?null:i.jsxs("div",{className:"_2g7o",children:[i.jsx(b("PagesCoverPhotoLink.react"),babelHelpers["extends"]({},this.props,{children:i.jsx("div",{children:i.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,emptyCover:this.$4(),height:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:this.props.renderedHeight,isLoading:this.props.isLoading,previewCancelHandler:this.$5,previewMode:this.props.isPreviewMode,previewSaveHandler:this.$6,ref:this.$2,width:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:this.props.renderedWidth})})})),this.props.isOverlayEnabled?i.jsx(b("PagesCoverOverlay.react"),{description:this.props.pageDescription,isEditable:this.props.isEditable,isLoading:this.props.isLoading,isPreviewMode:this.props.isPreviewMode,pageID:this.props.pageID,primaryButton:this.props.pagePrimaryButton}):null]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowActionCreator",["fbt","PagesCoverDispatcher","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","SimpleXUIDialog","XUIDialogButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";f.enterEditMode=a;f.changeCurrentIndex=c;f.reorderSlideshowItems=d;f.onPhotoUploading=e;f.onVideoRepositioned=k;f.onItemRepositioned=l;f.onPhotoRemoved=m;f.confirmCancel=n;f.onEditingCancelled=o;f.onSlideshowSaving=p;f.onVideoItemSettingConfirmed=q;f.onNUXTourElementLoaded=r;f.onNUXTourFinished=s;f.toggleContentOptimizer=t;f.loadPrefilledItems=u;f.loadEditableItems=v;var h,i=h||b("react"),j=-1;function a(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_edit",data:{isCreate:c}}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_edit"})}function c(a,c){if(j===c)return;b("PagesCoverDispatcher").dispatch({type:"slideshow_change_carousel_index",data:{currentIndex:c}});b("PagesLogger").log(a,b("PagesLoggerEventEnum").SCROLL,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW);j=c}function d(a,c,d){a!==c&&b("PagesLogger").log(d,b("PagesLoggerEventEnum").DRAG,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reorder_slideshow_items"}),b("PagesCoverDispatcher").dispatch({type:"slideshow_change_order",data:{fromIndex:a,toIndex:c}})}function e(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_photo_uploading",data:{uploadingIndex:a}})}function k(a,c,d){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_repositioned",data:{itemRepositionedIndex:a,offsetType:c,offsetValue:d}})}function l(a,c,d){b("PagesCoverDispatcher").dispatch({type:"slideshow_item_repositioned",data:{itemRepositionedIndex:d}})}function m(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_photo_removed",data:{removedIndex:a}})}function n(a){if(!a)return;b("SimpleXUIDialog").showEx(g._("If you go back, your changes won't be saved."),g._("Leave slideshow?"),i.jsxs("div",{children:[i.jsx(b("XUIDialogButton.react"),{action:"cancel",label:g._("Leave Slideshow"),onClick:o,use:"default"}),i.jsx(b("XUIDialogButton.react"),{action:"cancel",label:g._("Cancel"),use:"confirm"})]}))}function o(){b("PagesCoverDispatcher").dispatch({type:"slideshow_editing_cancelled"})}function p(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_saving"}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_save"})}function q(a,c,d,e,f){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_setting_confirmed",data:{videoData:a,preferredThumbnailID:c,preferredThumbnailURL:d,previousKey:e,shouldFocusOnItem:f}})}function r(a,c,d,e){b("PagesCoverDispatcher").dispatch({type:"slideshow_nux_tour_element_loaded",data:{context:a,step:c,description:d,position:e}})}function s(){b("PagesCoverDispatcher").dispatch({type:"slideshow_nux_tour_finished"})}function t(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_toggle_content_switcher",data:c}),b("PagesLogger").log(a,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_content_optimizer"})}function u(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_prefilled_photo_loaded",data:{prefilledItems:a}})}function v(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_editable_item_loaded",data:{editableItems:a}})}}),null);
__d("PagesCoverSlideshowButtonGroup.react",["cx","fbt","PagesCoverSlideshowActionCreator","SimpleXUIDialog","XUIButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.items.length===0?b("SimpleXUIDialog").show(h._("To save your slideshow, first add photos. To delete your cover photo, return to your Page and select Remove in the cover area."),h._("Slideshow not saved")):(d.props.onSave(),b("PagesCoverSlideshowActionCreator").onSlideshowSaving(d.props.pageID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.isEditMode)return null;var a=!this.props.hasPendingChanges||!this.props.shouldAllowUploadingVideo;return j.jsxs("span",{className:"_34p_",children:[j.jsx(b("XUIButton.react"),{disabled:a,label:h._("Cancel"),onClick:b("PagesCoverSlideshowActionCreator").confirmCancel,use:"default"}),j.jsx(b("XUIButton.react"),{disabled:a,label:h._("Save"),onClick:this.$1,use:"confirm"})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowItemLoadingScreen.react",["cx","CenteredContainer.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return!a.shown?null:i.jsx(b("CenteredContainer.react"),{className:"_4g6t",fullHeight:!0,horizontal:!0,vertical:!0,children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})}}),null);
__d("PagesCoverSlideshowPhotoCarouselItem.react",["cx","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemLoadingScreen.react","ProfileHeaderCoverPhoto.react","XPhotoPermalinkController","XUICarouselItem.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocusOnItem===!0&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)};d.render=function(){var a=this,c=this.props,d=c.carouselData,e=c.isEditMode,f=c.pageID;c=c.shouldShowLoadingIndicator;var g=i.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:d.coverPhotoData,height:this.props.isInSettingsPage?195:d.renderedHeight,hideDefaultButtons:!0,isLoading:d.isLoading,onMove:b("PagesCoverSlideshowActionCreator").onItemRepositioned,previewCancelHandler:b("emptyFunction"),previewMode:e,previewSaveHandler:b("emptyFunction"),ref:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(b){return a.props.onCarouselPhotoItemRefLoaded(d.coverPhotoData.id,b)}),width:this.props.isInSettingsPage?514:d.renderedWidth});e||(g=i.jsx(b("Link.react"),{className:"_5q-4",href:b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",d.coverPhotoData.id).setString("vanity",f).setString("set_token","p."+d.coverPhotoData.id).getURI(),rel:"theater",children:g}));return i.jsxs(b("XUICarouselItem.react"),{className:(this.props.isInSettingsPage?"":"_626d")+(this.props.isInSettingsPage?" _7tj0":""),children:[g,i.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!c})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("XPagesCoverVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_video_data/",{video_id:{type:"FBID",required:!0},supports_html5_video:{type:"Bool",defaultValue:!0},include_thumbnails:{type:"Bool",defaultValue:!1}})}),null);
__d("CoverVideoUtil",["AsyncRequest","Promise","VideoData","XPagesCoverVideoDataController","isHTML5VideoImplementationUnavailable"],(function(a,b,c,d,e,f){"use strict";f.fetchCoverVideoData=a;function a(a,c){c===void 0&&(c=!1);return new(b("Promise"))(function(d,e){var f=b("XPagesCoverVideoDataController").getURIBuilder().setFBID("video_id",a).setBool("supports_html5_video",!b("isHTML5VideoImplementationUnavailable")(!0)).setBool("include_thumbnails",c).getURI();new(b("AsyncRequest"))(f).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){a=a.payload;var c=a.offset_type,f=a.offset_value,g=a.playable_duration_in_sec,h=a.video_data,i=a.thumbnails,j=a.preferredThumbnailData,k=a.hasVisibleStatus;a=a.isStatusOK;c===0||c===1?d({offsetType:c,offsetValue:f,playableDurationInSec:g,videoData:new(b("VideoData"))(h),thumbnails:i,preferredThumbnailData:j,hasVisibleStatus:k,isStatusOK:a}):e(new Error("Cover video data are unavailable."))}).setErrorHandler(e).send()})}}),null);
__d("PagesCoverVideoConstant",["fbt","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||b("react");c=a.jsxs("div",{children:[a.jsx("div",{children:g._("Your video was added but won't be public until you publish it.")}),a.jsx("div",{children:g._("You can drag the video that is currently being displayed to reposition it.")})]});f.PREVIEW_TIP_FOR_CREATION=c;d=a.jsxs("div",{children:[a.jsx("div",{children:g._("Your video won't be public until you publish it.")}),a.jsx("div",{children:g._("You can drag the video that is currently being displayed to reposition it.")})]});f.PREVIEW_TIP_FOR_EDITING=d;e=g._("Try uploading again");f.TRY_UPLOAD_AGAIN_TITLE=e;b=g._("The video couldn't be uploaded. Please try again.");f.TRY_UPLOAD_AGAIN_BODY=b;c=g._("Cancel video upload?");f.CANCEL_DIALOG_TITLE=c;a=g._("If you cancel, this video will be deleted and your Page will revert to the previous cover photo or video.");f.CANCEL_DIALOG_BODY=a;d=g._("Cancel Upload");f.CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL=d;e=g._("Not Now");f.CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL=e;b=g._("Video not uploaded");f.EDUCATIONAL_ERROR_DIALOG_TITLE=b}),null);
__d("XPagesCoverVideoPublishController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_video_publish/",{privacy_mutation_token:{type:"String"}})}),null);
__d("XPagesCoverVideoRollbackAndDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_video_rollback_and_delete/",{page_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0},privacy_mutation_token:{type:"String"}})}),null);
__d("PagesCoverVideoActionCreator",["cx","fbt","ix","ActorURI","AsyncRequest","CoverVideoUtil","ErrorDialog","Image.react","PagesCoverDispatcher","PagesCoverVideoConstant","ReactDOM","SimpleXUIDialog","XPagesCoverReloadController","XPagesCoverVideoPublishController","XPagesCoverVideoRollbackAndDeleteController","XUIDialogButton.react","gkx","promiseDone","react","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g,h,i){"use strict";f.validateCoverVideoMetadata=a;f.onVideoRepositioned=c;f.showCoverVideoUploadUI=d;f.uploadStarted=e;f.uploadProgressed=g;f.encodeStarted=m;f.encodeProgressed=n;f.encodeFinished=o;f.validateCoverVideoWithErrorDialog=p;f.chooseThumbnail=q;f.editCoverVideo=r;f.showGeneralErrorDialog=s;f.showValidationErrorDialog=t;f.confirmPublishingVideo=u;f.cancelNewUploadingWithConfirmationDialog=v;f.rollbackAndDeleteVideoWithGeneralErrorDialog=w;f.reloadCoverWithErrorDialog=x;f.reloadCover=y;f.rollbackAndDeleteVideo=z;var j,k=j||b("react"),l=Object.freeze({INVALID_DURATION:"invalid_duration",INVALID_DIMENSION:"invalid_dimension"});function a(a,c,d,e,f){if(!c){d();s();return!1}c=b("ReactDOM").findDOMNode(c);if(!c||!(c instanceof HTMLVideoElement)){d();s();return!1}var g=c.videoWidth,h=c.videoHeight;if(g===0&&h===0)return!0;g=p(a,c.duration,c.videoWidth,c.videoHeight,e,f);g||d();return g}function c(a,c){b("PagesCoverDispatcher").dispatch({type:"video_repositioned",data:{offsetType:a,offsetValue:c}})}function d(a){b("PagesCoverDispatcher").dispatch({type:"video_start_upload",data:{thumbnails:a}})}function e(){b("PagesCoverDispatcher").dispatch({type:"video_uploading",data:{progress:0}})}function g(a,c){b("PagesCoverDispatcher").dispatch({type:"video_uploading",data:{progress:Math.round(a)}})}function m(){b("PagesCoverDispatcher").dispatch({type:"video_encoding",data:{progress:0}})}function n(a){b("PagesCoverDispatcher").dispatch({type:"video_encoding",data:{progress:Math.round(a)}})}function o(a,c,d,e){b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(c).then(function(f){var g=f.playableDurationInSec;f=f.videoData;if(!g||!f){w(a,c);return}var h=f.getOriginalWidth();f=f.getOriginalHeight();g=p(a,g,h,f,d,e);if(!g){z(a,c);return}b("PagesCoverDispatcher").dispatch({type:"video_previewing",data:{videoID:c,pageID:a,isFromRepositon:!1,isNewUpload:!0}})}))}function p(a,b,c,d,e,f){var g=new Set(),h=1;(c<e-h||d<f-h)&&g.add(l.INVALID_DIMENSION);c=20;d=120;(b<c-h||b>d+h)&&g.add(l.INVALID_DURATION);if(g.size>0){t(a,g,c,d,e,f);return!1}return!0}function q(a,c,d,e,f,g){b("PagesCoverDispatcher").dispatch({type:"video_choosing_thumbnail",data:{futureVideoID:a,pageID:c,offsetType:d,offsetValue:e,containerHeight:f,containerWidth:g}})}function r(a,c){b("PagesCoverDispatcher").dispatch({type:"video_previewing",data:{videoID:c,pageID:a,isFromReposition:!0}})}function s(){b("SimpleXUIDialog").show(k.jsx("div",{children:h._("The video couldn't be uploaded. Please try again.")}),b("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)}function t(a,c,d,e,f,g){a=h._("Please edit the video and try again.");var j=c.has(l.INVALID_DURATION)?k.jsx(b("Image.react"),{src:i("117758")}):k.jsx(b("Image.react"),{src:i("119371")});d=h._("Cover videos should be {minimal duration of cover video required}-{duration of current video} seconds.",[h._param("minimal duration of cover video required",d),h._param("duration of current video",e)]);e=c.has(l.INVALID_DIMENSION)?k.jsx(b("Image.react"),{src:i("117758")}):k.jsx(b("Image.react"),{src:i("119371")});f=h._("Cover videos should be at least {minimal requirement of width} x {minimal requirement of height} pixels. The recommended size is 820 x 462 pixels.",[h._param("minimal requirement of width",f),h._param("minimal requirement of height",g)]);g=k.jsxs("div",{children:[k.jsx("div",{children:a}),k.jsxs("div",{className:"_31ms",children:[k.jsx("div",{className:"_wsz",children:j}),k.jsx("div",{className:"_wsz"+(c.has(l.INVALID_DURATION)?" _wt3":""),children:d})]}),k.jsxs("div",{className:"_31ms",children:[k.jsx("div",{className:"_wsz",children:e}),k.jsx("div",{className:"_wsz"+(c.has(l.INVALID_DIMENSION)?" _wt3":""),children:f})]})]});b("SimpleXUIDialog").show(g,b("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE,b("PagesCoverDispatcher").dispatch({type:"video_invalid_upload"}))}function u(a,c,d,e,f,g){b("PagesCoverDispatcher").dispatch({type:"video_publishing"});var h=b("ActorURI").create(b("XPagesCoverVideoPublishController").getURIBuilder().getURI(),a);g={page_id:a,video_id:c,preferred_thumbnail_id:g,offset_type:d,offset_value:e,should_cover_video_loop:f};new(b("AsyncRequest"))().setURI(h).setMethod("POST").setData(g).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(a)}).setErrorHandler(function(){w(a,c)}).send()}function v(a,c){var d;b("SimpleXUIDialog").showEx((d=b("PagesCoverVideoConstant")).CANCEL_DIALOG_BODY,d.CANCEL_DIALOG_TITLE,k.jsxs("div",{children:[k.jsx(b("XUIDialogButton.react"),{action:"cancel",label:d.CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL,onClick:function(){return z(a,c)}}),k.jsx(b("XUIDialogButton.react"),{action:"cancel",label:d.CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL,use:"confirm"})]}))}function w(a,c){b("SimpleXUIDialog").show(b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY,b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE,function(){z(a,c)})}function x(a,c){var d=c.error_description;c=c.error_summary;c=c?c:b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE;d=d?d:b("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY;b("ErrorDialog").show(c,d,function(){y(a)})}function y(a){b("PagesCoverDispatcher").dispatch({type:"video_cancelling"});a=b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncRequest"))(a).send()}function z(a,c){b("PagesCoverDispatcher").dispatch({type:"video_cancelling"});a=b("XPagesCoverVideoRollbackAndDeleteController").getURIBuilder().setFBID("page_id",a).setFBID("video_id",c).getURI();new(b("AsyncRequest"))(a).send()}}),null);
__d("PagesCoverVideoLoadingSpinner.react",["cx","CenteredContainer.react","XUISpinner.react","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsx(b("CenteredContainer.react"),{className:b("joinClasses")("_6h2m",a.className),horizontal:!0,vertical:!0,children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})}}),null);
__d("PagesCoverVideoPreviewActionBar.react",["cx","XUIButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsxs("div",{className:"_2roy",children:[a.leftElement?i.jsx("div",{className:"_1iaz",children:a.leftElement}):null,i.jsx("div",{className:"_1ia-",children:i.jsxs("span",{className:"_1ia_",children:[i.jsx(b("XUIButton.react"),{className:"_3-90",label:a.cancelButtonLabel,onClick:a.onCancelClick}),i.jsx(b("XUIButton.react"),{label:a.confirmButtonLabel,onClick:a.onConfirmClick,use:"confirm"})]})})]})}}),null);
__d("PagesCoverVideoRepositionIndicator.react",["cx","fbt","ix","Image.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j,k=j||b("react");function a(a){return!a.shown?null:k.jsx("div",{className:"_1ge3",children:k.jsxs("div",{className:"_1geb",children:[k.jsx(b("Image.react"),{className:"_4l6j",src:i("114322")}),k.jsx("span",{className:"_4l6j",children:h._("Drag to Reposition")})]})})}}),null);
__d("PagesCoverVideoPreview.react",["cx","fbt","invariant","ix","CoverVideoUtil","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverVideoActionCreator","PagesCoverVideoConstant","PagesCoverVideoLoadingSpinner.react","PagesCoverVideoPreviewActionBar.react","PagesCoverVideoRepositionIndicator.react","promiseDone","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||b("react"),m=-1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={minOffsetValue:0,videoData:null,videoNewSize:0};d.$10=function(a){d.props.offsetType===1?d.$4=a.screenX:d.props.offsetType===0?d.$4=a.screenY:i(0,3395),d.$2=!0};d.$11=function(a){if(!d.$2)return;d.$4!==m||i(0,3396);var c=0;d.props.offsetType===1?c=a.screenX-d.$4:d.props.offsetType===0?c=a.screenY-d.$4:i(0,3395);a=d.$1+c;if(a>0||a<d.state.minOffsetValue)return;d.$5=!0;d.props.index===null||d.props.index===void 0?b("PagesCoverVideoActionCreator").onVideoRepositioned(d.props.offsetType,a):b("PagesCoverSlideshowActionCreator").onVideoRepositioned(d.props.index,d.props.offsetType,a)};d.$12=function(a){d.$2=!1,d.$4=m,d.$1=d.props.offsetValue};d.$13=function(a){d.$2=!1,d.$4=-1,d.$1=d.props.offsetValue};d.$14=function(){var a=d.props,c=a.videoID,e=a.pageID;a=a.isFromReposition;a&&e?b("PagesCoverVideoActionCreator").reloadCover(e):c&&e&&b("PagesCoverVideoActionCreator").cancelNewUploadingWithConfirmationDialog(e,c)};d.$15=function(){var a=d.props,c=a.videoID;a=a.pageID;if(c&&a){var e=d.props,f=e.containerWidth;e=e.containerHeight;f&&e||i(0,3397);b("PagesCoverVideoActionCreator").chooseThumbnail(c,a,d.props.offsetType,d.props.offsetValue,e,f)}};d.$17=function(a){if(!a)return;d.$6=a};d.$1=0;d.$2=!1;d.$4=m;d.$5=!1;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$3=!0;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(c){if(!a.$3)return;var d=c.offsetValue;c=c.videoData;c||i(0,3398);var e=a.$7(c),f=e.minOffsetValue,g=e.offsetType;e=e.videoNewSize;a.setState({minOffsetValue:f,videoData:c,videoNewSize:e});f=a.props.index;f===null||f===void 0?b("PagesCoverVideoActionCreator").onVideoRepositioned(g,d||0):b("PagesCoverSlideshowActionCreator").onVideoRepositioned(f,g,d||0)}))};d.componentDidUpdate=function(){var a=this.props,b=a.isForSlideshow;a=a.shouldFocusOnItem;if(!b)return;a?this.$8():this.$9()};d.componentWillUnmount=function(){this.$3=!1};d.$8=function(){var a=this.$6;if(!a)return;a.play()};d.$9=function(){var a=this.$6;if(!a)return;a.pause()};d.getOffsetData=function(){return{offsetType:this.props.offsetType,offsetValue:this.props.offsetValue}};d.$7=function(a){var c=this.props,d=c.containerWidth;c=c.containerHeight;this.props.isMigratedShowPage&&(c=b("PagesCoverDimension").COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,d=b("PagesCoverDimension").COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE);this.props.isInSettingsPage&&(d=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,c=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS);d&&c||i(0,3397);var e=d/c,f=a.getAspectRatio(),g=null,h=null;f>e?(g=1,h=c,f=d-Math.floor(a.getOriginalWidth()*(c/a.getOriginalHeight()))):(g=0,h=d,f=c-Math.floor(a.getOriginalHeight()*(d/a.getOriginalWidth())));return{minOffsetValue:f,offsetType:g,videoNewSize:h}};d.$16=function(){if(this.props.status!=="previewing"||this.props.isForSlideshow)return null;var a=h._("Cancel"),c=h._("Next"),d=this.props.isParentLocationPage?h._("Your video will appear as the cover on this Page and in any other locations associated with this Page."):null;d=this.props.isFromReposition?l.jsxs("div",{children:[l.jsx("span",{className:"_2roz",children:l.jsx(b("Image.react"),{src:j("115129")})}),l.jsxs("span",{className:"_2ro-"+(this.props.isInSettingsPage?" _7tjc":""),children:[b("PagesCoverVideoConstant").PREVIEW_TIP_FOR_EDITING,d]})]}):l.jsxs("div",{children:[l.jsx("span",{className:"_2roz",children:l.jsx(b("Image.react"),{src:j("115129")})}),l.jsxs("span",{className:"_2ro-"+(this.props.isInSettingsPage?" _7tjc":""),children:[b("PagesCoverVideoConstant").PREVIEW_TIP_FOR_CREATION,d]})]});return l.jsx(b("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:a,confirmButtonLabel:c,leftElement:d,onCancelClick:this.$14,onConfirmClick:this.$15})};d.render=function(){var a;if(!this.state.videoData)return l.jsx(b("PagesCoverVideoLoadingSpinner.react"),{className:(this.props.isInSettingsPage?"":"_yd2")+(this.props.isInSettingsPage?" _7tj9":"")});var c=this.props,d=c.containerWidth;c=c.containerHeight;this.props.isMigratedShowPage&&(c=b("PagesCoverDimension").COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,d=b("PagesCoverDimension").COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE);this.props.isInSettingsPage&&(d=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,c=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS);d&&c||i(0,3397);this.props.status==="previewing"||this.props.status==="publishing"||i(0,3399);var e=this.state.videoData.getRawData();a=(a=e.hd_src)!=null?a:e.sd_src;if(!a)return null;e=this.props.offsetType===1?this.state.videoNewSize:null;var f=this.props.offsetType===0?this.state.videoNewSize:null,g=this.props.offsetType===0?this.props.offsetValue:0,h=this.props.offsetType===1?this.props.offsetValue:0;return l.jsxs("div",{style:{cursor:"move",height:c,overflow:"hidden",position:"relative",width:d},children:[l.jsx("video",{autoPlay:!0,height:e,loop:!0,onMouseDown:this.$10,onMouseLeave:this.$13,onMouseMove:this.$11,onMouseUp:this.$12,ref:this.$17,src:a,style:{position:"absolute",top:g,left:h},width:f}),l.jsx(b("PagesCoverVideoRepositionIndicator.react"),{shown:!this.$5}),this.$16()]})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoProgressOverlay.react",["cx","fbt","invariant","Image.react","ProgressBar.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j,k=j||b("react");function a(a){if(a.status!=="uploading"&&a.status!=="encoding")return null;a.progress===0||a.progress||i(0,4230);var c=null,d=null;if(a.thumbnails&&a.thumbnails.length>0){var e=a.thumbnails[0];d=k.jsx("div",{className:(a.isInSettingsPage?"":"_3ywa")+(a.isInSettingsPage?" _7tj1":""),children:k.jsx(b("Image.react"),{className:"_7wgy",src:e.getURL()})})}a.status==="uploading"?c=h._("VIDEO UPLOADING {percentage (0-100) of uploading progress}\u0025",[h._param("percentage (0-100) of uploading progress",a.progress)]):a.status==="encoding"&&(c=h._("VIDEO ENCODING {percentage (0-100) of encoding progress}\u0025",[h._param("percentage (0-100) of encoding progress",a.progress)]));return k.jsxs("div",{className:"_2grf",children:[d,k.jsxs("div",{className:"_2grg",children:[k.jsx(b("ProgressBar.react"),{isRounded:!0,size:"small",value:a.progress}),k.jsx("div",{className:"_2grh",children:c})]})]})}}),null);
__d("CoverSlideshowUtil",[],(function(a,b,c,d,e,f){"use strict";f.getMediaId=g;f.randomFixedInteger=a;f.getThumbnailIndexByID=b;f.getMediaIds=c;function g(a){if((a==null?void 0:a.itemType)==="video"){var b;return a==null?void 0:(b=a.carouselMediaData.videoData)==null?void 0:b.videoID}else if((a==null?void 0:a.itemType)==="photo"){return a==null?void 0:(b=a.carouselMediaData.photoData)==null?void 0:b.coverPhotoData.id}else return null}function a(a){a=Math.floor(Math.pow(10,a-1)+Math.random()*(Math.pow(10,a)-Math.pow(10,a-1)-1));return String(a)}function b(a,b){if(!a)return 0;for(var c=0;c<a.length;c++)if(a[c].id===String(b))return c;return 0}function c(a){var b=new Set();a.map(function(a){a=g(a);a!==null&&a!==void 0&&b.add(a)});return b}}),null);
__d("PagesCoverSlideshowThumbnailPickerCarousel.react",["cx","fbt","ix","CoverSlideshowUtil","CssBackgroundImage.react","Image.react","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=328,m=125;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$2=0;c.$1=0;b.offsetType===0?c.$1=Math.floor(c.props.offsetValue*l/b.containerWidth):c.$2=Math.floor(b.offsetValue*m/b.containerHeight);return c}var d=c.prototype;d.$3=function(){var a=this;return this.props.thumbnails.length===0?null:this.props.thumbnails.map(function(c,d){d=a.props.currentThumbnailIndex===d;var e=a.$2+"px "+a.$1+"px";return k.jsx(b("XUICarouselItem.react"),{children:k.jsx("div",{className:"_6ml8"+(d?" _6ml9":""),children:k.jsx(b("CssBackgroundImage.react"),{backgroundPosition:e,className:"_6mla",imageURI:c.url})})},c.id)})};d.render=function(){var a=this,c=this.props,d=c.onLeftArrowClicked,e=c.onRightArrowClicked,f=c.thumbnails;c=c.initThumbnailID;d=k.jsx(b("XUICarouselArrow.react"),{onClick:d,children:k.jsx(b("Image.react"),{alt:h._("Prev"),src:i("499011")})});e=k.jsx(b("XUICarouselArrow.react"),{onClick:e,children:k.jsx(b("Image.react"),{alt:h._("Next"),src:i("495717")})});f=b("CoverSlideshowUtil").getThumbnailIndexByID(f,c);c=this.$3();return c!=null?k.jsx(b("XUICarousel.react"),{animator:this.props.animator,arrows:[d,e],initialAutoplay:!1,initialIndex:f,onItemClick:this.props.onItemClick,ref:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(b){return a.props.onCarouselRefLoad(b)}),resizeViewport:"disabled",viewportHeight:141,viewportWidth:820,wrapAround:!1,children:c}):null};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesCoverThumbnailPickerActionBar.react",["cx","fbt","FBToggleSwitch.react","PagesCoverVideoPreviewActionBar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){if(a.isForSlideshow)return null;var c=h._("Back"),d=h._("Publish"),e=j.jsxs("div",{className:"_d-g",children:[j.jsx("span",{className:"_d-h",children:j.jsx(b("FBToggleSwitch.react"),{checked:a.shouldCoverVideoLoop,onToggle:a._onToggle})}),j.jsx("span",{className:"_d-i",children:h._("Automatically replay video in a loop")})]});return j.jsx(b("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:c,confirmButtonLabel:d,leftElement:e,onCancelClick:a._onCancelClick,onConfirmClick:a._onPublishClick})}}),null);
__d("PagesCoverThumbnailPickerCarousel.react",["fbt","ix","Image.react","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){if(a.thumbnails.length===0)return null;var c=null,d=null,e=0,f=0;a.offsetType===0?(d=a.containerWidth,e=a.offsetValue):(c=a.containerHeight,f=a.offsetValue);var i=a.thumbnails.map(function(g){return j.jsx(b("XUICarouselItem.react"),{children:j.jsx("div",{style:{height:a.containerHeight,position:"relative",textAlign:"center",width:a.containerWidth},children:j.jsx(b("Image.react"),{height:c,src:g.url,style:{left:f,position:"absolute",top:e},width:d})})},g.id)}),k=j.jsx(b("XUICarouselArrow.react"),{className:"_3-9a",onClick:a._onLeftArrowClicked,children:j.jsx(b("Image.react"),{alt:g._("Prev"),src:h("480582")})}),l=j.jsx(b("XUICarouselArrow.react"),{className:"_3-90",onClick:a._onRightArrowClicked,children:j.jsx(b("Image.react"),{alt:g._("Next"),src:h("480590")})});return j.jsx(b("XUICarousel.react"),{animator:a.animator,arrows:[k,l],initialAutoplay:!1,initialIndex:0,onItemClick:b("emptyFunction"),ref:a.onCarouselRefLoad,resizeViewport:"fixed",style:{height:a.containerHeight,width:a.containerWidth,position:"absolute"},wrapAround:!0,children:i})}}),null);
__d("PagesCoverThumbnailPickerThumbnailIndicator.react",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){return a.thumbnails.length===0||a.isForSlideshow?null:j.jsx("div",{className:"_4hmf",children:h._({"*":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnails","_1":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnail"},[h._param("the index of the current thumbnail",a.currentThumbnailIndex+1),h._param("the total number of thumbnails",a.thumbnails.length),h._plural(a.thumbnails.length)])})}}),null);
__d("PagesCoverVideoThumbnailPicker.react",["cx","fbt","CoverSlideshowUtil","CoverVideoUtil","PagesCoverDimension","PagesCoverSlideshowThumbnailPickerCarousel.react","PagesCoverThumbnailPickerActionBar.react","PagesCoverThumbnailPickerCarousel.react","PagesCoverThumbnailPickerThumbnailIndicator.react","PagesCoverVideoActionCreator","PagesCoverVideoLoadingSpinner.react","SimpleXUIDialog","XUICarouselAnimator","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thumbnails:[],currentThumbnailIndex:0,firstItemIndex:0,animator:new(b("XUICarouselAnimator"))({type:"horizontal"}),shouldCoverVideoLoop:d.props.shouldCoverVideoLoop,isStatusOK:!1},d.$2=function(){var a=d.state.thumbnails.length;if(a===0)return;d.setState(function(b,c){b=(b.firstItemIndex-1+a)%a;return c.isForSlideshow?{firstItemIndex:b}:{currentThumbnailIndex:b,firstItemIndex:b}});d.$1&&d.$1.prev()},d.$3=function(){var a=d.state.thumbnails.length;if(a===0)return;d.setState(function(b,c){b=(b.firstItemIndex+1+a)%a;return c.isForSlideshow?{firstItemIndex:b}:{currentThumbnailIndex:b,firstItemIndex:b}});d.$1&&d.$1.next()},d.$4=function(a){if(!d.$1)return;a-d.state.firstItemIndex>=k&&(d.$1.setIndex(a),d.setState({firstItemIndex:a}));d.setState({currentThumbnailIndex:a})},d.$5=function(){var a=d.props,c=a.videoID;a=a.pageID;b("PagesCoverVideoActionCreator").editCoverVideo(a,c)},d.$6=function(){if(d.state.isStatusOK){d.$7();return}b("SimpleXUIDialog").showConfirm(h._("This video has not been published yet. If you choose it as your cover video, it will be published for people to watch."),h._("Publish cover video?"),d.$8,{confirmBtnTxt:h._("Publish")})},d.$8=function(a){a&&d.$7()},d.$9=function(){var a=d.state.shouldCoverVideoLoop;d.setState({shouldCoverVideoLoop:!a})},d.$10=function(a){if(!a)return;d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID,!0).then(function(c){var d=c.thumbnails;c=c.isStatusOK;var e=b("CoverSlideshowUtil").getThumbnailIndexByID(d,a.props.initThumbnailID);a.setState({currentThumbnailIndex:e,firstItemIndex:e,thumbnails:d,isStatusOK:c})}))};d.$7=function(){var a=this.props,c=a.videoID,d=a.pageID,e=a.offsetType;a=a.offsetValue;var f=this.state,g=f.thumbnails,h=f.currentThumbnailIndex;f=f.shouldCoverVideoLoop;g=g[h].id;b("PagesCoverVideoActionCreator").confirmPublishingVideo(d,c,e,a,f,g)};d.getCurrentThumbnailData=function(){return this.state.thumbnails[this.state.currentThumbnailIndex]};d.$11=function(){var a=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS,c=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,d=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE:this.props.containerHeight,e=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE:this.props.containerWidth;return this.props.isForSlideshow?j.jsx(b("PagesCoverSlideshowThumbnailPickerCarousel.react"),{animator:this.state.animator,containerHeight:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:this.props.containerWidth,currentThumbnailIndex:this.state.currentThumbnailIndex,initThumbnailID:this.props.initThumbnailID,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$10,onItemClick:this.$4,onLeftArrowClicked:this.$2,onRightArrowClicked:this.$3,thumbnails:this.state.thumbnails}):j.jsx(b("PagesCoverThumbnailPickerCarousel.react"),{_onLeftArrowClicked:this.$2,_onRightArrowClicked:this.$3,animator:this.state.animator,containerHeight:this.props.isInSettingsPage?a:d,containerWidth:this.props.isInSettingsPage?c:e,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$10,thumbnails:this.state.thumbnails})};d.render=function(){return this.state.thumbnails.length===0?j.jsx(b("PagesCoverVideoLoadingSpinner.react"),{className:(!this.props.isInSettingsPage&&!this.props.isMigratedShowPage?"_yd2":"")+(!this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww2":"")+(this.props.isInSettingsPage&&!this.props.isMigratedShowPage?" _7tj9":"")+(this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww3":"")}):j.jsxs("div",{className:(!this.props.isInSettingsPage&&!this.props.isMigratedShowPage?"_5_lp":"")+(!this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww4":"")+(this.props.isInSettingsPage&&!this.props.isMigratedShowPage?" _7tja":"")+(this.props.isInSettingsPage&&this.props.isMigratedShowPage?" _7ww5":""),children:[j.jsx(b("PagesCoverThumbnailPickerThumbnailIndicator.react"),{currentThumbnailIndex:this.state.currentThumbnailIndex,isForSlideshow:this.props.isForSlideshow,thumbnails:this.state.thumbnails}),this.$11(),j.jsx(b("PagesCoverThumbnailPickerActionBar.react"),{_onCancelClick:this.$5,_onPublishClick:this.$6,_onToggle:this.$9,isForSlideshow:this.props.isForSlideshow,shouldCoverVideoLoop:this.state.shouldCoverVideoLoop})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoCreator.react",["cx","PagesCoverDimension","PagesCoverVideoPreview.react","PagesCoverVideoProgressOverlay.react","PagesCoverVideoThumbnailPicker.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;switch(this.props.status){case"uploading":case"encoding":a=i.jsx(b("PagesCoverVideoProgressOverlay.react"),babelHelpers["extends"]({},this.props));break;case"previewing":a=i.jsx(b("PagesCoverVideoPreview.react"),babelHelpers["extends"]({},this.props));break;case"choosing_thumbnail":a=i.jsx(b("PagesCoverVideoThumbnailPicker.react"),babelHelpers["extends"]({},this.props,{isForSlideshow:this.props.isForSlideshow}));break;default:return null}var c=this.props,d=c.containerWidth;c=c.containerHeight;this.props.isMigratedShowPage===!0&&(c=b("PagesCoverDimension").COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE,d=b("PagesCoverDimension").COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE);this.props.isInSettingsPage&&(d=this.props.isMigratedShowPage===!0?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,c=this.props.isMigratedShowPage===!0?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS);return d!==null&&c!==null?i.jsx("div",{style:{height:c,position:"relative",width:d},children:a}):i.jsx("div",{className:(this.props.isInSettingsPage?"":"_5-qd")+(this.props.isInSettingsPage?" _7tj2":""),children:a})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoPlayer.react",["Bootloader","CoverVideoUtil","OnVisible.react","PagesCoverDimension","PagesEventObserver","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","ReactDOM","SubscriptionsHandler","URI","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoPlayer.react","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=-100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={videoData:null};d.$7=function(){var a=d.props,b=a.isForSlideshow;a=a.shouldFocusOnItem;if(!b){d.$4();return}a&&d.$4()};d.$5=function(){var a=d.$3;if(!a)return;a.vpc.isState("playing")&&a.vpc.pause("page_visibility_initiated")};d.$8=function(){var a=d.props,c=a.videoLinkData,e=a.playerOrigin;if(!c)return;if(d.$3&&d.$3.vpc&&!d.$3.vpc.isState("playing"))return;var f=c.channelCaller;b("Bootloader").loadModules(["TahoeController"],function(a){a.openFromVideoLink(new(h||(h=b("URI")))(c.href),{channelID:c.channelID,caller:f,origin:e})},"PagesCoverVideoPlayer.react")};d.$9=function(a){var c=b("ReactDOM").findDOMNode(a);if(!(c&&c instanceof Element))return;d.$3=a;c=a==null?void 0:a.vpc;c&&c.setAllowCrossPageTransition(!0)};d.$2=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;this.props.videoID&&b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(b){a.$1&&a.setState({videoData:b.videoData})}))};d.shouldComponentUpdate=function(a,b){b=b.videoData;return!!b&&b.getVideoID()===a.videoID};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(a){c.$1&&c.setState({videoData:a.videoData})}));a=this.props;var d=a.isForSlideshow;a=a.shouldFocusOnItem;var e=this.$3;d&&e&&(a?this.$4():this.$5())};d.componentWillUnmount=function(){this.$1=!1,this.$2.release()};d.$6=function(){b("PagesEventObserver").notify("cover_video_impression",this.props.pageID,{video_id:this.props.videoID}),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};d.$4=function(){var a=this.$3;if(!a)return;!a.vpc.isState("playing")&&!a.vpc.isState("finished")&&a.vpc.play("page_visibility_initiated")};d.render=function(){var a=this.props,c=a.offsetType;a=a.offsetValue;var d=this.state.videoData;if(c===null||a===null||!d)return null;var e=this.props,f=e.isForSlideshow,g=e.shouldHideSoundControl;e=e.shouldCoverVideoLoop;g=g?null:i.jsx(b("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:!1,hidePlaybackScrubber:!0,hideRemainingTime:!0,showFullscreenButton:!1,showSettingsButton:!1});e=e?i.jsx(b("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:!0}):null;f=f?null:i.jsx(b("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"});this.$6();c=c===0?"vertical":"horizontal";var h=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS,k=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS_FOR_MIGRATED_SHOW_PAGE:b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS,l=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_WIDTH_FOR_MIGRATED_SHOW_PAGE:this.props.containerWidth,m=this.props.isMigratedShowPage?b("PagesCoverDimension").COVER_HEIGHT_FOR_MIGRATED_SHOW_PAGE:this.props.containerHeight;return i.jsx(b("OnVisible.react"),{buffer:j,onHidden:this.$5,onVisible:this.$7,children:i.jsxs(b("VideoPlayer.react"),{allowCrossPageTransition:!0,autoplay:!0,forceHD:!0,height:this.props.isInSettingsPage?h:m,offsetType:c,offsetValue:a,onVideoClick:this.$8,playerOrigin:this.props.playerOrigin,ref:this.$9,startMuted:!0,subOrigin:"pages_cover",videoData:d,width:this.props.isInSettingsPage?k:l,children:[g,e,f]})})};return c}(i.Component);e.exports=a}),null);
__d("PagesCoverVideo.react",["PagesCoverVideoCreator.react","PagesCoverVideoPlayer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.isEditMode,d=a.videoData,e=a.shouldFocusOnItem,f=a.isMigratedShowPage;a=a.isInSettingsPage===!0;return c?h.jsx(b("PagesCoverVideoCreator.react"),babelHelpers["extends"]({},d,{isInSettingsPage:a,isMigratedShowPage:f,shouldFocusOnItem:e})):h.jsx(b("PagesCoverVideoPlayer.react"),babelHelpers["extends"]({},d,{isInSettingsPage:a,isMigratedShowPage:f,shouldFocusOnItem:e}))}}),null);
__d("PagesCoverSlideshowVideoCarouselItem.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverVideo.react","XUICarouselItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.shouldFocusOnItem===!0&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)};d.render=function(){var a=this.props,c=a.pageID,d=a.isEditMode,e=a.shouldShowLoadingIndicator,f=a.index;a=a.shouldFocusOnItem;var g=this.props.videoData;g=babelHelpers["extends"]({},g,{index:f,isFromParentPage:!1,isParentLocationPage:!1,isViewerAdmin:!0,pageID:c,shouldShowChooseFromCoverVideoMenu:!1});f=i.jsx(b("PagesCoverVideo.react"),{isEditMode:d,shouldFocusOnItem:a,videoData:g});return i.jsxs(b("XUICarouselItem.react"),{className:"_626d",children:[f,i.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!e})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesPageCoverClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744152");c=b("FalcoLoggerInternal").create("pages_page_cover_click",a);e.exports=c}),null);
__d("XPagesCoverSlideshowSaveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_slideshow/save/",{privacy_mutation_token:{type:"String"}})}),null);
__d("PagesCoverSlideshowCarousel.react",["cx","invariant","ix","AsyncRequest","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverSlideshowButtonGroup.react","PagesCoverSlideshowPhotoCarouselItem.react","PagesCoverSlideshowVideoCarouselItem.react","PagesPageCoverClickFalcoEvent","ProfileHeaderCoverPhoto.react","XPagesCoverSlideshowSaveAsyncController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselLinks.react","emptyFunction","gkx","react","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l={focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showCarouselDotsIndicator:!1};d.$4=function(a){d.$1=a,d.$1&&(d.$2=d.$1.subscribe(["animation_start"],function(a,c){a==="animation_start"&&b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,c)}),d.setState({showCarouselDotsIndicator:d.props.items.length>1}))};d.$6=function(a,b){if(!b)return;d.$3.set(a,b)};d.$7=function(){var a=[],c=[],e=[],f=[],g=[],i=[],j=[],k=[],l=[],m=Math.min(5,d.props.items.length);for(var n=0;n<m;n++){var o=d.props.items[n];c.push(o.itemType);if(o.itemType==="video"){var p=o.carouselMediaData.videoData;if(!p)continue;var q=p.videoID,r=p.shouldCoverVideoLoop,s=p.offsetType;p=p.offsetValue;k.push(q);i.push(s);j.push(p);r?g.push(1):g.push(0);q=o.thumbnailData.thumbnailID;q||h(0,5037);l.push(q)}else if(o.itemType==="photo"){p=(s=o.carouselMediaData.photoData)==null?void 0:s.coverPhotoData.id;if(!p)continue;r=d.$3.get(p);!r&&h(0,5038);q=r.getDimensions().getRect().center;a.push(p);e.push(q.x);f.push(q.y)}else h(0,5039)}o=b("XPagesCoverSlideshowSaveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(o).setData({page_id:d.props.pageID,media_type_vector:c,photo_id_vector:a,focus_x_vector:e,focus_y_vector:f,should_loop_vector:g,video_id_vector:k,offset_value_vector:j,offset_type_vector:i,thumbnail_id_vector:l,is_content_optimizer_on:d.props.isContentOptimizerOn}).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send()};d.$3=new Map();return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.$1&&a.currentIndex!==this.props.currentIndex&&this.$1.setIndex(a.currentIndex),this.setState({showCarouselDotsIndicator:a.items.length>1})};d.componentWillUnmount=function(){this.$1&&this.$2&&this.$1.unsubscribe(this.$2)};d.$5=function(){return!this.$1||!this.state.showCarouselDotsIndicator?null:k.jsx(b("XUICarouselLinks.react"),{carousel:this.$1,className:"_2yih"})};d.$8=function(a,c){var d=a.carouselMediaData.photoData;return!d?null:k.jsx(b("PagesCoverSlideshowPhotoCarouselItem.react"),{carouselData:d,index:c,isEditMode:this.props.isEditMode,isInSettingsPage:this.props.isInSettingsPage,onCarouselPhotoItemRefLoaded:this.$6,pageID:this.props.pageID,shouldFocusOnItem:a.shouldFocusOnItem,shouldShowLoadingIndicator:a.shouldShowLoadingIndicator},d.coverPhotoData.id)};d.$9=function(a,c){var d=a.carouselMediaData.videoData;return!d?null:k.jsx(b("PagesCoverSlideshowVideoCarouselItem.react"),{index:c,isEditMode:this.props.isEditMode,pageID:this.props.pageID,shouldFocusOnItem:a.shouldFocusOnItem||this.props.currentIndex===c,shouldShowLoadingIndicator:a.shouldShowLoadingIndicator,videoData:d},d.videoID)};d.render=function(){var a=this,c=k.jsx(b("XUICarouselArrow.react"),{className:"_3-9a",children:k.jsx(b("Image.react"),{src:i("480582")})}),d=k.jsx(b("XUICarouselArrow.react"),{className:"_3-90",children:k.jsx(b("Image.react"),{src:i("480590")})}),e=this.props.items.slice(0,5).map(function(b,c){return b.itemType==="video"?a.$9(b,c):a.$8(b,c)}).filter(function(a){return!!a});e.length===0&&e.push(k.jsx(b("XUICarouselItem.react"),{className:"_626d",children:k.jsx(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:l,emptyCover:k.jsx("div",{className:"_5_yy _44oa"}),height:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:b("PagesCoverDimension").COVER_HEIGHT,hideDefaultButtons:!0,isLoading:!1,previewCancelHandler:b("emptyFunction"),previewMode:!1,previewSaveHandler:b("emptyFunction"),width:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:b("PagesCoverDimension").COVER_WIDTH})},"empty_cover_photo_placeholder"));return k.jsxs("div",{children:[k.jsx(b("XUICarousel.react"),{arrows:this.state.showCarouselDotsIndicator?[c,d]:null,initialAutoplay:!1,initialIndex:this.props.currentIndex,onItemClick:b("PagesPageCoverClickFalcoEvent").log(function(){return{event_data:{cover_type:"cover_slideshow"},event_location:"page__header",page_id:a.props.pageID,referrer:null}}),ref:this.$4,resizeViewport:"fixed",viewportHeight:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:b("PagesCoverDimension").COVER_HEIGHT,viewportWidth:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:b("PagesCoverDimension").COVER_WIDTH,wrapAround:!0,children:e}),this.$5(),k.jsx(b("PagesCoverSlideshowButtonGroup.react"),babelHelpers["extends"]({},this.props,{onSave:this.$7}))]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowVideoThumbnailPicker.react",["cx","CoverSlideshowUtil","PagesCoverSlideshowThumbnailPickerCarousel.react","XUICarouselAnimator","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentThumbnailIndex:b("CoverSlideshowUtil").getThumbnailIndexByID(d.props.thumbnails,d.props.initThumbnailID),firstItemIndex:b("CoverSlideshowUtil").getThumbnailIndexByID(d.props.thumbnails,d.props.initThumbnailID),animator:new(b("XUICarouselAnimator"))({type:"horizontal"})},d.$2=function(){var a=d.props.thumbnails.length;if(a===0)return;d.setState(function(b,c){c=(b.firstItemIndex-1+a)%a;return{firstItemIndex:c}});d.$1&&d.$1.prev()},d.$3=function(){var a=d.props.thumbnails.length;if(a===0)return;d.setState(function(b,c){c=(b.firstItemIndex+1+a)%a;return{firstItemIndex:c}});d.$1&&d.$1.next()},d.$4=function(a){if(!d.$1)return;a-d.state.firstItemIndex>=j&&(d.$1.setIndex(a),d.setState({firstItemIndex:a}));d.setState({currentThumbnailIndex:a})},d.$5=function(a){if(!a)return;d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getCurrentThumbnailData=function(){return this.props.thumbnails[this.state.currentThumbnailIndex]};d.render=function(){return i.jsx("div",{className:"_6ml7",children:i.jsx(b("PagesCoverSlideshowThumbnailPickerCarousel.react"),{animator:this.state.animator,containerHeight:this.props.containerHeight,containerWidth:this.props.containerWidth,currentThumbnailIndex:this.state.currentThumbnailIndex,initThumbnailID:this.props.initThumbnailID,offsetType:this.props.offsetType,offsetValue:this.props.offsetValue,onCarouselRefLoad:this.$5,onItemClick:this.$4,onLeftArrowClicked:this.$2,onRightArrowClicked:this.$3,thumbnails:this.props.thumbnails})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowVideoSettingDialog.react",["cx","fbt","ix","BUISwitch.react","FDSText.react","Image.react","LayerFadeOnHide","Layout.react","LayoutColumn.react","PagesCoverSlideshowVideoThumbnailPicker.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=26,m=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldCoverVideoLoop:c.props.videoData.shouldCoverVideoLoop},c.$2=function(a){if(!a)return;c.$1=a},c.$3=function(){c.setState(function(a){return{shouldCoverVideoLoop:!a.shouldCoverVideoLoop}})},c.$4=function(){c.props.isNewUpload?c.$5():c.props.onCancel()},c.$6=function(){c.props.isNewUpload?c.$5():c.props.onToggle()},c.$5=function(){if(!c.$1)return;var a=c.$1.getCurrentThumbnailData(),b=c.props.videoData;b=babelHelpers["extends"]({},b,{shouldCoverVideoLoop:c.state.shouldCoverVideoLoop});c.props.onConfirm(b,a.id,a.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$7=function(){var a=this.props.isNewUpload?k.jsxs("div",{className:"_6n9w",children:[k.jsx(b("Image.react"),{className:"_6n9x",src:i("506114")}),k.jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:h._("Your video was uploaded successfully.")})]}):null;return k.jsxs(b("XUIDialogBody.react"),{children:[a,k.jsx("div",{className:"_6h72 _5n6n",children:k.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:h._("Video Thumbnail")})}),k.jsx("div",{className:"_6h73",children:k.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:h._("Choose a thumbnail to represent this video in your cover area.")})}),k.jsx("div",{children:k.jsx(b("PagesCoverSlideshowVideoThumbnailPicker.react"),babelHelpers["extends"]({},this.props.videoData,{initThumbnailID:this.props.preferredThumbnailID,pageID:this.props.pageID,ref:this.$2,thumbnails:this.props.thumbnails}))})]})};d.$8=function(){return k.jsx(b("XUIDialogBody.react"),{children:k.jsxs(b("Layout.react"),{children:[k.jsxs(m,{children:[k.jsx("div",{className:"_6h72",children:k.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:h._("Video Looping")})}),k.jsx("div",{className:"_6h73",children:k.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:h._("When looping is turned on your video will repeatedly play. When looping is off your video will play through once and stop.")})})]}),k.jsx(b("LayoutColumn.react"),{className:"_6h74",children:k.jsx("span",{className:"_2pi8",children:k.jsx(b("BUISwitch.react"),{onToggle:this.$3,showLabel:!0,value:this.state.shouldCoverVideoLoop})})})]})})};d.render=function(){var a=this.props,c=a.dialogShown;a=a.thumbnails;var d=this.props.videoData.containerWidth;return!c||a.length===0?null:k.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.$6,shown:this.props.dialogShown,titleID:"pages-cover-video-setting-dialog",width:d+l,children:[k.jsx(b("XUIDialogTitle.react"),{children:k.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:h._("Video Settings")})}),this.$7(),this.$8(),k.jsxs(b("XUIDialogFooter.react"),{children:[k.jsx(b("XUIButton.react"),{label:this.props.shouldShowBackButton?h._("Back"):h._("Cancel"),onClick:this.$4}),k.jsx(b("XUIDialogConfirmButton.react"),{action:"confirm",onClick:this.$5,use:"confirm"})]})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoHoverableVideoComponent.react",["cx","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onMouseEnter&&d.props.onMouseEnter(d.props.videoID)},d.$2=function(){d.props.onMouseLeave&&d.props.onMouseLeave(d.props.videoID)},d.$3=function(){d.props.onVideoClick&&d.props.onVideoClick(d.props.videoID)},d.$4=function(a){a.stopPropagation(),a.key==="Enter"&&d.$3()},d.$5=function(){return b("VideoDataContainer.react").renderSpinner(d.props.width,d.props.height)},d.$6=function(a){if(!a)return;d.props.onRefLoaded(d.props.videoID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx("span",{className:"_bt-"+(this.props.isSelected?" _bu0":""),onKeyPress:this.$4,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"link",tabIndex:0,children:i.jsx(b("VideoDataContainer.react"),{renderLoading:this.$5,videoID:this.props.videoID,children:i.jsx(b("VideoPlayer.react"),{disableClickPlayPause:!0,height:this.props.height,onVideoClick:this.$3,playerOrigin:"page_timeline",ref:this.$6,subOrigin:"pages_cover_hover",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.width,children:i.jsx(b("VideoComponentPlayButton.react"),{})})})},this.props.videoID)};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverVideoSelectionComponent.react",["cx","PagesCoverVideoHoverableVideoComponent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=176,k=Math.round(j*9/16);a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={selectedVideoID:null};c.$2=function(a){if(a===c.state.selectedVideoID)return;var b=c.state.selectedVideoID;if(b){b=c.$1.get(b);b&&b.pause("user_initiated")}c.setState({selectedVideoID:a});c.props&&c.props.onVideoSelected(a)};c.$3=function(a){a=c.$1.get(a);a&&a.play("hover")};c.$4=function(a){a=c.$1.get(a);a&&a.pause("hover")};c.$5=function(a,b){b&&b.vpc&&c.$1.set(a,b.vpc)};c.$1=new Map();return c}var d=c.prototype;d.render=function(){var a=this,c=this.props.videoIDs;if(!c||c.length===0)return null;c=c.map(function(c){return i.jsx(b("PagesCoverVideoHoverableVideoComponent.react"),{height:k,isSelected:c===a.state.selectedVideoID,onMouseEnter:a.$3,onMouseLeave:a.$4,onRefLoaded:a.$5,onVideoClick:a.$2,videoID:c,width:j},c)});return i.jsx("div",{className:"_4yfa",children:c})};return c}(i.PureComponent);e.exports=a}),null);
__d("XPagesCoverVideoFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_video_fetch/",{page_id:{type:"FBID",required:!0},count:{type:"Int",required:!0},cursor:{type:"String"}})}),null);
__d("PagesCoverVideoBrowserDialog.react",["cx","fbt","AsyncRequest","LayerFadeOnHide","LoadingDialog.react","PagesCoverVideoSelectionComponent.react","ScrollableArea.react","XPagesCoverVideoFetchController","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=3;c=176;d=8;f=Math.round(c*9/16);var k=(c+2*d)*a+3*d,l=9,m=f*3;g=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoIDs:[],selectedVideoID:null,cursor:"",hasMore:!0,hasEligibleVideos:!0,isLoading:!1},d.$2=function(){if(!d.state.hasMore||!d.state.hasEligibleVideos||d.state.isLoading)return;var a=b("XPagesCoverVideoFetchController").getURIBuilder().setFBID("page_id",d.props.pageID).setInt("count",l).setString("cursor",d.state.cursor).getURI();d.$1=new(b("AsyncRequest"))(a).setHandler(d.$3);d.$1.send();d.setState({isLoading:!0})},d.$3=function(a){var b=a.payload;if(!b)return;d.setState(function(a,c){return{videoIDs:a.videoIDs.concat(b.videoIDs),cursor:b.cursor,hasMore:b.hasMore,hasEligibleVideos:b.hasEligibleVideos,isLoading:!1}})},d.$4=function(a){d.setState({selectedVideoID:a})},d.$5=function(){var a=d.props.onConfirm;a&&a(b("nullthrows")(d.state.selectedVideoID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&(this.$1.abort(),delete this.$1)};d.render=function(){if(!this.props.dialogShown)return null;if(this.state.videoIDs.length===0&&this.state.hasMore&&this.state.hasEligibleVideos)return j.jsx(b("LoadingDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle});if(!this.state.hasEligibleVideos)return j.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:k,children:[j.jsx(b("XUIDialogTitle.react"),{children:h._("Choose from my videos")}),j.jsx(b("XUIDialogBody.react"),{children:j.jsx("div",{children:h._("None of the videos in your library qualify as cover videos. Videos must be between 20 and 90 seconds and at least 820 x 312 pixels. The recommended size is 820 x 462 pixels. Please upload a different video and try again.")})}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"})})]});var a=this.state.hasMore?j.jsx("div",{className:"_4yfc",children:j.jsx(b("XUISpinner.react"),{size:"large"})}):null,c=this.state.videoIDs,d=this.props.existingMediaIDs;d&&(c=c.filter(function(a){return!d.has(a)}));var e=this.props.isForSlideshow?j.jsx(b("XUIButton.react"),{disabled:!this.state.selectedVideoID,label:h._("Next"),onClick:this.$5}):j.jsx(b("XUIDialogConfirmButton.react"),{action:"confirm",disabled:!this.state.selectedVideoID,onClick:this.$5,use:"confirm"});return j.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:k,children:[j.jsx(b("XUIDialogTitle.react"),{children:h._("Choose from my videos")}),j.jsx(b("XUIDialogBody.react"),{children:j.jsxs(b("ScrollableArea.react"),{fade:!1,height:m,onEndReached:this.$2,width:k,children:[j.jsx(b("PagesCoverVideoSelectionComponent.react"),{onVideoSelected:this.$4,videoIDs:c}),a]})}),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIDialogCancelButton.react"),{onClick:this.props.onToggle}),e]})]})};return c}(j.PureComponent);e.exports=g}),null);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this,"VideoUploadSession")||this;j.$VideoUploadCrashMonitor1={waterfallID:b,actorID:c,source:d,targetID:e,loggingDelay:f,supportsChunking:g,composerEntryPointRef:h,flowStarted:i};return j}var d=c.prototype;d.flowStarted=function(){this.$VideoUploadCrashMonitor1.flowStarted=!0};d.getCrashTimeData=function(){return this.$VideoUploadCrashMonitor1};d.logCrash=function(a,c,d){if(!c.waterfallID)return;a=new(b("VideoUploadLogger"))({actor_id:c.actorID,source:c.source,waterfall_id:c.waterfallID,target_id:c.targetID,delay:c.loggingDelay,is_chunked_upload:c.supportsChunking,composer_entry_point_ref:c.composerEntryPointRef});d={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};a.logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,d);c.flowStarted&&a.logEvent(b("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};return c}(b("Bandicoot"));e.exports=a}),null);
__d("GraphQLVideoPublishUtils",["gkx","immutable"],(function(a,b,c,d,e,f){"use strict";f.isGraphQLPublish=a;function a(a,c,d){if(d&&!b("gkx")("1827276"))return!1;d=b("immutable").List(["cs_ab_testing_video_upload","cs_content_library","cs_content_library_bulk_upload","cs_content_library_upload_videos","cs_content_show_episode_upload","cs_global_basic_post","cs_global_bulk_upload","cs_global_multipost","cs_global_upload_video","cs_home_basic_post","cs_home_bulk_video","cs_home_upload_video","cs_home_multipost","cs_instagram_content_library","media_manager","pages_feed_video_composer","pages_composer_bulk_upload_upsell","page_content_tab_drafts","page_content_tab_published_posts_opted_out","page_content_tab_scheduled_posts_opted_out","page_content_tab_video_library","page_content_tab_video_library_premiere","pages_posts","pages_video_tab","timeline","video_page_video_list"]);d=d.contains(c);return(a==="composer"||a==="media_manager_instagram_video_composer")&&d}}),null);
__d("ResumableUploadAsyncService",["AsyncRequest","EventEmitter","Promise","ResumableUploadServiceState.enum","URI","gkx","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f){"use strict";var g,h="rupload",i="facebook.com";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m,n){var o;o=a.call(this)||this;o.consumer=c;o.accessToken=d;o.sessionKey=e||b("uuid")();o.contentKey=f||"";o.contentValue=g||"";o.serviceName=j&&j!=""?j:h;o.serviceDomain=k&&k!=""?k:i;o.receiveParameters=l;o.flowCaptureHeaderValue=m;o.tracingHeaderValue=n;return o}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.tracingHeaderValue)};var d=c.prototype;d.$ResumableUploadService1=function(a){if(b("gkx")("1765373")){var c;if(((c=this.receiveParameters)==null?void 0:c.target_id)!=null){a.setRequestHeader("target_id",String((c=this.receiveParameters)==null?void 0:c.target_id))}if(((c=this.receiveParameters)==null?void 0:c.video_waterfall_id)!=null){a.setRequestHeader("x_fb_video_waterfall_id",String((c=this.receiveParameters)==null?void 0:c.video_waterfall_id))}}};d.resume=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(this.sendOffsetRequest());case 3:c=e.sent;this.emit(b("ResumableUploadServiceState.enum").START,{offset:c.offset});e.next=7;return b("regeneratorRuntime").awrap(this.sendUploadRequest(a,c));case 7:d=e.sent;this.emit(b("ResumableUploadServiceState.enum").SUCCESS,d.h);e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.emit(b("ResumableUploadServiceState.enum").FAIL,e.t0);case 14:this.abortUpload=void 0;case 15:case"end":return e.stop()}},null,this,[[0,11]])};d.cancel=function(){this.abortUpload&&this.abortUpload(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};d.sendOffsetRequest=function(){var a=this;return new(b("Promise"))(function(c,d){var e=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a.getUploadUri()).setReadOnly(!0).setRequestHeader("Authorization","OAuth "+a.accessToken).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(c){a.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,c)});a.$ResumableUploadService1(e);a.decorateRequestFlowCaptureHeader(e);a.abortUpload=function(){return e.abort()};e.send()})};d.sendUploadRequest=function(a,c){var d=this;c=c||{};var e=c.offset;c=c.duplicate;var f=c?"":a.slice(e);return new(b("Promise"))(function(c,g){var h=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(d.getUploadUri()).setRawData(f).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(g).setRequestHeader("Authorization","OAuth "+d.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(e)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(c){c=new ProgressEvent("upload-service",{total:a.size,loaded:c.loaded+Number(e)});d.emit(b("ResumableUploadServiceState.enum").PROGRESS,c)}).setTransportErrorHandler(function(a){d.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});d.$ResumableUploadService1(h);d.decorateRequestFlowCaptureHeader(h);d.abortUpload=function(){return h.abort()};g=d.receiveParameters;g&&(h.setRequestHeader("start_offset",String(g.start_offset)).setRequestHeader("end_offset",String(g.end_offset)).setRequestHeader("composer_session_id",String(g.composer_session_id)).setRequestHeader("id",String(g.upload_session_id)),g.fb_region&&h.setRequestHeader("X-FB-Region",String(g.fb_region)));d.tracingHeaderValue&&h.setRequestHeader("x-fb-product-log",d.tracingHeaderValue);h.send()})};d.getUploadUri=function(){var a=this.getServiceName();a=new(g||(g=b("URI")))("https://"+a+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(a=a.addQueryData(this.contentKey,this.contentValue));return a};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoUploadConnectionMonitor",["Network","VideoUploadFeatureDetector","cr:909282","debounce","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$VideoUploadConnectionMonitor1=!1;c.$VideoUploadConnectionMonitor2=[];c.$VideoUploadConnectionMonitor3=!1;c.$VideoUploadConnectionMonitor4=!0;c.$VideoUploadConnectionMonitor5=b("debounce")(function(){this.$VideoUploadConnectionMonitor6(!1)}.bind(babelHelpers.assertThisInitialized(c)),2e3);return c}var d=c.prototype;d.notifyStart=function(){if(this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor2.length===0&&(this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(!0)}.bind(this))),this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("offline",function(){this.$VideoUploadConnectionMonitor1?this.$VideoUploadConnectionMonitor5():(this.$VideoUploadConnectionMonitor5.reset(),b("setTimeout")(this.$VideoUploadConnectionMonitor5,2e3))}.bind(this))));this.$VideoUploadConnectionMonitor3=!0};d.notifyProgress=function(a){if(!this.$VideoUploadConnectionMonitor3)return;if(!a)return;b("VideoUploadFeatureDetector").supportsFullProgress()&&(this.$VideoUploadConnectionMonitor1=!0,a.total&&a.loaded===a.total?this.$VideoUploadConnectionMonitor5.reset():this.$VideoUploadConnectionMonitor5())};d.notifySuccess=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.notifyTransportError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=!1;this.$VideoUploadConnectionMonitor6(!1)};d.notifyError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.isOnline=function(){return this.$VideoUploadConnectionMonitor4};d.reset=function(){while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=!1};d.$VideoUploadConnectionMonitor6=function(a){this.$VideoUploadConnectionMonitor5.reset(),this.$VideoUploadConnectionMonitor4!==a&&(this.$VideoUploadConnectionMonitor4=a,this.$VideoUploadConnectionMonitor4?this.inform("online"):this.inform("offline"))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ODS","ResumableUploadAsyncService","ResumableUploadService","ResumableUploadServiceState.enum","VideoUploadConnectionMonitor","VideoUploadRequest","clearTimeout","cr:909282","gkx","md5","mixin","setTimeout","uuid"],(function(a,b,c,d,e,f,g){var h=1363037,i={INITIAL:"initial",NEXT_CHUNK:"next chunk",INVALID_OFFSET_RETRY:"invalid offset retry",SERVER_FAILURE_RETRY:"server failure retry",TRANSPORT_FAILURE_RETRY:"transport failure retry",TIMEOUT_RETRY:"timeout retry",BACK_ONLINE:"back online"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A;m===void 0&&(m="");n===void 0&&(n=!1);o===void 0&&(o=!1);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);t===void 0&&(t=!1);u===void 0&&(u=!1);v===void 0&&(v=!1);w===void 0&&(w=!1);x===void 0&&(x=!1);y===void 0&&(y=!1);z===void 0&&(z=0);A=a.call(this)||this;A.$VideoUploadReceiveRequestManager1=c;A.$VideoUploadReceiveRequestManager2=d;A.$VideoUploadReceiveRequestManager3=e!=null?e:0;A.$VideoUploadReceiveRequestManager4=f;A.$VideoUploadReceiveRequestManager5=g;A.$VideoUploadReceiveRequestManager6=h;A.$VideoUploadReceiveRequestManager7=i;A.$VideoUploadReceiveRequestManager8=j;A.$VideoUploadReceiveRequestManager9=k;A.$VideoUploadReceiveRequestManager10=l;A.$VideoUploadReceiveRequestManager11=0;A.$VideoUploadReceiveRequestManager14=0;A.$VideoUploadReceiveRequestManager15=0;A.$VideoUploadReceiveRequestManager16=null;A.$VideoUploadReceiveRequestManager17=null;A.$VideoUploadReceiveRequestManager18=0;A.$VideoUploadReceiveRequestManager19="constructed";A.$VideoUploadReceiveRequestManager13=null;A.$VideoUploadReceiveRequestManager20=null;A.$VideoUploadReceiveRequestManager21=null;A.$VideoUploadReceiveRequestManager22=m;A.$VideoUploadReceiveRequestManager24=o;A.$VideoUploadReceiveRequestManager23=n;A.$VideoUploadReceiveRequestManager25=p;A.$VideoUploadReceiveRequestManager26=!1;A.$VideoUploadReceiveRequestManager27=q;A.$VideoUploadReceiveRequestManager30=t;A.$VideoUploadReceiveRequestManager31=u;A.$VideoUploadReceiveRequestManager32=v;A.$VideoUploadReceiveRequestManager29=s;A.$VideoUploadReceiveRequestManager33=w;A.$VideoUploadReceiveRequestManager28=r;A.$VideoUploadReceiveRequestManager34=x;A.$VideoUploadReceiveRequestManager12=b("uuid")();A.$VideoUploadReceiveRequestManager35=y;A.$VideoUploadReceiveRequestManager36=z;A.$VideoUploadReceiveRequestManager41=null;A.$VideoUploadReceiveRequestManager42=null;A.$VideoUploadReceiveRequestManager40=!1;A.$VideoUploadReceiveRequestManager39=null;A.$VideoUploadReceiveRequestManager37=new(b("VideoUploadConnectionMonitor"))();A.$VideoUploadReceiveRequestManager37.subscribe("online",A.$VideoUploadReceiveRequestManager50.bind(babelHelpers.assertThisInitialized(A)));A.$VideoUploadReceiveRequestManager37.subscribe("offline",A.$VideoUploadReceiveRequestManager51.bind(babelHelpers.assertThisInitialized(A)));return A}var d=c.prototype;d.updateVideoID=function(a){if(this.$VideoUploadReceiveRequestManager38.getVideoID())return;this.$VideoUploadReceiveRequestManager38.setVideoID(a);this.$VideoUploadReceiveRequestManager45&&this.$VideoUploadReceiveRequestManager45.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38));this.$VideoUploadReceiveRequestManager52()};d.isResumabilityEnabled=function(){return this.$VideoUploadReceiveRequestManager23};d.isResumableServiceProxyReceiveEnabled=function(){return this.$VideoUploadReceiveRequestManager30};d.sendRequest=function(a){this.$VideoUploadReceiveRequestManager19="sending request";if(this.$VideoUploadReceiveRequestManager45){this.$VideoUploadReceiveRequestManager19="request already in progress";return}this.$VideoUploadReceiveRequestManager18=a.getEndOffset()-a.getStartOffset();this.$VideoUploadReceiveRequestManager38=a;this.$VideoUploadReceiveRequestManager53(i.INITIAL)};d.cancelRequest=function(){if(!this.$VideoUploadReceiveRequestManager45)return;this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager21!==void 0&&this.$VideoUploadReceiveRequestManager21!==null&&this.$VideoUploadReceiveRequestManager21.cancel();this.$VideoUploadReceiveRequestManager54();this.inform("request-canceled")};d.appendStateLogData=function(a,b){a[b+"request_manager_state"]=this.$VideoUploadReceiveRequestManager19,a[b+"upload_speed"]=this.$VideoUploadReceiveRequestManager17,a[b+"transport_retries"]=this.$VideoUploadReceiveRequestManager11,a[b+"server_retries"]=this.$VideoUploadReceiveRequestManager14,a[b+"timeout_retries"]=this.$VideoUploadReceiveRequestManager15,a[b+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager43,a[b+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager16,a[b+"pending_request"]=this.$VideoUploadReceiveRequestManager45!=null,a[b+"pending_timer"]=this.$VideoUploadReceiveRequestManager46!=null,a[b+"cached_chunk"]=this.$VideoUploadReceiveRequestManager44!=null,a[b+"early_receive_start"]=this.$VideoUploadReceiveRequestManager40,this.$VideoUploadReceiveRequestManager38!=null&&(a[b+"start_offset"]=this.$VideoUploadReceiveRequestManager38.getStartOffset(),a[b+"end_offset"]=this.$VideoUploadReceiveRequestManager38.getEndOffset(),a[b+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionStartOffset(),a[b+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()),this.$VideoUploadReceiveRequestManager37!=null&&(a[b+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager37.isOnline())};d.getHostName=function(a){try{return new URL(a).hostname}catch(a){return null}};d.$VideoUploadReceiveRequestManager54=function(){this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager44=null,this.$VideoUploadReceiveRequestManager11=0,this.$VideoUploadReceiveRequestManager14=0,this.$VideoUploadReceiveRequestManager12=b("uuid")(),this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager16=null,this.$VideoUploadReceiveRequestManager17=null,this.$VideoUploadReceiveRequestManager18=0,this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null,this.$VideoUploadReceiveRequestManager40=!1,this.$VideoUploadReceiveRequestManager26=!1,this.$VideoUploadReceiveRequestManager39=null,this.$VideoUploadReceiveRequestManager38.reset(),this.$VideoUploadReceiveRequestManager37.reset(),b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=null};d.$VideoUploadReceiveRequestManager53=function(a,c){b("clearTimeout")(this.$VideoUploadReceiveRequestManager46);this.$VideoUploadReceiveRequestManager46=null;this.$VideoUploadReceiveRequestManager20=a;this.$VideoUploadReceiveRequestManager13=b("uuid")();if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager38.getStartOffset()>=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()){!c?(this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}}),this.$VideoUploadReceiveRequestManager19="request finished - notified"):this.$VideoUploadReceiveRequestManager19="request finished - not notified";return}this.$VideoUploadReceiveRequestManager45=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(!0).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38)).setWaterfallID(this.$VideoUploadReceiveRequestManager38.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager55.bind(this));this.$VideoUploadReceiveRequestManager23||this.$VideoUploadReceiveRequestManager45.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager56.bind(this));this.$VideoUploadReceiveRequestManager16=Date.now();this.$VideoUploadReceiveRequestManager39=this.getHostName(this.$VideoUploadReceiveRequestManager1);a=!1;if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){c=this.$VideoUploadReceiveRequestManager57(this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45.setTimeoutHandler(c,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager19="sending chunk with timeout = "+c;this.$VideoUploadReceiveRequestManager43=c}else this.$VideoUploadReceiveRequestManager19="sending chunk without timeout";c=this.$VideoUploadReceiveRequestManager58();if(c===null||c===void 0){this.$VideoUploadReceiveRequestManager59({error_description:"Provided chunk is null.",error_is_transient:!1});return}else this.$VideoUploadReceiveRequestManager23&&this.$VideoUploadReceiveRequestManager29<this.$VideoUploadReceiveRequestManager38.getFile().getSize()?(a=!0,this.$VideoUploadReceiveRequestManager60(c)):this.$VideoUploadReceiveRequestManager45.sendChunk(c)}else this.$VideoUploadReceiveRequestManager19="sending file",this.$VideoUploadReceiveRequestManager45.sendFile(this.$VideoUploadReceiveRequestManager38.getFile().getFileInput());this.$VideoUploadReceiveRequestManager61(a);this.$VideoUploadReceiveRequestManager37.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager61=function(a){(this.$VideoUploadReceiveRequestManager38.getSource()==="create_flow"||this.$VideoUploadReceiveRequestManager38.getSource()==="ads_interfaces")&&b("ODS").bumpEntityKey(2966,"video_ads_upload",a?"upload_service":"graph_api")};d.$VideoUploadReceiveRequestManager62=function(a,b,c){!this.$VideoUploadReceiveRequestManager38.getVideoID()?(this.$VideoUploadReceiveRequestManager41=a,this.$VideoUploadReceiveRequestManager42=b):a(b,c)};d.$VideoUploadReceiveRequestManager52=function(){this.$VideoUploadReceiveRequestManager41&&(this.$VideoUploadReceiveRequestManager41(this.$VideoUploadReceiveRequestManager42),this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null)};d.$VideoUploadReceiveRequestManager60=function(a){var c,d=this.$VideoUploadReceiveRequestManager38.getFile(),e=d.getFile().lastModified+d.getFile().name+d.getFile().type+this.$VideoUploadReceiveRequestManager63();e=String(b("md5")(e))+"-"+this.$VideoUploadReceiveRequestManager38.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager38.getEndOffset();c=((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?this.$VideoUploadReceiveRequestManager14+this.$VideoUploadReceiveRequestManager11+this.$VideoUploadReceiveRequestManager15:this.$VideoUploadReceiveRequestManager38.getRetryState().getTotalRetryCount();d=this.$VideoUploadReceiveRequestManager35&&this.$VideoUploadReceiveRequestManager36<d.getSize()?["video_upload_www",[this.$VideoUploadReceiveRequestManager12,String(c)].join("_"),[String(this.$VideoUploadReceiveRequestManager38.getWaterfallID()),String(this.$VideoUploadReceiveRequestManager38.getVideoID())].join("_")].join(":"):null;this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager25&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3&&(this.$VideoUploadReceiveRequestManager26=!0);c="fb_video";this.$VideoUploadReceiveRequestManager30&&(c="fb_video2");var f=null;if(this.$VideoUploadReceiveRequestManager30||this.$VideoUploadReceiveRequestManager31){var g={};g.start_offset=this.$VideoUploadReceiveRequestManager38.getStartOffset();g.end_offset=this.$VideoUploadReceiveRequestManager38.getEndOffset();g.composer_session_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID();g.upload_session_id=this.$VideoUploadReceiveRequestManager38.getUploadSessionID();g.product_media_id=this.$VideoUploadReceiveRequestManager38.getVideoID();g.xpv_asset_id=this.$VideoUploadReceiveRequestManager38.getXPVAssetID();g.is_xpv_single_prod=this.$VideoUploadReceiveRequestManager38.getIsXPVSingleProd();g.fb_region=this.$VideoUploadReceiveRequestManager38.getFbRegion();this.$VideoUploadReceiveRequestManager32&&(g.total_file_size=this.$VideoUploadReceiveRequestManager38.getFile().getSize());b("gkx")("1765373")&&(g.video_waterfall_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID(),g.target_id=this.$VideoUploadReceiveRequestManager38.getTargetID());f=g}g={};g.consumer=c;g.accessToken=this.$VideoUploadReceiveRequestManager22;g.sessionKey=e;g.serviceName=this.$VideoUploadReceiveRequestManager26?null:this.$VideoUploadReceiveRequestManager25;g.serviceDomain=this.$VideoUploadReceiveRequestManager27;g.receiveParameters=f;g.flowCaptureHeaderValue=this.$VideoUploadReceiveRequestManager34?this.$VideoUploadReceiveRequestManager38.getWaterfallID():null;g.tracingHeaderValue=d;this.$VideoUploadReceiveRequestManager24?c=b("ResumableUploadAsyncService").create(g):c=b("ResumableUploadService").create(g);this.$VideoUploadReceiveRequestManager21=c;this.$VideoUploadReceiveRequestManager39=c.getServiceName();this.$VideoUploadReceiveRequestManager64();c.resume(a);this.inform("resumable-called",{debug:{single_request_id:this.$VideoUploadReceiveRequestManager13,authority:this.$VideoUploadReceiveRequestManager39}})};d.$VideoUploadReceiveRequestManager64=function(){var a=this;this.$VideoUploadReceiveRequestManager38.getVideoID()||(this.$VideoUploadReceiveRequestManager40=!0);var c=this.$VideoUploadReceiveRequestManager21;if(c===null||c===void 0)return;c.addListener(b("ResumableUploadServiceState.enum").START,function(b){a.inform("resumable-started",{resume_from_offset:b.offset,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})});this.$VideoUploadReceiveRequestManager47=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"service",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}}),a.__handleServerFailureResponse(b)};c.addListener(b("ResumableUploadServiceState.enum").FAIL,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager47,b)});this.$VideoUploadReceiveRequestManager48=function(b){!a.$VideoUploadReceiveRequestManager30?(a.$VideoUploadReceiveRequestManager45.setHandle(b),a.$VideoUploadReceiveRequestManager45.sendChunk(null)):a.__handleSuccessResponsePayload({start_offset:a.$VideoUploadReceiveRequestManager38.getEndOffset(),end_offset:a.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()}),a.inform("resumable-success",{everstore_handle:b,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})};c.addListener(b("ResumableUploadServiceState.enum").SUCCESS,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager48,b)});this.$VideoUploadReceiveRequestManager49=function(b,c){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),resume_from_offset:c.offset,debug:{error_source:"transport",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),method:c.method,authority:a.$VideoUploadReceiveRequestManager39}}),a.$VideoUploadReceiveRequestManager55(b)};c.addListener(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b,c){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager49,b,c)});c.addListener(b("ResumableUploadServiceState.enum").PROGRESS,function(b){a.$VideoUploadReceiveRequestManager33&&(a.$VideoUploadReceiveRequestManager11=0),a.$VideoUploadReceiveRequestManager56(b)})};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.$VideoUploadReceiveRequestManager65=function(a,c){this.$VideoUploadReceiveRequestManager19="setting request to send after"+c,b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=b("setTimeout")(this.$VideoUploadReceiveRequestManager53.bind(this,a),c)};d.$VideoUploadReceiveRequestManager58=function(){if(this.$VideoUploadReceiveRequestManager44)return this.$VideoUploadReceiveRequestManager44;var a=this.$VideoUploadReceiveRequestManager38.getFile();if(this.$VideoUploadReceiveRequestManager23){var b=a.getFile();this.$VideoUploadReceiveRequestManager44=b?b.slice(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset(),"application/octet-stream"):null}else this.$VideoUploadReceiveRequestManager44=a.getChunk(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset());return this.$VideoUploadReceiveRequestManager44};d.__createRequestData=function(a){return{composer_session_id:a.getComposerSessionID(),video_id:a.getVideoID(),start_offset:a.getStartOffset(),end_offset:a.getEndOffset(),source:a.getSource(),target_id:a.getTargetID(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager17,partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset()}};d.__handleSuccessResponse=function(a){a=a.getPayload();this.__handleSuccessResponsePayload(a)};d.__handleSuccessResponsePayload=function(a){this.$VideoUploadReceiveRequestManager19="success response received";var c=Date.now()-(this.$VideoUploadReceiveRequestManager16||0);c=c===0?1:c;if(a.start_offset===this.$VideoUploadReceiveRequestManager38.getEndOffset()){var d=this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset();this.$VideoUploadReceiveRequestManager17=Math.floor(d/c)}else this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager38.setStartOffset(a.start_offset);d=a.end_offset;this.$VideoUploadReceiveRequestManager38.getClientChunkSize()&&(d=a.start_offset+Math.min(this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()-a.start_offset,this.$VideoUploadReceiveRequestManager38.getClientChunkSize()));this.$VideoUploadReceiveRequestManager38.setEndOffset(d);this.$VideoUploadReceiveRequestManager38.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager44=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager14=0;this.$VideoUploadReceiveRequestManager12=b("uuid")();this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager53(i.NEXT_CHUNK,!0)};d.$VideoUploadReceiveRequestManager66=function(a){var b=this,c=a.getPayload();this.$VideoUploadReceiveRequestManager19="invalid offset response received start="+c.start_offset+" end="+c.end_offset;(this.$VideoUploadReceiveRequestManager38.getStartOffset()!=c.start_offset||this.$VideoUploadReceiveRequestManager38.getEndOffset()!=c.end_offset)&&(this.$VideoUploadReceiveRequestManager38.setStartOffset(c.start_offset),this.$VideoUploadReceiveRequestManager38.setEndOffset(c.end_offset),this.$VideoUploadReceiveRequestManager44=null);((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager53(i.INVALID_OFFSET_RETRY)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-invalid_offset"},retryHandler:function(a){return b.$VideoUploadReceiveRequestManager65(i.INVALID_OFFSET_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})};d.__handleServerFailureResponse=function(a){var b=this;this.$VideoUploadReceiveRequestManager19="failure response received";this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager37.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(a.getError()))this.$VideoUploadReceiveRequestManager66(a);else{var c;((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(a.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4?(this.$VideoUploadReceiveRequestManager19="transient server error",this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager65(i.SERVER_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager14,0))):this.$VideoUploadReceiveRequestManager67(a):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){b.$VideoUploadReceiveRequestManager19="transient server error",b.$VideoUploadReceiveRequestManager65(i.SERVER_FAILURE_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})}};d.__handleResponseTimeout=function(a){var b=this;this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,timeout_retries:this.$VideoUploadReceiveRequestManager15,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,debug:{upload_domain:this.$VideoUploadReceiveRequestManager39,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifyTransportError();var c=function(){var a=b.$VideoUploadReceiveRequestManager38.getEndOffset()-b.$VideoUploadReceiveRequestManager38.getStartOffset();a=Math.floor(a/2);a=Math.max(a,b.$VideoUploadReceiveRequestManager18);var c=b.$VideoUploadReceiveRequestManager38.getEndOffset();c=Math.min(c,b.$VideoUploadReceiveRequestManager38.getStartOffset()+a);b.$VideoUploadReceiveRequestManager38.setEndOffset(c);b.$VideoUploadReceiveRequestManager44=null;b.$VideoUploadReceiveRequestManager19="resending after timeout with chunksize="+a;b.$VideoUploadReceiveRequestManager53(i.TIMEOUT_RETRY)},d=function(){b.$VideoUploadReceiveRequestManager59({error_code:1006,error_description:g._("Your browser appears to be offline. Please check your internet connection and try again."),error_summary:g._("No network connection"),error_is_transient:!0})};((a=this.$VideoUploadReceiveRequestManager38)==null?void 0:a.getRetryState())==null?++this.$VideoUploadReceiveRequestManager15<=this.$VideoUploadReceiveRequestManager6?c():d():this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-timeout",error_code:1006},retryHandler:function(a){return c()},failureHandler:function(){return d()}})};d.__hasInvalidStartOffsetAndHasRetries=function(a){return a===h&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4};d.$VideoUploadReceiveRequestManager55=function(a){var b,c=this;this.$VideoUploadReceiveRequestManager37.notifyTransportError();this.$VideoUploadReceiveRequestManager17=null;((b=this.$VideoUploadReceiveRequestManager38)==null?void 0:b.getRetryState())==null?(this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2?(this.$VideoUploadReceiveRequestManager19="resending after transport failure",this.$VideoUploadReceiveRequestManager11++,this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager65(i.TRANSPORT_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))):this.$VideoUploadReceiveRequestManager67(a)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadReceiveRequestManager45=null,c.$VideoUploadReceiveRequestManager19="resending after transport failure",c.$VideoUploadReceiveRequestManager65(i.TRANSPORT_FAILURE_RETRY,a)},failureHandler:function(){return c.$VideoUploadReceiveRequestManager67(a)}})};d.$VideoUploadReceiveRequestManager67=function(a){this.$VideoUploadReceiveRequestManager59({error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),error_is_transient:a.isTransient(),upload_domain:this.uploadDomain,www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__})};d.$VideoUploadReceiveRequestManager59=function(a){this.$VideoUploadReceiveRequestManager19="handling failure error",a.debug=babelHelpers["extends"]({},a.debug,{single_request_id:this.$VideoUploadReceiveRequestManager13}),this.inform("request-failed",a),this.$VideoUploadReceiveRequestManager54()};d.$VideoUploadReceiveRequestManager56=function(a){this.$VideoUploadReceiveRequestManager37.notifyProgress(a),this.$VideoUploadReceiveRequestManager38&&this.$VideoUploadReceiveRequestManager38.getFile()&&this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager38.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),sent_bytes:a.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager50=function(){var a;this.inform("online");this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager15=0;(a=this.$VideoUploadReceiveRequestManager38)==null?void 0:(a=a.getRetryState())==null?void 0:a.resetDelay();this.$VideoUploadReceiveRequestManager46&&this.$VideoUploadReceiveRequestManager53(i.BACK_ONLINE)};d.$VideoUploadReceiveRequestManager51=function(){this.inform("offline")};d.$VideoUploadReceiveRequestManager68=function(a,b,c){var d;this.$VideoUploadReceiveRequestManager23?d=Math.min(Math.pow(a,b),8)*1e3:d=Math.pow(a,b)*1e3;c>0&&(d=Math.min(d,c));return d};d.$VideoUploadReceiveRequestManager57=function(a,b){b!==void 0&&b!==null&&b>0?b=b:b=10;a=Math.floor(a/b*this.$VideoUploadReceiveRequestManager7/100);return Math.max(a,3e4)};d.$VideoUploadReceiveRequestManager63=function(){return this.$VideoUploadReceiveRequestManager28?this.$VideoUploadReceiveRequestManager28:this.$VideoUploadReceiveRequestManager38.getWaterfallID()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadStartRequestManager",["Assert","FileHasher","VideoUploadRequest","clearTimeout","cr:909282","mixin","performanceNow","setTimeout"],(function(a,b,c,d,e,f){var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$VideoUploadStartRequestManager1=b;j.$VideoUploadStartRequestManager2=c;j.$VideoUploadStartRequestManager3=d;j.$VideoUploadStartRequestManager4=e;j.$VideoUploadStartRequestManager5=0;j.$VideoUploadStartRequestManager6=f;j.$VideoUploadStartRequestManager7=g;j.$VideoUploadStartRequestManager8=h;j.$VideoUploadStartRequestManager9=i;j.$VideoUploadStartRequestManager10=0;return j}var d=c.prototype;d.getRequest=function(){return this.$VideoUploadStartRequestManager11};d.sendRequest=function(a){var c=this;if(this.$VideoUploadStartRequestManager12||this.$VideoUploadStartRequestManager11)return;this.$VideoUploadStartRequestManager13=a;this.$VideoUploadStartRequestManager6&&this.$VideoUploadStartRequestManager13.getFile().getFile()&&this.$VideoUploadStartRequestManager13.getFile().getFile().size<this.$VideoUploadStartRequestManager7&&b("FileHasher").isSupported()?(this.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))(),this.$VideoUploadStartRequestManager12=new(b("FileHasher"))(),this.$VideoUploadStartRequestManager12.hash(this.$VideoUploadStartRequestManager13.getFile().getFile(),function(a){c.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))()-c.$VideoUploadStartRequestManager14,c.$VideoUploadStartRequestManager15=a.hash,c.$VideoUploadStartRequestManager12.destroy(),c.$VideoUploadStartRequestManager12=null,a.hash||(c.$VideoUploadStartRequestManager16=a.exception),c.$VideoUploadStartRequestManager17()})):this.$VideoUploadStartRequestManager17()};d.$VideoUploadStartRequestManager17=function(){this.$VideoUploadStartRequestManager18(),this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager14,hash_exception:this.$VideoUploadStartRequestManager16})};d.$VideoUploadStartRequestManager18=function(){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null,this.$VideoUploadStartRequestManager11=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(!0).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager13,this.$VideoUploadStartRequestManager15)).setWaterfallID(this.$VideoUploadStartRequestManager13.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager20.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager21.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager22.bind(this)),this.$VideoUploadStartRequestManager11.send()};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.__getDataToSend=function(a,b){b={file_size:a.getFile().getSize(),file_extension:a.getFile().getExtension(),target_id:a.getTargetID(),source:a.getSource(),composer_dialog_version:a.getComposerDialogVersion(),waterfall_id:a.getWaterfallID(),composer_session_id:a.getComposerSessionID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),supports_file_api:a.getSupportsFileAPI(),partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset(),creator_product:a.getCreatorProduct(),original_file_hash:b,spherical:a.getIsSphericalVideo(),spherical_metadata:a.getSphericalMetadata(),video_publisher_action_source:a.getVideoPublisherActionSource()};a.getCreativeTools()!=null&&(b.creative_tools=a.getCreativeTools());return b};d.cancelRequest=function(){this.$VideoUploadStartRequestManager23(),this.inform("request-canceled")};d.$VideoUploadStartRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=b("setTimeout")(this.$VideoUploadStartRequestManager18.bind(this),a)};d.$VideoUploadStartRequestManager23=function(){this.$VideoUploadStartRequestManager12&&(this.$VideoUploadStartRequestManager12.destroy(),this.$VideoUploadStartRequestManager12=null),this.$VideoUploadStartRequestManager11&&(this.$VideoUploadStartRequestManager11.abort(),this.$VideoUploadStartRequestManager11=null),this.$VideoUploadStartRequestManager10=0,this.$VideoUploadStartRequestManager5=0,this.$VideoUploadStartRequestManager13=null,b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null};d.$VideoUploadStartRequestManager25=function(a,b,c){a=Math.pow(a,b)*1e3;c>0&&(a=Math.min(a,c));return a};d.$VideoUploadStartRequestManager20=function(a){var c;(c=this.$VideoUploadStartRequestManager13)==null?void 0:(c=c.getRetryState())==null?void 0:c.resetDelay();c=a.getPayload();this.inform("request-finished",this.__getSuccessInformData(c));this.$VideoUploadStartRequestManager11=null;b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.__getSuccessInformData=function(a){return{video_id:a.video_id,xpv_asset_id:a.xpv_asset_id,is_xpv_single_prod:a.is_xpv_single_prod,upload_session_id:a.upload_session_id,fb_region:a.region_hint,start_offset:a.start_offset,end_offset:a.end_offset,transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,skip_upload:a.skip_upload,hash_time:this.$VideoUploadStartRequestManager14}};d.$VideoUploadStartRequestManager26=function(a){this.inform("request-failed",this.$VideoUploadStartRequestManager27(a)),this.$VideoUploadStartRequestManager11=null,b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.$VideoUploadStartRequestManager21=function(a){var b,c=this;this.$VideoUploadStartRequestManager11=null;var d=(b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState();d==null?(this.$VideoUploadStartRequestManager5=0,a.isTransient()&&this.$VideoUploadStartRequestManager10<this.$VideoUploadStartRequestManager8?(this.$VideoUploadStartRequestManager10++,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager9,this.$VideoUploadStartRequestManager10))):this.$VideoUploadStartRequestManager26(a)):d.handleRetry({context:{location:"start-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){c.$VideoUploadStartRequestManager10=d.getTotalRetryCount(),c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager22=function(a){var b,c=this;((b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState())==null?this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager5>=this.$VideoUploadStartRequestManager2?this.$VideoUploadStartRequestManager26(a):(this.$VideoUploadStartRequestManager5++,this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager5,this.$VideoUploadStartRequestManager4))):this.$VideoUploadStartRequestManager13.getRetryState().handleRetry({context:{location:"start-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadStartRequestManager11=null,c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager27=function(a){return{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__}};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadSession",["AsyncRequest","GraphQLVideoPublishUtils","SubscriptionsHandler","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadGraphQLPostRequestManager","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","cr:1661398","cr:909282","getByPath","mediaUploadLogStackTrace","mixin"],(function(a,b,c,d,e,f){var g={CANCELED:"canceled",ABANDONED:"abandoned",SHUTDOWN:"shutdown"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoUploadSession1=c.source;d.$VideoUploadSession2=c.composer_dialog_version;d.$VideoUploadSession3=c.target_id;d.$VideoUploadSession4=c.logging_delay;d.$VideoUploadSession5=c.silent_file_validation;d.$VideoUploadSession6=c.background_upload;d.$VideoUploadSession7=c.actor_id;d.$VideoUploadSession8=c.composer_entry_point_ref;d.$VideoUploadSession9=c.composer_work_shared_draft_mode;d.$VideoUploadSession10=c.video_publisher_action_source;d.$VideoUploadSession11=c.monitor_crashes;d.$VideoUploadSession12=c.isMultiMediaPost;d.$VideoUploadSession13=c.container_type;d.$VideoUploadSession14=c.number_of_partitions;d.$VideoUploadSession15=c.multi_partitioning_enabled;d.$VideoUploadSession16=c.change_default_chunk_size;d.$VideoUploadSession17=c.has_file_been_replaced?c.has_file_been_replaced:!1;d.$VideoUploadSession16&&(d.$VideoUploadSession18=c.client_chunk_size);d.$VideoUploadSession19=c.early_receive;d.$VideoUploadSession20=!1;d.$VideoUploadSession21=c.accept_dimensions_from_player;d.$VideoUploadSession22=c.ad_account_id;d.$VideoUploadSession23=c.waterfall_id;d.$VideoUploadSession24=new(b("VideoUploadFileValidator"))({minSize:c.min_size,maxSize:c.max_size,minLength:c.min_length,maxLength:c.max_length,minWidth:c.min_width,minHeight:c.min_height,extensions:c.extensions,source:c.source,require16to9AspectRatio:c.require_16to9_aspect_ratio,minAspectRatio:c.min_aspect_ratio,maxAspectRatio:c.max_aspect_ratio,acceptDimensionsFromPlayer:c.accept_dimensions_from_player});d.$VideoUploadSession25=b("VideoUploadFeatureDetector").supportsChunking();d.$VideoUploadSession26=b("VideoUploadFeatureDetector").supportsFileAPI();d.$VideoUploadSession25?(d.$VideoUploadSession27=c.parallel_chunk_uploads,d.$VideoUploadSession27&&(d.$VideoUploadSession28=c.parallel_chunk_upload_filesize,d.$VideoUploadSession29=c.default_chunk_size)):d.$VideoUploadSession27=!1;d.$VideoUploadSession30=c.shutdown_logging_enabled;d.$VideoUploadSession31=d.$VideoUploadSession32(c);d.$VideoUploadSession33=d.$VideoUploadSession34(c);if(d.$VideoUploadSession27)if(d.$VideoUploadSession15){var e=0;d.$VideoUploadSession35=[];for(e=0;e<d.$VideoUploadSession14-1;e++)d.$VideoUploadSession35[e]=d.$VideoUploadSession34(c)}else d.$VideoUploadSession35=d.$VideoUploadSession34(c);d.$VideoUploadSession36=d.$VideoUploadSession37(c);d.$VideoUploadSession38=d.$VideoUploadSession39(c);d.$VideoUploadSession40=c.log_free_local_storage;d.$VideoUploadSession41=null;return d}var d=c.prototype;d.$VideoUploadSession42=function(){this.$VideoUploadSession43=[];this.$VideoUploadSession44=[];this.$VideoUploadSession45=[];this.$VideoUploadSession46=[];this.$VideoUploadSession47=[];var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession43.push(!1)};d.$VideoUploadSession49=function(){var a;this.$VideoUploadSession23==null&&(this.$VideoUploadSession23=b("WaterfallIDGenerator").generate());this.$VideoUploadSession50=new(b("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,ad_account_id:this.$VideoUploadSession22,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession23,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession25,composer_entry_point_ref:this.$VideoUploadSession8,composer_work_shared_draft_mode:this.$VideoUploadSession9,container_type:this.$VideoUploadSession13,has_file_been_replaced:this.$VideoUploadSession17,composer_session_id:this.$VideoUploadSession51,asset_id:(a=this.$VideoUploadSession52)==null?void 0:a.getStableAssetID(),creative_tools:this.$VideoUploadSession53});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession23})};d.createTestLogger=function(){this.$VideoUploadSession49()};d.$VideoUploadSession54=function(){this.$VideoUploadSession50||this.$VideoUploadSession49();return this.$VideoUploadSession50};d.getLogger=function(){return!this.$VideoUploadSession50?null:this.$VideoUploadSession50};d.$VideoUploadSession55=function(){var a,c=this;a=b("cr:1661398")==null?void 0:(a=b("cr:1661398").VideoUploadRetries)==null?void 0:a.createState();a!=null&&(a.addListener("retry-attempted",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.backoff_ms;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d,backoff_ms:a}})}),a.addListener("retries-abandoned",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.abandon_reason;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error:a,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d}})}));return a};d.start=function(a){var c=this;this.$VideoUploadSession56=null;this.$VideoUploadSession57=null;this.$VideoUploadSession58=null;this.$VideoUploadSession59=!1;this.$VideoUploadSession60=!1;this.$VideoUploadSession61=null;this.$VideoUploadSession52=a;this.$VideoUploadSession62=0;this.$VideoUploadSession63=!1;this.$VideoUploadSession64={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession65=!1;this.$VideoUploadSession41=this.$VideoUploadSession55();this.$VideoUploadSession49();b("mediaUploadLogStackTrace")({waterfallID:this.$VideoUploadSession23,sourceType:this.$VideoUploadSession1,composerEntryPointRef:this.$VideoUploadSession8});this.$VideoUploadSession15&&(this.$VideoUploadSession48=Math.min(this.$VideoUploadSession14,Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession28)));this.__logEvent(b("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");a=new(b("VideoUploadMetadataParser"))(this.$VideoUploadSession52,this.$VideoUploadSession66.bind(this),this.$VideoUploadSession21);a.parse();this.$VideoUploadSession40&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,d){c.__logEvent(b("VideoUploadLogger").EVENT_MEASURE_FREE_LOCAL_STORAGE,{free_space_in_device:d})})};d.setTargetID=function(a){this.$VideoUploadSession3=a};d.setComposerSessionID=function(a){this.$VideoUploadSession51=a};d.setCreativeTools=function(a){this.$VideoUploadSession53=a};d.post=function(a){var c;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_POST_REQUEST,this.$VideoUploadSession67);this.inform("post-started",a);var d=this.__createPostRequestContext(a);if(b("GraphQLVideoPublishUtils").isGraphQLPublish(this.$VideoUploadSession1,this.$VideoUploadSession8,(c=a==null?void 0:a.shouldPremiere)!=null?c:!1)&&this.$VideoUploadSession38.hasAPISupport(a)){this.$VideoUploadSession38.sendRequest(d);this.$VideoUploadSession68=a;return}this.$VideoUploadSession36.sendRequest(d);this.$VideoUploadSession68=a};d.__createPostRequestContext=function(a){var c=new(b("VideoUploadRequestContext"))();this.__setupPostRequestContext(c,a);return c};d.__setupPostRequestContext=function(a,b){a.setMetadata(b).setVideoID(this.$VideoUploadSession56).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setFile(this.$VideoUploadSession52).setHasFileBeenReplaced(this.$VideoUploadSession17),b&&(b.spherical&&(this.$VideoUploadSession63=!0,a.setIsSphericalVideo(this.$VideoUploadSession63)),b.enable_omnistab&&(this.$VideoUploadSession65=!0,a.setEnableOmnistab(this.$VideoUploadSession65))),a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8)};d.$VideoUploadSession69=function(a,d){if(this.$VideoUploadSession59){var e={event_reason:d,debug:babelHelpers["extends"]({},this.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:this.$VideoUploadSession6})};d=d===g.CANCELED?b("VideoUploadLogger").EVENT_CANCELED_UPLOADING:b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING;this.$VideoUploadSession70();this.$VideoUploadSession6?(this.$VideoUploadSession60||this.__logEvent(d),this.$VideoUploadSession71&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e),this.$VideoUploadSession71=!1)):(this.__logEvent(d),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e));this.inform("upload-canceled")}else a&&this.$VideoUploadSession56&&c.deleteVideo(this.$VideoUploadSession56)};d.cancel=function(a){a===void 0&&(a=!1),this.$VideoUploadSession69(a,g.CANCELED)};d.abandon=function(a){a===void 0&&(a=!1),this.$VideoUploadSession69(a,g.ABANDONED)};d.isPostInProgress=function(){return this.$VideoUploadSession36.isInProgress()};d.isInProgress=function(){return this.$VideoUploadSession59};d.getHasUploadFinished=function(){return this.$VideoUploadSession60};d.getVideoID=function(){return this.$VideoUploadSession56};d.getUploadTime=function(){return this.$VideoUploadSession72};d.getExPartitionNumber=function(a){var b;for(b=0;b<this.$VideoUploadSession48-1;b++)if(a>=this.$VideoUploadSession44[b]&&a<this.$VideoUploadSession45[b])break;return b===this.$VideoUploadSession48?-1:b};d.getIsSphericalVideo=function(){return this.$VideoUploadSession63||!1};d.startFlow=function(){if(!this.$VideoUploadSession6||this.$VideoUploadSession71)return;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession71=!0;this.$VideoUploadSession73&&this.$VideoUploadSession73.flowStarted()};d.__extractVideoMetadata=function(a){var c;a=(c=b("getByPath"))(a,["streams","primaryVideo"]);c={source_height:c(a,["height"]),source_width:c(a,["width"]),duration:c(a,["duration"])*1e3};c.original_video_duration=c.duration;return c};d.$VideoUploadSession66=function(a){var c;if(this.$VideoUploadSession5){var d=this.$VideoUploadSession24.getValidationErrorMessage(this.$VideoUploadSession52,a);d?(c={error_summary:d.summary,error_description:d.description},d=!1):d=!0}else d=this.$VideoUploadSession24.validate(this.$VideoUploadSession52,a);if(!d){this.__logEvent(b("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",c);return}this.$VideoUploadSession67=this.__extractVideoMetadata(a);a&&a.format&&(this.$VideoUploadSession63=a.format.isSpherical,a.metadata&&(this.$VideoUploadSession64.sphericalMetadataXml=a.metadata.sphericalMetadataXml,this.$VideoUploadSession64.fbSpatialAudioMetadataXml=a.metadata.fbSpatialAudioMetadataXml,this.$VideoUploadSession64.ytSa3dMetadataJson=a.metadata.ytSa3dMetadataJson));this.$VideoUploadSession6||this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession74=this.$VideoUploadSession27&&this.$VideoUploadSession52.getSize()>=this.$VideoUploadSession28;this.$VideoUploadSession75=!1;this.$VideoUploadSession76=0;this.$VideoUploadSession77=this.$VideoUploadSession76;this.$VideoUploadSession78=0;this.$VideoUploadSession15?this.$VideoUploadSession42():this.$VideoUploadSession43=!1;if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){d=0;this.$VideoUploadSession79=Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession48);var e=this.$VideoUploadSession79,f=this.$VideoUploadSession79;for(d=0;d<this.$VideoUploadSession48-1;d++)this.$VideoUploadSession44[d]=e,e=Math.min(this.$VideoUploadSession44[d]+f,this.$VideoUploadSession52.getSize()),this.$VideoUploadSession45[d]=e,this.$VideoUploadSession46[d]=this.$VideoUploadSession44[d],this.$VideoUploadSession47[d]=0}else this.$VideoUploadSession79=Math.floor(this.$VideoUploadSession52.getSize()/2),this.$VideoUploadSession44=this.$VideoUploadSession79,this.$VideoUploadSession46=this.$VideoUploadSession44,this.$VideoUploadSession47=0,this.$VideoUploadSession45=this.$VideoUploadSession52.getSize();else this.$VideoUploadSession79=this.$VideoUploadSession52.getSize();d=new(b("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession52).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setHasFileBeenReplaced(this.$VideoUploadSession17).setSupportsChunking(this.$VideoUploadSession25).setSupportsFileAPI(this.$VideoUploadSession26).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession76).setPartitionEndOffset(this.$VideoUploadSession79).setRetryState(this.$VideoUploadSession41).setCreativeTools(this.$VideoUploadSession53);this.$VideoUploadSession27&&d.setUseParallelChunks(this.$VideoUploadSession27);this.$VideoUploadSession63&&(d.setIsSphericalVideo(this.$VideoUploadSession63),d.setSphericalMetadata(this.$VideoUploadSession64));d.setComposerEntryPointRef&&d.setComposerEntryPointRef(this.$VideoUploadSession8);d.setVideoPublisherActionSource(this.$VideoUploadSession10);this.$VideoUploadSession80();this.$VideoUploadSession31.sendRequest(d);this.$VideoUploadSession19&&this.$VideoUploadSession16&&this.$VideoUploadSession33.isResumabilityEnabled()&&!this.$VideoUploadSession33.isResumableServiceProxyReceiveEnabled()&&this.$VideoUploadSession81();this.inform("metadata-parsed",a)};d.$VideoUploadSession32=function(a){var b=this.$VideoUploadSession25?a.chunk_start_uri:a.start_uri;b=this.__getVideoUploadStartRequestManager(b,a.start_max_transport_retries,a.start_transport_retry_interval_base,a.start_max_transport_retry_timeout,a.skip_upload_enabled,a.skip_upload_file_size_limit,a.start_max_server_retries,a.start_server_retry_interval_base);b.subscribe("request-started",this.$VideoUploadSession82.bind(this));b.subscribe("request-finished",this.$VideoUploadSession83.bind(this));b.subscribe("request-failed",this.$VideoUploadSession84.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession85.bind(this));return b};d.$VideoUploadSession34=function(a){var b=this.$VideoUploadSession25?a.chunk_receive_uri:a.receive_uri;b=this.__getVideoUploadReceiveRequestManager(b,a);b.subscribe("request-started",this.$VideoUploadSession86.bind(this));b.subscribe("request-progressed",this.$VideoUploadSession87.bind(this));b.subscribe("request-finished",this.$VideoUploadSession88.bind(this));b.subscribe("request-failed",this.$VideoUploadSession89.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession90.bind(this));b.subscribe("request-timeout",this.$VideoUploadSession91.bind(this));b.subscribe("online",this.$VideoUploadSession92.bind(this));b.subscribe("offline",this.$VideoUploadSession93.bind(this));b.subscribe("resumable-called",this.$VideoUploadSession94.bind(this));b.subscribe("resumable-started",this.$VideoUploadSession95.bind(this));b.subscribe("resumable-success",this.$VideoUploadSession96.bind(this));b.subscribe("resumable-failed",this.$VideoUploadSession97.bind(this));return b};d.$VideoUploadSession37=function(a){var b=this.$VideoUploadSession25?a.chunk_post_uri:a.post_uri;b=this.__getVideoUploadPostRequestManager(b,a);b.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));b.subscribe("request-failed",this.$VideoUploadSession98.bind(this));return b};d.$VideoUploadSession39=function(a){a=new(b("VideoUploadGraphQLPostRequestManager"))(isNaN(a.post_max_transport_retries)?0:a.post_max_transport_retries,isNaN(a.post_transport_retry_interval_base)?0:a.post_transport_retry_interval_base,isNaN(a.post_max_server_retries)?0:a.post_max_server_retries,isNaN(a.post_server_retry_interval_base)?0:a.post_server_retry_interval_base);a.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));a.subscribe("request-failed",this.$VideoUploadSession98.bind(this));return a};d.$VideoUploadSession82=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_UPLOADING,babelHelpers["extends"]({hash_time:c.hash_time,hash_exception:c.hash_exception},this.$VideoUploadSession67)),this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_START_REQUEST,this.$VideoUploadSession67),this.$VideoUploadSession99=Date.now(),this.inform("upload-started")};d.$VideoUploadSession81=function(a){if(!this.$VideoUploadSession20){this.$VideoUploadSession20=!0;a||(a={video_id:null});var b;b=this.__createReceiveRequestContext(a,!1);this.$VideoUploadSession33.sendRequest(b);if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var c=0;for(c=0;c<this.$VideoUploadSession48-1;c++)b=this.__createReceiveRequestContext(a,!0,c),this.$VideoUploadSession35[c].sendRequest(b)}else b=this.__createReceiveRequestContext(a,!0),this.$VideoUploadSession35.sendRequest(b)}else this.$VideoUploadSession100()};d.$VideoUploadSession100=function(){this.$VideoUploadSession33.updateVideoID(this.$VideoUploadSession56);if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].updateVideoID(this.$VideoUploadSession56)}else this.$VideoUploadSession35.updateVideoID(this.$VideoUploadSession56)};d.$VideoUploadSession101=function(a){if(this.$VideoUploadSession41==null)return((a==null?void 0:a.transport_retries)||0)+((a==null?void 0:a.server_retries)||0)+((a==null?void 0:a.timeout_retries)||0);else return this.$VideoUploadSession41.getTotalRetryCount()};d.$VideoUploadSession83=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,hash_time:c.hash_time,skip_upload:c.skip_upload?1:null}),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_START_REQUEST,babelHelpers["extends"]({video_id:c.video_id},this.$VideoUploadSession67)),this.$VideoUploadSession56=c.video_id,this.$VideoUploadSession57=c.upload_session_id,this.$VideoUploadSession58=c.fb_region,this.$VideoUploadSession102=c.skip_upload,!c.skip_upload?this.$VideoUploadSession81(c):(this.$VideoUploadSession103(),this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),file_size:this.$VideoUploadSession52.getSize(),sent_bytes:this.$VideoUploadSession52.getSize(),video_id:c.video_id,skip_upload:c.skip_upload}),this.$VideoUploadSession6&&this.__logFinishedUploading(),this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),video_id:c.video_id,is_spherical_video:this.$VideoUploadSession63}))};d.__fetchReceiveRequestManagerStateLogData=function(){var a={};this.$VideoUploadSession33!=null&&(this.$VideoUploadSession33.appendStateLogData(a,"requestManager_"),a.request_manager_state=a.requestManager_last_log_state);if(this.$VideoUploadSession15){var b=0;for(b=0;b<this.$VideoUploadSession48-1;b++)this.$VideoUploadSession35[b]!=null&&this.$VideoUploadSession35[b].appendStateLogData(a,"requestManagerEx_"+b.toString())}else this.$VideoUploadSession35!=null&&this.$VideoUploadSession35.appendStateLogData(a,"requestManagerEx_");return a};d.__createReceiveRequestContext=function(a,c,d){c||(c=!1);var e=new(b("VideoUploadRequestContext"))();this.$VideoUploadSession15?this.__setupReceiveRequestContext(e,a,c,d):this.__setupReceiveRequestContext(e,a,c);return e};d.__setupReceiveRequestContext=function(a,b,c,d){var e,f,g;!c?(c=this.$VideoUploadSession76,e=this.$VideoUploadSession79,this.$VideoUploadSession16?(f=this.$VideoUploadSession76,g=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession79):this.$VideoUploadSession79):(f=b.start_offset,g=b.end_offset)):this.$VideoUploadSession15?(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45[d]-this.$VideoUploadSession44[d],this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44[d],e=this.$VideoUploadSession45[d],f=this.$VideoUploadSession44[d],g=this.$VideoUploadSession44[d]+this.$VideoUploadSession29>=this.$VideoUploadSession45[d]?this.$VideoUploadSession45[d]:this.$VideoUploadSession44[d]+this.$VideoUploadSession29):(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45-this.$VideoUploadSession44,this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44,e=this.$VideoUploadSession45,f=this.$VideoUploadSession44,g=this.$VideoUploadSession44+this.$VideoUploadSession29>=this.$VideoUploadSession45?this.$VideoUploadSession45:this.$VideoUploadSession44+this.$VideoUploadSession29);a.setFile(this.$VideoUploadSession52).setVideoID(b.video_id).setXPVAssetID(b.xpv_asset_id).setIsXPVSingleProd(b.is_xpv_single_prod).setUploadSessionID(b.upload_session_id).setFbRegion(b.fb_region).setStartOffset(f).setEndOffset(g).setPartitionStartOffset(c).setPartitionEndOffset(e).setPartitionNo(d).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setHasFileBeenReplaced(this.$VideoUploadSession17).setRetryState(this.$VideoUploadSession41);this.$VideoUploadSession27&&a.setUseParallelChunks(this.$VideoUploadSession27);a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession18&&a.setClientChunkSize(this.$VideoUploadSession18)};d.$VideoUploadSession84=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_START_REQUEST,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);a=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession71&&(this.__logEvent(a),this.$VideoUploadSession71=!1):this.__logEvent(a);this.$VideoUploadSession103();this.$VideoUploadSession104();this.inform("upload-failed",c)};d.$VideoUploadSession85=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_START_REQUEST)};d.$VideoUploadSession86=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_RECEIVE_REQUEST,{debug:c.debug}),!c.start_offset&&!c.transport_retries&&!c.server_retries&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,total_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug})};d.$VideoUploadSession87=function(a,b){if(b.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession77=b.start_offset,this.$VideoUploadSession78=b.sent_bytes;else if(this.$VideoUploadSession15){a=this.getExPartitionNumber(b.start_offset);a>-1&&(this.$VideoUploadSession46[a]=b.start_offset,this.$VideoUploadSession47[a]=b.sent_bytes)}else this.$VideoUploadSession46=b.start_offset,this.$VideoUploadSession47=b.sent_bytes;b.start_offset=this.$VideoUploadSession77;b.sent_bytes=this.$VideoUploadSession78;if(this.$VideoUploadSession74)if(this.$VideoUploadSession15)for(a=0;a<this.$VideoUploadSession48-1;a++)b.start_offset+=this.$VideoUploadSession46[a]-this.$VideoUploadSession44[a],b.sent_bytes+=this.$VideoUploadSession47[a];else b.start_offset+=this.$VideoUploadSession46-this.$VideoUploadSession44,b.sent_bytes+=this.$VideoUploadSession47;a=Math.min(b.start_offset+b.sent_bytes,b.file_size);a>this.$VideoUploadSession62&&(this.$VideoUploadSession62=a,this.inform("upload-progressed",b))};d.$VideoUploadSession88=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_RECEIVE_REQUEST,{debug:c.debug});this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug});a=!1;if(c.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession75=c.end_offset>=this.$VideoUploadSession79;else if(this.$VideoUploadSession15){var d;d=this.getExPartitionNumber(c.start_offset);if(d===-1){var e={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",e);return}this.$VideoUploadSession43[d]=c.end_offset>=this.$VideoUploadSession45[d]}else this.$VideoUploadSession43=c.end_offset>=this.$VideoUploadSession45;if(this.$VideoUploadSession15)for(d=0;d<this.$VideoUploadSession48-1;d++)if(this.$VideoUploadSession43[d]===!1){a=!1;break}else a=!0;else a=this.$VideoUploadSession43;(!this.$VideoUploadSession26||this.$VideoUploadSession75&&(!this.$VideoUploadSession74||a))&&(this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession72=Date.now()-this.$VideoUploadSession99,this.$VideoUploadSession6&&this.__logFinishedUploading(),c.video_id=this.$VideoUploadSession56,c.is_spherical_video=this.$VideoUploadSession63,this.inform("upload-finished",c),this.$VideoUploadSession12&&(this.$VideoUploadSession6||this.__logFinishedUploading(),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW,c),this.$VideoUploadSession71=!1,this.$VideoUploadSession104(),this.inform("multimedia-upload-finished",c)))};d.$VideoUploadSession89=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_RECEIVE_REQUEST,a);this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,a);if(this.$VideoUploadSession59){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_BYTES,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession71&&(this.__logEvent(d,a),this.$VideoUploadSession71=!1):this.__logEvent(d,a)}this.$VideoUploadSession104();this.inform("upload-failed",c)};d.$VideoUploadSession90=function(a){this.$VideoUploadSession25?this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_CHUNK_BYTES):this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_BYTES)};d.$VideoUploadSession91=function(a,c){a={start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,timeout_retries:c.timeout_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,debug:c.debug};this.__logEvent(b("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,a)};d.$VideoUploadSession92=function(a,b){this.inform("online",b)};d.$VideoUploadSession93=function(a,b){this.inform("offline",b)};d.$VideoUploadSession94=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_CALLED,c)};d.$VideoUploadSession95=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_STARTED,c)};d.$VideoUploadSession96=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,c)};d.$VideoUploadSession97=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_FAILED,c)};d.__handlePostRequestFinished=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST,babelHelpers["extends"]({video_id:this.$VideoUploadSession56},this.$VideoUploadSession67));c.video_id||(c.video_id=this.$VideoUploadSession56);this.$VideoUploadSession6||this.__logFinishedUploading();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession71=!1;this.$VideoUploadSession104();a=babelHelpers["extends"]({},c,this.$VideoUploadSession68);this.inform("post-finished",a)};d.__logFinishedUploading=function(){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_UPLOADING,babelHelpers["extends"]({elapsed_time:this.$VideoUploadSession72,skip_upload:this.$VideoUploadSession102?1:null,video_id:this.$VideoUploadSession56},this.$VideoUploadSession67)),this.$VideoUploadSession60=!0};d.$VideoUploadSession98=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,a);if(this.$VideoUploadSession59){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(d,a)}this.$VideoUploadSession104();this.inform("post-failed",c)};d.$VideoUploadSession103=function(){this.$VideoUploadSession33.cancelRequest();if(this.$VideoUploadSession74)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].cancelRequest()}else this.$VideoUploadSession35.cancelRequest();this.$VideoUploadSession20=!1};d.$VideoUploadSession70=function(){this.$VideoUploadSession31.cancelRequest(),this.$VideoUploadSession103(),this.$VideoUploadSession104(),this.$VideoUploadSession56&&(c.deleteVideo(this.$VideoUploadSession56),this.$VideoUploadSession56=null,this.$VideoUploadSession57=null,this.$VideoUploadSession58=null)};d.$VideoUploadSession80=function(){var a=this;this.$VideoUploadSession59=!0;this.$VideoUploadSession30&&(this.$VideoUploadSession61=new(b("SubscriptionsHandler"))(),this.$VideoUploadSession61.addSubscriptions(this.$VideoUploadSession54().postOnShutdown(function(){if(a.$VideoUploadSession59){var c={event_reason:g.SHUTDOWN,debug:babelHelpers["extends"]({},a.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:a.$VideoUploadSession6})};a.$VideoUploadSession6?a.$VideoUploadSession71&&a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c):a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c);a.inform("upload-canceled")}})));this.$VideoUploadSession11&&(this.$VideoUploadSession73=new(b("VideoUploadCrashMonitor"))(this.$VideoUploadSession23,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession25,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession71),this.$VideoUploadSession73.startSession())};d.$VideoUploadSession104=function(){this.$VideoUploadSession59=!1,this.$VideoUploadSession61&&(this.$VideoUploadSession61.release(),this.$VideoUploadSession61=null),this.$VideoUploadSession73&&(this.$VideoUploadSession73.endSession(),this.$VideoUploadSession73=null)};d.__getLogErrorData=function(a){return{error:a.error_summary,error_code:a.error_code,error_description:a.error_description,retries:this.$VideoUploadSession101(a),transport_retries:a.transport_retries,server_retries:a.server_retries,request_manager_state:a.request_manager_state,debug:a.debug}};d.__logEvent=function(a,b){b=b||{},this.$VideoUploadSession52&&(b.file_size=this.$VideoUploadSession52.getSize(),b.file_extension=this.$VideoUploadSession52.getExtension(),b.sent_bytes=this.$VideoUploadSession62),this.$VideoUploadSession54().logEvent(a,b)};d.__getVideoUploadStartRequestManager=function(a,c,d,e,f,g,h,i){return new(b("VideoUploadStartRequestManager"))(a,c,d,e,f,g,h,i)};d.__getVideoUploadReceiveRequestManager=function(a,c){return new(b("VideoUploadReceiveRequestManager"))(a,c.max_transport_retries,c.max_transport_retry_timeout,c.max_server_retries,c.response_timeout_enabled,c.max_response_timeout_retries,c.response_timeout_speed_variation_factor_ppt,c.transport_retry_interval_base,c.server_retry_interval_base,c.receive_errors_force_retry,c.access_token,c.resumability_enabled,c.resumability_async_enabled,c.resumable_service_name,c.resumable_service_domain,c.datr,c.resumability_min_file_size,c.resumable_service_proxy_receive,c.resumable_service_send_media_info,c.resumable_service_send_file_size,c.resumable_reset_transport_retries_on_progress,c.add_flow_capture_header,c.traffic_tracing_enabled,c.traffic_tracing_min_file_size)};d.__getVideoUploadPostRequestManager=function(a,c){return new(b("VideoUploadPostRequestManager"))(a,c.post_max_transport_retries,c.post_transport_retry_interval_base,c.post_max_server_retries,c.post_server_retry_interval_base)};c.deleteVideo=function(a){a=new(b("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:a,redirect:!1});a.setErrorHandler(function(){});a.send()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploader",["FBLogger","MediaUploadVUShim","VideoUploadCrashMonitor","VideoUploadSession","cr:909282","mixin"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.abandon=function(a){a===void 0&&(a=!1);var c=d.getVideoID();d.$VideoUploader2?d.$VideoUploader2.abandon(a):a&&c&&b("VideoUploadSession").deleteVideo(c);d.reset()};d.$VideoUploader1=c;d.$VideoUploader2=null;d.$VideoUploader3=null;d.$VideoUploader4=c.waterfall_id==null?null:c.waterfall_id;d.$VideoUploader5=d.$VideoUploader1.ad_account_id;c.monitor_crashes&&(d.$VideoUploader6=new(b("VideoUploadCrashMonitor"))(),d.$VideoUploader6.logKnownCrashes());return d}var d=c.prototype;d.setComposerSessionID=function(a){this.$VideoUploader7=a,this.$VideoUploader2&&this.$VideoUploader2.setComposerSessionID(a)};d.getLogger=function(){if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};d.upload=function(a,b){var c=this;if(this.$VideoUploader2)return;var d=this.__getVideoUploadSession(this.$VideoUploader1);d.setComposerSessionID(this.$VideoUploader7);(b==null?void 0:b.creativeTools)!=null&&d.setCreativeTools(JSON.stringify(b==null?void 0:b.creativeTools));d.subscribe(this.__getEventsWhichShouldListenFromSession(),function(a,b){return c.$VideoUploader8(a,b)});this.$VideoUploader2=d;d.start(a)};d.__getVideoUploadSession=function(a){try{var c=b("MediaUploadVUShim").createSession(a);if(c==null)return new(b("VideoUploadSession"))(a);else return c}catch(c){b("FBLogger")("media_upload").catching(c).warn("Failed to create shim video upload session");return new(b("VideoUploadSession"))(a)}};d.__getEventsWhichShouldListenFromSession=function(){return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","upload-canceled","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};d.postUserRequest=function(){if(!this.$VideoUploader2)return;this.$VideoUploader2.startFlow&&this.$VideoUploader2.startFlow()};d.setTargetID=function(a){if(this.$VideoUploader2==null)return;this.$VideoUploader2.setTargetID(a)};d.setHasFileBeenReplaced=function(a){this.$VideoUploader1.has_file_been_replaced=a};d.post=function(a){if(!this.$VideoUploader2)return;this.$VideoUploader2.post(a)};d.getVideoID=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.$VideoUploader2.getVideoID());return this.$VideoUploader3};d.cancel=function(a){a===void 0&&(a=!1);var c=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.cancel(a):a&&c&&b("VideoUploadSession").deleteVideo(c);this.reset()};d.reset=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.getVideoID()),this.$VideoUploader2=null};d.getUploadSession=function(){return this.$VideoUploader2};d.getLoggerData=function(){return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader4:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};d.isPostInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};d.isSessionInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};d.isSessionExist=function(){return!!this.$VideoUploader2};d.getUploadParameters=function(){return this.$VideoUploader1};d.__getSession=function(){return this.$VideoUploader2};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed","post-finished","multimedia-upload-finished"]};d.$VideoUploader8=function(a,b){this.__getEventsForWhichSessionShouldBeSetToNull().includes(a)&&this.reset(),this.__delegateEvent(a,b)};d.__delegateEvent=function(a,b){this.inform(a,b)};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f){e.exports=c;var g=a.URL||a.webkitURL||{};function c(a,c){if(!g.createObjectURL||!b("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(b("WebWorker").isSupported())return new(b("Promise"))(function(d,e){var f=new(b("WebWorker"))(b("CanvasToBlobResource")).setMessageHandler(function(a){d(a),f.terminate()}).setErrorHandler(function(a){e(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:c})});else return b("Promise").resolve(b("CanvasToBlobImpl").getBlob(a,c))}}),null);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d){return new(b("Promise"))(function(e,f){if(a.toBlob)a.toBlob(e,c,d);else{var g=a.toDataURL(c,d);b("promiseDone")(b("dataURLToBlob")(g,c).then(function(a){e(a)},f))}})}}),null);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var d=c.prototype;d.getCanvas=function(){return this.$CanvasVideoThumbnail1};d.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};d.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};d.getData=function(){var a=this,c=document.createElement("canvas"),d=c.getContext("2d"),e=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(f,g){var h=b("EventListener").listen(e,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(c,d),b("promiseDone")(b("canvasToBlob")(c,"image/jpeg").then(f,g))});e.currentTime=a.$CanvasVideoThumbnail3})};d.getDataWithText=function(a,c,d,e,f,g,h,i){var j=this,k=document.createElement("canvas"),l=k.getContext("2d"),m=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(n,o){var p=b("EventListener").listen(m,"seeked",function(){p.remove(),l.fillStyle=h,l.textAlign=i,j.$CanvasVideoThumbnail9(k,l),l=b("VideoThumbnail").addTextToCanvasContext(l,a,c,d,e,f,g,h,i),b("promiseDone")(b("canvasToBlob")(k,"image/jpeg").then(n,o))});m.currentTime=j.$CanvasVideoThumbnail3})};d.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};d.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d,e,f,k,l,m,n,o){f===void 0&&(f="contain");k===void 0&&(k=0);l===void 0&&(l=null);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);return new(b("Promise"))(function(p,q){var r=document.createElement("canvas"),s=[],t=0,u=a.duration-k;o!=null&&(u=Math.min(u,o));var v=u/e,w=null,x,y,z=(u=m)!=null?u:g(l,c),A=(u=n)!=null?u:h(l,d),B=i(l,c),C=j(l,d);x=new(b("VideoFrameBuffer"))(r,a,f,z,A,B,C);r.width=(u=z)!=null?u:c;r.height=(u=A)!=null?u:d;var D=function(){x.updateFrameBuffer();var c=new(b("CanvasVideoThumbnail"))(r,a,k+(t-1)*v,z,A,B,C);s.push(c);(!w||c.getURL().length>w.getURL().length)&&(w=c);F()},E=function(){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)D();else if(b("cr:909281")!==null)var c=b("cr:909281").listen(a,"loadeddata",function(){c.remove(),D()});else a.addEventListener("loadeddata",D,{once:!0})},F=function(){t===0&&(b("cr:909281")!==null?y=b("cr:909281").listen(a,"seeked",E):a.addEventListener("seeked",E)),t<e?(a.currentTime=k+t*v,t++):(b("cr:909281")!==null?y&&y.remove():a.removeEventListener("seeked",E),p({thumbnails:s,selectedThumbnail:w}))};if(a.videoWidth===0||a.videoHeight===0){q();return}F()})}function g(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function h(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function i(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}}),null);
__d("PagesVideoUploader.react",["cx","invariant","Arbiter","AsyncRequest","ChannelConstants","EventListener","FileInput.react","SubscriptionsHandler","VideoUploadConfig","VideoUploadFile","VideoUploadProgressBar","VideoUploader","generateVideoThumbnails","nullthrows","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=a.URL||a.webkitURL||{};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={selectedFileURL:null};d.reset=function(){d.$1.reset(),d.$3=0,d.$4.release(),d.$4=new(b("SubscriptionsHandler"))(),d.$5=!1,d.props.videoUploaderRef&&d.props.videoUploaderRef(null)};d.$6=function(a){var c=a.target,e=b("VideoUploadFile").getExtensionFromFileInput(c);if(!b("VideoUploadConfig").videoExtensions[e]||e==="gif"||!(c instanceof HTMLInputElement)){d.props.onChange&&d.props.onChange(a,!1);return}e=c.files[0];e||h(0,1113);d.reset();var f=d.$1,g=d.$2;d.$4.addSubscriptions(f.subscribe("upload-started",d.$7),f.subscribe("upload-progressed",d.$8),f.subscribe("upload-finished",d.$9),f.subscribe("post-finished",d.$10),f.subscribe("upload-failed",d.$11),f.subscribe("post-failed",d.$12),b("EventListener").listen(g,"loadedmetadata",d.$13),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("video_encode"),d.$14));f=k.createObjectURL(e);d.setState({selectedFileURL:f});d.$1.upload(b("VideoUploadFile").fromFileInput(c));d.props.onChange&&d.props.onChange(a,!0)};d.$7=function(){d.props.onUploadStarted&&d.props.onUploadStarted()};d.$13=function(a){var c=a.target;if(!(c instanceof HTMLVideoElement))return;b("promiseDone")(b("generateVideoThumbnails")(b("nullthrows")(c),d.props.thumbnailWidth,d.props.thumbnailHeight,1,"cover"),function(a){var b=d.props.onVideoMetadataLoaded;b&&b(c,d.reset,a.thumbnails)})};d.$8=function(a,c){a=b("VideoUploadProgressBar").computeProgress(c.start_offset,c.sent_bytes,c.file_size,0,0);var e=d.props.onUploadProgressed;e&&e(Math.round(a),c)};d.$9=function(a,b){a=d.props.onUploadFinished;a&&a(b);a=d.$1;if(!a)return;if(d.props.autoEncode){b=d.props.getCustomPostData;if(b){b=b();a.post(b)}else a.post({})}else{b=d.props.onManualPost;b||h(0,3288);b(a)}};d.$10=function(a,b){d.props.onPostFinished&&d.props.onPostFinished(b),d.$15(b.video_id,b),d.$1.reset()};d.$11=function(a,b){d.props.onUploadFailed&&d.props.onUploadFailed(b),d.reset()};d.$12=function(a,b){d.props.onPostFailed&&d.props.onPostFailed(b),d.reset()};d.$14=function(a,b){a=b.obj.videoID.toString();if(b.obj.stage==="update_video"||b.obj.stage==="finish")d.props.onEncodeFinished&&d.props.onEncodeFinished(a),d.reset();else{d.$3=Math.max(d.$3,b.obj.progress);if(!d.$5){var c=d.props.onEncodeStarted;c&&c(d.$3);d.$5=!0}else d.props.onEncodeProgressed&&d.props.onEncodeProgressed(d.$3);d.$15(a,b)}};d.$1=new(b("VideoUploader"))(c.videoUploaderInitParams);d.$3=0;d.$4=new(b("SubscriptionsHandler"))();d.$5=!1;return d}var d=c.prototype;d.$15=function(a,c){var d=this;new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){b=b.getPayload();b.is_ready&&(d.props.onEncodeFinished&&d.props.onEncodeFinished(a),d.reset())}).send()};d.render=function(){var a=this,c=["video/*","video/mp4"],d=this.props.extraAccept;Array.isArray(d)?c.concat(d):d&&d!==""&&c.push(d);return j.jsxs("div",{children:[j.jsx(b("FileInput.react"),{accept:c,className:"_6hs0",name:"simple_video_uploader",onChange:this.$6,ref:function(b){a.props.fileInputRef&&a.props.fileInputRef(b)},children:j.jsx("a",{className:this.props.labelClassName,href:"#",children:this.props.label})}),j.jsx("video",{className:"hidden_elem",ref:function(b){a.$2=b,a.props.videoPlayerRef&&a.props.videoPlayerRef(b)},src:this.state.selectedFileURL})]})};return c}(j.PureComponent);e.exports=c;c.defaultProps={autoEncode:!0,thumbnailHeight:312,thumbnailWidth:820}}),null);
__d("XPagesCoverPhotoUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_photo_upload/",{page_id:{type:"FBID",required:!0},ref:{type:"String"},index:{type:"Int"},previous_key:{type:"String"},privacy_mutation_token:{type:"String"}})}),null);
__d("XPagesCoverVideoUploaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_video_upload/",{page_id:{type:"FBID",required:!0}})}),null);
__d("PagesCoverSlideshowItemEditMenu.react",["cx","fbt","ActorURI","AsyncRequest","ContextualDialogArrow","CoverSlideshowUtil","CoverVideoUtil","FileInput.react","FileInputUploader","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverSlideshowVideoSettingDialog.react","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesVideoUploader.react","PopoverMenu.react","ReactDOM","ReactXUIMenu","XPagesCoverPhotoUploadAsyncController","XPagesCoverVideoUploaderController","XPhotoBrowserDialogController","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("ReactXUIMenu").Item,k=i||(i=b("react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d,e,f,g,h;for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];return(g=h=a.call.apply(a,[this].concat(j))||this,h.state={isChooseFromExistingVideo:!1,videoData:(c=h.props.item)==null?void 0:c.carouselMediaData.videoData,videoID:(d=h.props.item)==null?void 0:(e=d.carouselMediaData.videoData)==null?void 0:e.videoID,preferredThumbnailID:(f=h.props.item)==null?void 0:f.thumbnailData.thumbnailID,showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!1,thumbnails:[],videoUploaderInitParams:null},h.$6=function(a){h.$1=a},h.$7=function(){var a=b("ActorURI").create(b("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",h.props.pageID).setString("ref","pages_cover_slideshow_ref").setInt("index",h.props.index).setString("previous_key",h.props.mediaID).getURI(),h.props.pageID),c=b("ReactDOM").findDOMNode(h.$1);new(b("FileInputUploader"))(c).setURI(a).setAllowCrossOrigin(!0).send();b("PagesCoverSlideshowActionCreator").onPhotoUploading(h.props.index)},h.$8=function(){b("PagesCoverSlideshowActionCreator").onPhotoRemoved(h.props.index)},h.$11=function(){h.setState({showCoverVideoBrowserDialog:!0})},h.$12=function(){h.setState({showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!1,isChooseFromExistingVideo:!1}),h.$5()},h.$13=function(a){h.setState({videoID:a}),b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(a,!0).then(function(b){if(a!==h.state.videoID)return;var c=h.props,d=c.containerHeight;c=c.containerWidth;var e=b.thumbnails,f=b.offsetType,g=b.offsetValue;b=b.preferredThumbnailData;b=b==null?void 0:b.id;d={videoID:a,containerHeight:d,containerWidth:c,isForSlideshow:!0,offsetType:f,offsetValue:g,shouldCoverVideoLoop:!0,status:"previewing"};h.setState({thumbnails:e,videoData:d,preferredThumbnailID:b,isChooseFromExistingVideo:!0,showCoverVideoBrowserDialog:!1,showCoverVideoSettingDialog:!0})}))},h.$15=function(){h.setState({showCoverVideoSettingDialog:!0})},h.$16=function(){h.setState({showCoverVideoSettingDialog:!1}),h.$5()},h.$17=function(){h.setState(function(a){return a.isChooseFromExistingVideo?{showCoverVideoSettingDialog:!1,showCoverVideoBrowserDialog:!0}:{showCoverVideoSettingDialog:!1}})},h.$18=function(a,c,d){b("PagesCoverSlideshowActionCreator").onVideoItemSettingConfirmed(a,c,d,h.props.mediaID,h.state.isChooseFromExistingVideo),h.setState({videoID:a.videoID,preferredThumbnailID:c,showCoverVideoSettingDialog:!1})},h.$19=function(a){h.$1=a},h.$20=function(a,b){if(b)return;h.$7()},h.$21=function(a,c,d){a=b("PagesCoverVideoActionCreator").validateCoverVideoMetadata(h.props.pageID,a,c,h.props.containerWidth,h.props.containerHeight);if(a){c=d[0].getURL();a=b("CoverSlideshowUtil").randomFixedInteger(15);h.setState({videoID:a});b("PagesCoverDispatcher").dispatch({type:"slideshow_video_start_upload",data:{url:c,videoUploadTempID:a,uploadingIndex:h.props.index}})}},h.$22=function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$23=function(a){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$24=function(a,c){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading",data:{progress:a,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$25=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading",data:{progress:0,uploadingIndex:h.props.index,previousKey:h.state.videoID}})},h.$26=function(a){var c=h.props,d=c.containerHeight;c=c.containerWidth;a={videoID:a,containerHeight:d,containerWidth:c,isForSlideshow:!0,offsetType:0,offsetValue:0,shouldCoverVideoLoop:!0,status:"encoding",progress:100};b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encode_finished",data:{previousKey:h.state.videoID,videoData:a}})},h.$27=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_uploading_failed",data:{}})},h.$28=function(){b("PagesCoverDispatcher").dispatch({type:"slideshow_video_encoding_failed",data:{}})},g)||babelHelpers.assertThisInitialized(h)}var d=c.prototype;d.componentDidMount=function(){this.$4();this.$5();if(this.props.index!==0)return;var a=b("ReactDOM").findDOMNode(this);if(!(a instanceof Element)||!this.props.hasItem)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,2,h._("To choose your slideshow manually, add a new photo or choose an existing one. Slideshow images must be at least 820 pixels wide and 312 pixels tall."),"below")};d.componentDidUpdate=function(){this.$2&&this.props.isEditBarDragging&&this.$2.hidePopover()};d.componentWillUnmount=function(){this.$3&&(this.$3.abort(),delete this.$3)};d.$5=function(){var a=this,c=this.props.item;if((c==null?void 0:c.itemType)!=="video")return;var d=b("CoverSlideshowUtil").getMediaId(c);this.setState({videoID:d});if(!d)return;b("promiseDone")(b("CoverVideoUtil").fetchCoverVideoData(d,!0).then(function(b){var e;if(d!==a.state.videoID)return;e=(e=a.props.item)==null?void 0:e.carouselMediaData.videoData;b=b.thumbnails;a.setState({videoData:e,thumbnails:b});(c==null?void 0:c.isNewUpload)&&a.setState({showCoverVideoSettingDialog:!0})}))};d.$9=function(){var a=this.props,c=a.pageID,d=a.mediaID;a=a.existingMediaIDs;c=b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",23).setEnum("generator",1).setInt("id",c).setString("data",String(d)).setFBIDSet("existing_media_ids",Array.from(a)).getURI();return k.jsx(j,{href:c,rel:"dialog",children:h._("Choose from photos")})};d.$4=function(){var a=this,c=b("ActorURI").create(b("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);this.$3=new(b("AsyncRequest"))(c).setHandler(function(b){a.setState({videoUploaderInitParams:b.payload.video_uploader_params})});this.$3.send()};d.$10=function(){return!this.props.isCoverSlideshowVideoEnabled?null:k.jsx(j,{onclick:this.$11,children:h._("Choose from videos")})};d.$14=function(){var a,b=this.props.isCoverSlideshowVideoEnabled;a=(a=this.props.item)==null?void 0:a.itemType;return!b||a!=="video"||this.state.thumbnails.length===0?null:k.jsx(j,{onclick:this.$15,children:h._("Video Settings")})};d.$29=function(){var a=this.state.videoUploaderInitParams;if(!a)return null;var c=h._("Upload photo\/video");return k.jsx(j,{renderas:"label",children:k.jsx(b("PagesVideoUploader.react"),{"data-testid":void 0,extraAccept:"image/*",fileInputRef:this.$19,label:c,labelClassName:"_2ojv",onChange:this.$20,onEncodeFinished:this.$26,onEncodeProgressed:this.$22,onEncodeStarted:this.$23,onPostFailed:this.$28,onUploadFailed:this.$27,onUploadProgressed:this.$24,onUploadStarted:this.$25,onVideoMetadataLoaded:this.$21,videoUploaderInitParams:a})})};d.$30=function(){return!this.props.isCoverSlideshowVideoEnabled?k.jsx(j,{renderas:"label",children:k.jsx(b("FileInput.react"),{accept:"image/*",display:"inline-block",name:"pages_cover_slideshow_photo_uploader",onChange:this.$7,ref:this.$6,children:k.jsx("a",{className:"_2ojv",href:"#",children:h._("Upload photo")})})}):this.$29()};d.$31=function(){return!this.props.hasItem?null:k.jsx(j,{onClick:this.$8,children:h._("Remove")})};d.$32=function(){return k.jsxs(b("ReactXUIMenu"),{children:[this.$9(),this.$10(),this.$14(),this.$30(),this.$31()]})};d.$33=function(){var a,c=this.state,d=c.videoData,e=c.preferredThumbnailID;c=c.isChooseFromExistingVideo;return!d?null:k.jsx(b("PagesCoverSlideshowVideoSettingDialog.react"),{dialogShown:this.state.showCoverVideoSettingDialog&&this.props.isCoverSlideshowVideoEnabled,isNewUpload:(a=this.props.item)==null?void 0:a.isNewUpload,onCancel:this.$17,onConfirm:this.$18,onToggle:this.$16,pageID:this.props.pageID,preferredThumbnailID:e,shouldShowBackButton:c,shouldShowNewUploadIndicator:(a=this.props.item)==null?void 0:a.isNewUpload,thumbnails:this.state.thumbnails,videoData:d})};d.render=function(){var a=this;return k.jsxs(b("PopoverMenu.react"),{disabled:!this.props.shouldAllowUploadingVideo,layerBehaviors:[b("ContextualDialogArrow")],menu:this.$32(),position:"below",ref:function(b){return a.$2=b},children:[this.props.icon,k.jsx(b("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog&&this.props.isCoverSlideshowVideoEnabled,existingMediaIDs:this.props.existingMediaIDs,isForSlideshow:!0,onConfirm:this.$13,onToggle:this.$12,pageID:this.props.pageID}),this.$33()]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowPlaceholder.react",["cx","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){return i.jsx("div",{className:"_2aou",children:i.jsx("div",{className:"_2ap1",style:{height:a.thumbnailHeight,width:a.thumbnailWidth}})},"placeholder")}}),null);
__d("PagesCoverSlideshowPlaceholderWithPicker.react",["cx","ix","CenteredContainer.react","Image.react","Link.react","PagesCoverSlideshowItemEditMenu.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;var a=this.props.shouldAllowUploadingVideo?h("520746"):h("483131");a=j.jsx(b("CenteredContainer.react"),{className:"_30i-"+(this.props.shouldAllowUploadingVideo?"":" _6hs1"),style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:!0,children:j.jsx(b("Image.react"),{src:a})});return j.jsx(b("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},this.props,{existingMediaIDs:this.props.existingMediaIDs,hasItem:!1,icon:a,index:this.props.index,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.props.isEditBarDragging,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo}))};d.$2=function(){return!this.props.shouldShowLoadingScreenOnPickerPlaceholder?null:j.jsx(b("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:!0,children:j.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})};d.render=function(){return j.jsx("div",{className:"_2aou",children:j.jsxs(b("Link.react"),{children:[this.$1(),this.$2()]})},"picker")};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowThumbnailItem.react",["cx","BackgroundImage.react","Link.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,d.props.index)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_2aou",children:i.jsx(b("Link.react"),{onClick:this.$1,children:i.jsx(b("BackgroundImage.react"),{alt:"pages_cover_photo_thumbnail",backgroundSize:"cover",className:this.props.isCurrent?"_4bou":"",height:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_HEIGHT_IN_SETTINGS:this.props.thumbnailHeight,src:this.props.thumbnailURI,width:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_WIDTH_IN_SETTINGS:this.props.thumbnailWidth})})},this.props.thumbnailURI)};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowEditBar.react",["cx","fbt","invariant","ix","CoverSlideshowUtil","FBDraggableBar.react","FBDraggableItem.react","FBToggleSwitch.react","Focus","Image.react","PagesCoverDimension","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","PagesCoverSlideshowPlaceholder.react","PagesCoverSlideshowPlaceholderWithPicker.react","PagesCoverSlideshowThumbnailItem.react","Tooltip.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isEditBarDragged:!1},d.$1=function(a){if(!a)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,1,h._("You can rearrange the order of your slideshow by dragging the photos to the position where you want them."),"below");b("Focus").set(a)},d.$2=function(a){if(!a)return;b("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(a,4,h._("To help get you started, we've chosen photos based on what performs well. If you let Facebook choose your slideshow, the photos may be updated based on your Page activity."),"left")},d.$3=function(a){a||a===0||i(0,3804),b("PagesCoverSlideshowActionCreator").changeCurrentIndex(d.props.pageID,a),d.setState({isEditBarDragged:!0})},d.$4=function(a){b("PagesCoverSlideshowActionCreator").toggleContentOptimizer(d.props.pageID,a)},d.$5=function(a,c){b("PagesCoverSlideshowActionCreator").reorderSlideshowItems(a,c,d.props.pageID),d.setState({isEditBarDragged:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$6=function(){var a=this.props.shouldAllowUploadingVideo?j("477824"):j("495298");return l.jsx("div",{className:(this.props.shouldAllowUploadingVideo?"_6h3_":"")+(this.props.shouldAllowUploadingVideo?"":" _6h2n"),children:l.jsx(b("Image.react"),{src:a})})};d.$7=function(a,c,d){var e=b("CoverSlideshowUtil").getMediaId(a);if(!e)return null;var f=a.thumbnailData,g=this.$6();return l.jsxs(b("FBDraggableItem.react"),{index:c,onGrab:this.$3,children:[l.jsx(b("PagesCoverSlideshowThumbnailItem.react"),babelHelpers["extends"]({index:c,isCurrent:c===this.props.currentIndex,isInSettingsPage:this.props.isInSettingsPage,pageID:this.props.pageID},f)),l.jsx("div",{className:"_37bb",children:l.jsx(b("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},f,{containerHeight:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:this.props.containerWidth,existingMediaIDs:d,hasItem:!0,icon:g,index:c,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.state.isEditBarDragged,item:a,mediaID:e,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo}))})]},e)};d.render=function(){var a=this;if(!this.props.isEditMode)return null;var c=b("CoverSlideshowUtil").getMediaIds(this.props.items),d=this.props.items.slice(0,5).map(function(d,b){return a.$7(d,b,c)}).filter(function(a){return!!a}),e=[],f=5-d.length;f>0&&e.push(l.jsx(b("PagesCoverSlideshowPlaceholderWithPicker.react"),{containerHeight:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_HEIGHT_IN_SETTINGS:this.props.containerHeight,containerWidth:this.props.isInSettingsPage?b("PagesCoverDimension").COVER_WIDTH_IN_SETTINGS:this.props.containerWidth,existingMediaIDs:c,index:d.length,isCoverSlideshowVideoEnabled:this.props.isCoverSlideshowVideoEnabled,isEditBarDragging:this.state.isEditBarDragged,pageID:this.props.pageID,shouldAllowUploadingVideo:this.props.shouldAllowUploadingVideo,shouldShowLoadingScreenOnPickerPlaceholder:this.props.shouldShowLoadingScreenOnPickerPlaceholder,thumbnailHeight:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_HEIGHT_IN_SETTINGS:this.props.thumbnailHeight,thumbnailWidth:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_WIDTH_IN_SETTINGS:this.props.thumbnailWidth},"pages_cover_slideshow_picker"));var g=d.length+e.length;while(e.length<f)e.push(l.jsx(b("PagesCoverSlideshowPlaceholder.react"),{thumbnailHeight:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_HEIGHT_IN_SETTINGS:this.props.thumbnailHeight,thumbnailWidth:this.props.isInSettingsPage?b("PagesCoverDimension").THUMBNAIL_WIDTH_IN_SETTINGS:this.props.thumbnailWidth},"pages_cover_slideshow_placeholder"+g)),g++;g=null;this.props.shouldShowEditSlideshowTooltip&&(g=l.jsx(b("Tooltip.react"),{className:"_69v-",tooltip:h._("Your cover is from the parent Page. You can also create your own."),children:l.jsx("div",{className:"_69w3",children:l.jsx(b("Image.react"),{source:j("360715")})})}));return l.jsxs("div",{ref:this.$1,children:[l.jsxs("div",{className:"_3rgb",children:[h._("Choose photos that you'd like to feature in your cover slideshow"),g,l.jsxs("span",{className:"_3rgc",ref:this.$2,children:[l.jsx("span",{className:"_3-8s",children:h._("Let Facebook choose photos")}),l.jsx(b("FBToggleSwitch.react"),{animate:!0,checked:this.props.isContentOptimizerOn,onToggle:this.$4,tooltip:h._("Facebook can select photos for you based on what performs well. These photos may update based on your Page activity. To create your own slideshow, add or edit photos.")})]})]}),l.jsxs("div",{className:"_3rgd",children:[l.jsx(b("FBDraggableBar.react"),{onReorder:this.$5,children:d}),e]})]})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesCoverSlideshowNUXTour.react",["AdsBlueTipTour.react","BasicFBNux","LayerFadeOnShow","prop-types","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("BasicFBNux").onDismiss(5385)},d.$2=function(a){if(!a)return;b("BasicFBNux").onView(5385)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.steps.length===0||!this.props.shown)return null;var a=this.props.steps.map(function(a){return{content:a.description,context:a.context,position:a.position}});return h.jsx(b("AdsBlueTipTour.react"),{behaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},highlightContext:!1,onComplete:this.$1,onXOut:this.$1,ref:this.$2,steps:a})};return c}(h.PureComponent);e.exports=a;a.propTypes={shown:b("prop-types").bool.isRequired,steps:b("prop-types").array.isRequired}}),null);
__d("PagesCoverSlideshow.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowCarousel.react","PagesCoverSlideshowEditBar.react","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverSlideshowNUXTour.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.hasPendingChanges?b("PagesCoverSlideshowActionCreator").confirmCancel(d.props.shouldAllowUploadingVideo):b("PagesCoverSlideshowActionCreator").onEditingCancelled()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){};d.render=function(){return!this.props.isCoverSlideshowEnabled?null:i.jsxs("div",{children:[i.jsxs("div",{className:"_626c",children:[i.jsx(b("PagesCoverSlideshowEditBar.react"),babelHelpers["extends"]({},this.props)),i.jsx(b("PagesCoverSlideshowCarousel.react"),babelHelpers["extends"]({},this.props)),i.jsx(b("PagesCoverSlideshowNUXTour.react"),{shown:this.props.shouldShowNUXTour&&this.props.isEditMode,steps:this.props.nuxTourSteps}),i.jsx(b("PagesCoverSlideshowItemLoadingScreen.react"),{shown:this.props.showLoadingScreen})]}),i.jsx("div",{className:this.props.isEditMode?"_i5t":"",onClick:this.$1,role:"link",tabIndex:0})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoPlayerDisturbingThumbnail.react",["cx","fbt","XUIText.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsx("div",{className:b("joinClasses")("_20m9",this.props.className),children:j.jsxs("div",{className:"_1cqx",children:[j.jsxs(b("XUIText.react"),{className:"_2ps6 _jxj",display:"block",size:"xlarge_DEPRECATED",weight:"bold",children:[j.jsx("span",{className:"_20ma",children:h._("Warning")}),"-",h._("Graphic Video")]}),j.jsx(b("XUIText.react"),{display:"block",size:"header4",children:h._("Videos that contain graphic content can shock, offend and upset.")}),j.jsx(b("XUIText.react"),{display:"block",size:"header4",children:h._("Are you sure you want to see this?")})]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComponentCover.react",["cx","Image.react","ReactDOM","VideoComponent","VideoComponentCoverQuery.graphql","VideoCover","VideoPlayerDisturbingThumbnail.react","VideoPlayerExperiments","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){var b=this.videoCover;this.props.clickToSnowLift&&b&&this.props.video&&this.props.video!==a.video&&b.setSnowLiftURI(this.props.video.permalinkUrl)};d.render=function(){return this.props.video&&this.props.video.isDisturbing?j.jsx(b("VideoPlayerDisturbingThumbnail.react"),{ref:"root",className:"_1445"}):j.jsx("div",{ref:"root",className:b("joinClasses")(this.props.className,"_m54"+(b("VideoPlayerExperiments").useBlurredBars?"":" _5z3s")+" _1jto"),children:this.renderCover()})};d.renderCover=function(){var a=this.props.video;a=a?a.image.uri:null;return j.jsx(b("Image.react"),{ref:"img",className:"_1445"+(this.$1()?" _4ndd":"")+(this.$1()?" _2sy9":"")+" _3htz",src:a})};d.enable=function(a){this.videoCover=new(b("VideoCover"))(b("ReactDOM").findDOMNode(this.refs.root),[b("ReactDOM").findDOMNode(this.refs.img)],null,{showAfterFallback:this.props.showAfterFallback,hiddenAfterFinish:this.props.hiddenAfterFinish,showWhileBuffering:this.props.showWhileBuffering}),this.videoCover.enable(a)};d.disable=function(){this.videoCover&&this.videoCover.disable(),this.videoCover=null};d.$1=function(){return!1};return c}(j.Component);a.defaultProps={clickToSnowLift:!1,hiddenAfterFinish:!1,hideControlsOnAutoplay:!1,showAfterFallback:!1,showWhileBuffering:!1,useElementDimension:!1,resizeMode:"auto"};c=b("VideoComponent").createContainer(a,{videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentCoverQuery.graphql")});e.exports=c}),null);
__d("SphericalVideoFallback",["cx","CSS"],(function(a,b,c,d,e,f,g){f.setup=a;function a(a,c){var d=c.fallbackUriList,e=c.fallbackType,f=function(){a.emit("VideoPlayerFallbackEvents/enter");var c=a.getLastError();if(c&&c.error!=="SPHERICAL_SETUP_FAILED"&&c.error!=="SPHERICAL_RENDER_ERROR")return;var f=a.addListener("stateChange",function(){a.isState("playing")&&(a.logEvent("spherical_fallback_entered",{spherical_fallback_type:e}),f.remove())});a.setFallbackSources(d);b("CSS").removeClass(a.getRootNode(),"_3-n5");a.reset();a.emit("VideoPlayerFallbackEvents/recover")};if(a.isState("fallback"))f();else var g=a.addListener("stateChange",function(){a.isState("fallback")&&(f(),g.remove())})}}),null);
__d("VideoErrorOverlay",["SphericalVideoFallback"],(function(a,b,c,d,e,f){function g(a,b){"textContent"in a&&(a.textContent=b),a.innerText=b}function h(a){if("textContent"in a)return a.textContent;return!a.innerText?"":a.innerText}a=function(){function a(a,c,d,e,f){var g=this;this.$1=c;this.$2=d;this.$3=e;a.registerOption("VideoErrorOverlay","title",function(){return g.getTitle()},function(a){return g.setTitle(a)});a.registerOption("VideoErrorOverlay","message",function(){return g.getMessage()},function(a){return g.setMessage(a)});a.registerOption("VideoErrorOverlay","linkURL",function(){return g.getLinkURL()},function(a){return g.setLinkURL(a)});a.registerOption("VideoErrorOverlay","linkTitle",function(){return g.getLinkTitle()},function(a){return g.setLinkTitle(a)});a.registerOption("VideoErrorOverlay","available",function(){return!0});f&&b("SphericalVideoFallback").setup(a,f)}var c=a.prototype;c.getTitle=function(){return this.$1?h(this.$1):""};c.setTitle=function(a){this.$1&&g(this.$1,a)};c.getMessage=function(){return h(this.$2)};c.setMessage=function(a){g(this.$2,a)};c.getLinkURL=function(){return this.$3.href};c.setLinkURL=function(a){this.$3.href=a};c.getLinkTitle=function(){return h(this.$3)};c.setLinkTitle=function(a){g(this.$3,a)};return a}();e.exports=a}),null);
__d("VideoComponentErrorOverlay.react",["cx","fbt","Link.react","ReactDOM","VideoComponent","VideoErrorOverlay","VideoPlayerReactConfig","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){new(b("VideoErrorOverlay"))(a,b("ReactDOM").findDOMNode(this.refs.title),b("ReactDOM").findDOMNode(this.refs.msg),b("ReactDOM").findDOMNode(this.refs.link))};d.disable=function(){};d.render=function(){var a=b("VideoPlayerReactConfig").outdatedBrowser,c=a?h._("To watch the video, please upgrade your web browser."):null,d=j.jsx("div",{ref:"title",className:"_4ctr",children:h._("Something went wrong")});c=j.jsxs("div",{ref:"msg",children:[h._("Sorry, we're having trouble with playing this video."),c]});a=a?"/unsupportedbrowser":"https://www.facebook.com/help/396404120401278/list";a=j.jsx(b("Link.react"),{ref:"link",className:"_4cts",href:a,children:h._("Learn more")});return j.jsx("div",{className:"_4ctp _1jto _3htz",children:j.jsxs("div",{className:"_4ctq",children:[d,c,j.jsx("div",{className:"_5hdy",children:a})]})})};return c}(j.Component);c=b("VideoComponent").createContainer(a);e.exports=c}),null);
__d("VideoVolumeStorage",["CacheStorage"],(function(a,b,c,d,e,f){var g="videos_persistent_volume_";a=function(){function a(a){var c=this;this.$3=a;this.$2=new(b("CacheStorage"))("localstorage",g);a.runOnApiReady(function(){return c.$4()});a.addListener("changeVolume",function(a){return c.$5(a.volume)})}var c=a.prototype;c.$4=function(){this.$1=this.$3.getVolume(),this.$3.setVolume(this.$6())};c.$5=function(a){this.$2&&this.$2.set("volume",a,!0)};c.$6=function(){return this.$2?this.$2.get("volume",this.$1):this.$1};return a}();e.exports=a}),null);
__d("VideoComponentVolumeStorage.react",["VideoComponent","VideoPlayerSnowliftReactExperiments","VideoVolumeStorage","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){new(b("VideoVolumeStorage"))(a)};d.disable=function(){};d.render=function(){return null};return c}(a.Component);d=b("VideoComponent").createContainer(c,{suppressMount:function(){return!b("VideoPlayerSnowliftReactExperiments").videoCanStoreVolumeLevel}});e.exports=d}),null);
__d("VideoComponentWithFallbackMode.react",["VideoComponent","VideoWithFallbackMode","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){new(b("VideoWithFallbackMode"))(a,{fallbackTimeoutMs:this.props.fallbackTimeoutMs})};d.disable=function(){};d.render=function(){return null};return c}(a.Component);c.defaultProps={fallbackTimeoutMs:1e4};d=b("VideoComponent").createContainer(c);e.exports=d}),null);
__d("PagesLiveCoverVideo.react",["VideoComponentContextMenu.react","VideoComponentCover.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentErrorOverlay.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentPlayButton.react","VideoComponentStreamingReactionTray.react","VideoComponentVolumeStorage.react","VideoComponentWithFallbackMode.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("VideoDataContainer.react"),{videoID:this.props.videoID,children:h.jsxs(b("VideoPlayer.react"),{autoplay:!0,height:this.props.renderedHeight,playerOrigin:"intern",subOrigin:"not_specified_please_fix",startMuted:!0,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,children:[h.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!0}),h.jsx(b("VideoComponentWithLiveBroadcast.react"),{}),h.jsx(b("VideoComponentPlayButton.react"),{}),h.jsx(b("VideoComponentCover.react"),{}),h.jsx(b("VideoComponentLiveVideoIndicator.react"),{}),h.jsx(b("VideoComponentDebugOverlay.react"),{}),h.jsx(b("VideoComponentContextMenu.react"),{}),h.jsx(b("VideoComponentLiveInterruptedScreen.react"),{}),h.jsx(b("VideoComponentLiveEndScreen.react"),{}),h.jsx(b("VideoComponentStreamingReactionTray.react"),{}),h.jsx(b("VideoComponentVolumeStorage.react"),{}),h.jsx(b("VideoComponentWithFallbackMode.react"),{}),h.jsx(b("VideoComponentErrorOverlay.react"),{})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("ShowsCreationLoggerUtils",["ShowCreationFlowTypedLogger"],(function(a,b,c,d,e,f){"use strict";f.log=a;f.logError=c;function a(a,c,d,e){d=new(b("ShowCreationFlowTypedLogger"))().setFlowSource(d).setStep(a).setPageID(c);e&&(d=d.updateExtraData(e));d.log()}function c(a,c,d,e,f){e=new(b("ShowCreationFlowTypedLogger"))().setFlowSource(e).setStep(a).setPageID(c).setError(d);f&&(e=e.updateExtraData(f));e.log()}}),null);
__d("ShowmarkErrorDialog.react",["fbt","ix","Image.react","Layout.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("Layout.react").Column,l=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.hide=function(){c.setState({shown:!1})};c.state={shown:!1};return c}var d=c.prototype;d.$1=function(){return this.props.validationFailure==="transparent_and_white"?g._("A showmark must be an all-white graphic on a transparent background."):null};d.$2=function(){return this.props.validationFailure==="transparent_and_white"?g._("Your showmark can't be added in this format"):null};d.render=function(){return j.jsxs(b("XUIDialog.react"),{shown:this.state.shown,hideOnEscape:!1,layerHideOnBlur:!1,width:l,children:[j.jsx(b("XUIDialogTitle.react"),{children:j.jsxs(b("Layout.react"),{children:[j.jsx(k,{children:j.jsx(b("Image.react"),{className:"_3-90",src:h("26339")})}),j.jsx(k,{children:this.$2()})]})}),j.jsxs(b("XUIDialogBody.react"),{children:[this.$1(),j.jsx("div",{display:"block",className:"_3-8x",children:g._("Make sure that your showmark meets these requirements and try again.")})]}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIDialogButton.react"),{label:g._("OK"),onClick:this.hide})})]})};d.show=function(){this.setState({shown:!0})};return c}(j.Component);e.exports=a}),null);
__d("ShowmarkTemplate",[],(function(a,b,c,d,e,f){a=Object.freeze({RALEWAY:"RALEWAY",ASAPCONDENSED:"ASAPCONDENSED",MONTSERRAT:"MONTSERRAT",NOTOSERIF:"NOTOSERIF",ROBOTOSLAB:"ROBOTOSLAB",FREDOKAONE:"FREDOKAONE"});e.exports=a}),null);
__d("ShowmarkTemplateFontConfig",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ASAPCONDENSED:"Asap Condensed Medium",FREDOKAONE:"Fredoka One Regular",MONTSERRAT:"Montserrat Regular",NOTOSERIF:"Noto Serif Bold",RALEWAY:"Raleway ExtraBold",ROBOTOSLAB:"Roboto Slab Bold"});e.exports=a}),null);
__d("VideoShowsLogoFileInput.react",["FileInput.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("span",{"data-testid":void 0,children:h.jsx(b("FileInput.react"),{accept:"image/png",multiple:!1,onChange:this.props.onFileChange,containerClassName:this.props.className,children:this.props.children})})};return c}(h.Component);e.exports=a}),null);
__d("XShowsLogoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/showpages/logo/upload/",{page_id:{type:"FBID"},crop_window:{type:"IntVector"},file_data_url:{type:"String"}})}),null);
__d("VideoShowsLogoUploadDialog.react",["cssVar","cx","fbt","ix","ActorURI","AdsXUIProgressBar.react","BasicVector","DOM","FileInputUploader","Grid.react","Image.react","Layout.react","LeftRight.react","Link.react","PhotoZoomCropDimensions","PhotoZoomCropImagePreview.react","ReactDOM","ShowCreationFlowTypedLogger","ShowmarkErrorDialog.react","ShowmarkTemplate","ShowmarkTemplateFontConfig","ShowsConfig","SimpleNUXMessage","VideoShowsLogoFileInput.react","XShowsLogoUploadController","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","XUITextInput.react","canvasToBlob","promiseDone","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||b("react"),m=b("Grid.react").GridItem,n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=900,q=270,r=84,s=144,t=45,u=24,v=3,w=720,x=225,y=215,z=110;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={file:null,fileInput:null,fileDataURL:null,uploadToServerState:null,uploadState:null,url:d.props.existingLogoUrl,cropDims:null,cropWindow:null,useCreationTool:!1,templateSelected:null,templateText:d.props.pageName.substr(0,u),creationToolNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage("1908984722461582")},d.$2=function(a){d.setState({uploadState:"loading"})},d.$3=function(a){var c=a.currentTarget.result,e=new Image();e.src=c;e.onload=function(){var a=document.createElement("canvas");a.width=e.width;a.height=e.height;a=a.getContext("2d");if(a==void 0)return;a.drawImage(e,0,0);a=a.getImageData(0,0,e.width,e.height);a=a.data;var f=0,g=0,h=b("ShowsConfig").countThreshold,i=e.width,j=0,k=e.height,m=0;for(var n=0;n<e.height;n++)for(var o=0;o<e.width;o++){var p=e.width*n+o;p=4*p;if(a[p+3]!=0){f++;o<i&&(i=o);o>j&&(j=o);n<k&&(k=n);n>m&&(m=n);var s=a[p],t=a[p+1];p=a[p+2];s=.2126*s+.7152*t+.0722*p;s>=250&&g++}}if(f===e.width*e.height||f*h>=g*100){f===e.width*e.height?d.$4("showmark_invalid",new Map([["reason","Not transparent"]])):d.$4("showmark_invalid",new Map([["reason","Not white"],["non transparent pixels",f],["whitePixels",g]]));t=l.jsx(b("ShowmarkErrorDialog.react"),{validationFailure:"transparent_and_white"});t=b("ReactDOM").render(t,b("DOM").create("div"));t.show();d.setState({uploadState:null,url:null});return}p=null;s=null;(i!==0||j!==e.width-1||k!==0||m!==e.height-1)&&(s=[i,k,j,m],p=new(b("PhotoZoomCropDimensions"))(new(b("BasicVector"))(e.width,e.height)),p.setCenter((i+j)/e.width/2,(k+m)/e.height/2),p=d.$5(p,s,q,r),d.$4("showmark_upload_cropped",{cropWindow:JSON.stringify(s)}));d.setState({uploadState:"success",url:c,cropDims:p,cropWindow:s})}},d.$6=function(a){d.setState({uploadState:"failed"})},d.$19=function(){d.$4("showmark_creation_toggle",new Map([["is_creation",!d.state.useCreationTool]]));var a=!d.state.useCreationTool;a&&d.$20();d.setState({useCreationTool:a,templateSelected:a?"RALEWAY":null})},d.$24=function(a){a=a.currentTarget.value;a.length<=u&&d.setState({templateText:a},d.$23)},d.$23=function(){var a=d.state,c=a.templateSelected;a=a.templateText;if(!c||a.length<v||a.length>u)return;var e=b("DOM").create("canvas");e.width=w;e.height=x;var f=e.getContext("2d");f.fillStyle="#FFFFFF";f.textAlign="left";f.textBaseline="bottom";var g=y;f=d.$25(f,g,c);while(f.measureText(a).width>w&&g>z)g--,f=d.$25(f,g,c);if(f.measureText(a).width<=w)f.fillText(a,0,x);else{c=a.split(" ");var h="";for(var c=c,i=Array.isArray(c),j=0,c=i?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=c.length)break;k=c[j++]}else{j=c.next();if(j.done)break;k=j.value}k=k;if(f.measureText(h+k).width<=w)h+=k+" ";else break}h=h.trim();k=a.slice(h.length).trim();if(f.measureText(k).width>w){while(f.measureText(h+a[h.length]).width<=w)h+=a[h.length];k=a.slice(h.length).trim();while(f.measureText(k).width>w)k=k.slice(0,-1)}f.fillText(h,0,x-g);f.fillText(k,0,x)}b("promiseDone")(b("canvasToBlob")(e,"image/png").then(function(a){var c=new FileReader();c.onload=function(c){d.$3(c),d.setState({file:new File([a],"temp-showmark.png"),fileInput:b("ReactDOM").findDOMNode(d.refs.showmarkCreationFileInput),fileDataURL:e.toDataURL()})};c.onprogress=d.$2;c.onerror=d.$6;c.readAsDataURL(a)}))},d.$20=function(){b("SimpleNUXMessage").markMessageSeenByUser("1908984722461582"),d.setState({creationToolNuxShown:!1})},d.$28=function(){d.$4("showmark_upload_clicked",{cropWindow:JSON.stringify(d.state.cropWindow)});d.state.useCreationTool&&d.$4("showmark_creation_upload",new Map([["template",d.state.templateSelected],["template_text",d.state.templateText]]));if(d.state.fileInput){d.setState({uploadToServerState:"loading"});var a=b("XShowsLogoUploadController").getURIBuilder().setFBID("page_id",d.props.pageID);d.state.cropWindow&&a.setIntVector("crop_window",d.state.cropWindow);a=b("ActorURI").create(a.getURI(),d.props.pageID);a=new(b("FileInputUploader"))(d.state.fileInput).setURI(a).setFiles({file:d.state.file}).setData({file_data_url:d.state.fileDataURL});a.subscribe("success",function(a,b){d.$4("showmark_upload_success",new Map([["photo_id",b.photoID]])),d.setState({uploadToServerState:"success"}),d.props.onSuccess()});a.subscribe("failure",function(a,b){d.$4("showmark_upload_failed"),d.setState({uploadToServerState:"failed"})});a.send()}},d.$29=function(){d.$4("showmark_dialog_closed"),d.props.hideDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){a=a.files;return!a||!a[0]?null:a[0]};d.$7=function(a,b){a.preventDefault();a=a.target;var c=this.$1(a);this.setState({fileInput:a,file:c});if(!c)return;a=new FileReader();a.onload=this.$3;a.onprogress=this.$2;a.onerror=this.$6;a.readAsDataURL(c);b?this.$4("showmark_file_selected"):this.$4("showmark_file_changed")};d.$8=function(){return i._("Add your showmark")};d.$9=function(){return i._("Your showmark will appear as an overlay in the corner of your videos when they aren't playing. Your showmark should represent your show rather than specific episodes.")};d.$4=function(a,c){a=new(b("ShowCreationFlowTypedLogger"))().setFlowSource(this.props.showCreationFlowSource).setStep(a).setPageID(this.props.pageID);c&&(a=a.updateExtraData(c));a.log()};d.$10=function(){return l.jsxs("div",{className:"_2gzs",children:[l.jsx(b("XUIText.react"),{display:"block",headingLevel:1,weight:"bold",className:"_2gzt",children:this.$8()}),l.jsx(b("XUIText.react"),{display:"block",className:"_2gzu",children:this.$9()})]})};d.$5=function(a,b,c,d){c=Math.min(Math.min(c/(b[2]-b[0]+1),d/(b[3]-b[1]+1)),1);d=a.clone();d.setSize((b[2]-b[0]+1)*c,(b[3]-b[1]+1)*c);d.setZoom(c);return d};d.$11=function(){var a=this.state,c=a.cropWindow,d=a.cropDims;a=a.url;d&&c&&(d=this.$5(d,c,s,t));c=l.jsx("div",{className:"_16wy",children:d?l.jsx(b("PhotoZoomCropImagePreview.react"),{dimensions:d,size:d.getSize(),src:String(a),className:"_16wz"}):l.jsx(b("Image.react"),{src:a,className:"_16wz"})});return l.jsxs("div",{className:"_2gzw",children:[l.jsx(b("XUIText.react"),{display:"block",weight:"bold",className:"_2gzz",children:i._("Preview showmark")}),l.jsx(b("XUICard.react"),{background:"base-wash",className:"_2gz-",children:l.jsxs("div",{className:"_16w_",children:[l.jsxs(b("Layout.react"),{className:"_16x1",children:[l.jsx(n,{children:this.props.pageProfilePic?l.jsx(b("Image.react"),{src:this.props.pageProfilePic,className:"_4kh1"}):l.jsx("div",{className:"_4kh1"})}),l.jsxs(o,{children:[l.jsx(b("XUIText.react"),{weight:"bold",children:this.props.pageName}),l.jsxs(b("Layout.react"),{children:[l.jsx(n,{children:l.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:i._("2 hours ago")})}),l.jsx(n,{className:"_3-8r",children:l.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:"\xb7"})}),l.jsx(n,{children:l.jsx(b("Image.react"),{className:"_4kh3",src:j("124639")})})]})]}),l.jsx(n,{children:l.jsx(b("Image.react"),{src:j("125398")})})]}),l.jsx("div",{className:"_16x2"+(this.state.url?" _3d6w":""),children:this.state.url?c:l.jsx(b("XUIText.react"),{className:"_16wy",children:i._("Showmark").toString()})}),l.jsx("div",{className:"_16x5",children:l.jsxs(b("Layout.react"),{children:[l.jsxs(o,{children:[l.jsx(b("XUIGrayText.react"),{className:"_16x6",display:"block",shade:"light",size:"meta1",children:i._("LATEST EPISODE")}),l.jsx(b("XUIText.react"),{display:"block",weight:"bold",className:"_16x8",children:i._("Episode title")})]}),l.jsx(n,{children:l.jsx(b("XUIButton.react"),{className:"_16x9",image:l.jsx(b("Image.react"),{src:j("121816")}),label:i._("Watchlist"),use:"default",href:"#"})})]})})]})}),l.jsx("div",{className:"_2gz_",children:this.$12()})]})};d.$13=function(){return l.jsxs("div",{className:"_2g-0",children:[this.state.uploadToServerState==="loading"?l.jsx("div",{className:"_26of",children:l.jsx(b("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})}):null,l.jsxs(b("LeftRight.react"),{children:[this.$14(),this.$11()]})]})};d.$15=function(){var a=this;return l.jsx(b("VideoShowsLogoFileInput.react"),{onFileChange:function(b){return a.$7(b,!0)},ref:"blankLogofileInput",children:l.jsx("a",{href:"#",children:l.jsxs("div",{className:"_45m5",children:[l.jsx(b("Image.react"),{className:"_3-94",src:j("124971")}),l.jsx(b("XUIGrayText.react"),{shade:"medium",size:"header3",className:"_37a1",children:i._("Upload or drag image")})]})})})};d.$16=function(){var a=this,c=l.jsx(b("VideoShowsLogoFileInput.react"),{onFileChange:function(b){return a.$7(b,!1)},ref:"changeLogofileInput",children:l.jsx(b("XUIButton.react"),{className:"_3-8y",image:l.jsx(b("Image.react"),{src:j("121748")}),label:i._("Change Showmark"),use:"default",href:"#"})});this.state.cropDims&&(c=l.jsxs(b("Layout.react"),{className:"_3-8o",children:[l.jsx(n,{children:l.jsx(b("Image.react"),{src:j("116731")})}),l.jsxs(o,{className:"_18p2",children:[l.jsx(b("XUIText.react"),{weight:"bold",display:"block",children:i._("Showmark cropped")}),l.jsx(b("XUIText.react"),{display:"block",children:i._("To make sure that your showmark is displayed properly, your graphic has been automatically cropped to remove any extra padding around the sides.")}),l.jsxs("div",{children:[l.jsx(b("XUIButton.react"),{className:"_3-8y _3-90",image:l.jsx(b("Image.react"),{src:j("120765")}),label:i._("Revert"),use:"default",href:"#",onClick:function(){a.$4("showmark_upload_crop_reverted"),a.setState({cropDims:null,cropWindow:null})}}),c]})]})]}));var d=this.state,e=d.cropDims;d=d.url;return l.jsxs("div",{children:[l.jsx("div",{className:"_45m6",children:e?l.jsx(b("PhotoZoomCropImagePreview.react"),{className:"_18p3",dimensions:e,size:e.getSize(),src:String(d)}):l.jsx(b("Image.react"),{className:"_45m9",src:d})}),c]})};d.$17=function(){return l.jsx(b("AdsXUIProgressBar.react"),{className:"_45mb","data-testid":void 0,striped:!0,value:100})};d.$18=function(){return l.jsxs("ul",{className:"_2g-3",children:[l.jsx("li",{className:"_2g-4",children:i._("At least 300 pixels tall")}),l.jsx("li",{className:"_2g-4",children:i._("All-white graphic on a transparent background")}),l.jsx("li",{className:"_2g-4",children:i._("PNG files only")}),l.jsxs("li",{className:"_2g-4",children:[i._("Tight cropping around the edges"),l.jsx("div",{className:"_2g-5",children:l.jsx("div",{className:"_2g-6",children:i._("Showmark").toString()})})]})]})};d.$21=function(){return l.jsxs("div",{children:[l.jsx(b("XUIText.react"),{className:"_2g-8",children:i._("ADD A SHOWMARK")}),this.state.url?this.$16():this.$15(),this.state.uploadState==="loading"?this.$17():null]})};d.$22=function(a){this.$4("showmark_creation_template_selected",new Map([["template",a]])),this.setState({templateSelected:a},this.$23)};d.$25=function(a,c,d){a.font=c+"px "+b("ShowmarkTemplateFontConfig")[d];return a};d.componentDidUpdate=function(a,b){this.state.useCreationTool&&!b.useCreationTool&&this.$22("RALEWAY")};d.$26=function(a){var c=this;return l.jsx("div",{className:"_3h-p"+(a===this.state.templateSelected?" _3h-q":""),onClick:function(){return c.$22(a)},role:"radio","aria-checked":a===this.state.templateSelected,tabIndex:Object.values(b("ShowmarkTemplate")).indexOf(a),children:l.jsx("span",{style:{fontFamily:b("ShowmarkTemplateFontConfig")[a]},className:"_3h-r",children:"Abc"})})};d.$27=function(){var a=this,c=u-this.state.templateText.length;return l.jsxs("div",{className:"_2put",children:[l.jsx(b("XUIText.react"),{className:"_2g-8",children:i._("SELECT A SHOWMARK TEMPLATE")}),l.jsx(b("Grid.react"),{cols:3,spacing:"pas",className:"_3-8o",children:Object.keys(b("ShowmarkTemplate")).map(function(b){return l.jsx(m,{children:a.$26(b)},b)})}),l.jsx(b("XUITextInput.react"),{className:"_2puu",value:this.state.templateText,onChange:this.$24}),l.jsx(b("XUIText.react"),{size:"meta1",display:"block",className:"_3-8x"+(c<=0||this.state.templateText.length<v?" _2puw":""),children:this.state.templateText.length>=v?i._({"*":"({number} characters remaining)","_1":"(1 character remaining)"},[i._plural(c,"number")]):i._("Showmark must be more than three characters")}),l.jsx(b("VideoShowsLogoFileInput.react"),{ref:"showmarkCreationFileInput",onFileChange:function(){},className:"hidden_elem",children:l.jsx("a",{href:"#"})})]})};d.$14=function(){var a=this,c=l.jsx(b("Link.react"),{href:"#",onClick:this.$19,className:"_33xa",ref:"creationToolToggleLink",children:this.state.useCreationTool?i._("Do you want to add your own showmark?"):i._("Don't have a showmark? Add a default showmark.")}),d=l.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.creationToolToggleLink},position:"below",shown:this.state.creationToolNuxShown,onCloseButtonClick:this.$20,children:i._("New! If you don't have a showmark, Facebook can make one for you to get started.")});return l.jsxs("div",{className:"_2g-7",children:[l.jsx(b("XUIText.react"),{className:"_2g-8",children:i._("SHOWMARK REQUIREMENTS")}),this.$18(),this.state.useCreationTool?this.$27():this.$21(),c,this.state.creationToolNuxShown?d:null]})};d.$12=function(){var a=this.state.uploadToServerState==="loading",c=this.state.useCreationTool&&(!this.state.templateSelected||this.state.templateText.length<v);return l.jsxs(b("LeftRight.react"),{children:[l.jsx("span",{}),l.jsxs("span",{children:[l.jsx(b("XUIDialogButton.react"),{label:i._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.$29,disabled:a}),l.jsx(b("XUIDialogButton.react"),{"data-testid":void 0,label:i._("Add Showmark"),action:"confirm",size:"large",use:"confirm",disabled:this.state.uploadState!=="success"||a||c,onClick:this.$28})]})]})};d.render=function(){return l.jsx("div",{children:l.jsx(b("XUIDialog.react"),{width:p,shown:!0,hideOnEscape:!1,label:this.$8(),layerHideOnBlur:!1,children:l.jsxs(b("XUIDialogBody.react"),{className:"_45me","data-testid":void 0,children:[this.$10(),this.$13()]})})})};return c}(l.Component);e.exports=a}),null);
__d("VideoComponentShowmarkOverlay.react",["cx","fbt","ix","AbstractButton.react","AsyncRequest","Image.react","Layout.react","PopoverMenu.react","ReactXUIMenu","ShowsCreationLoggerUtils","VideoShowsLogoUploadDialog.react","XPagesCoverReloadController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("ShowsCreationLoggerUtils").log("showmark_change_click",d.props.pageID,d.props.showCreationFlowSource),d.setState({showEditShowMarkDialog:!0})};d.$2=function(){d.setState({showEditShowMarkDialog:!1})};d.$3=function(){new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI()).send(),d.$2(),d.props.onShowMarkUploadSuccess&&d.props.onShowMarkUploadSuccess()};d.state={showEditShowMarkDialog:!1};return d}var d=c.prototype;d.$4=function(){return k.jsx(b("Image.react"),{className:"_1o-v",src:this.props.showmarkURL})};d.$5=function(){if(!this.props.isAdmin)return null;var a=k.jsx(b("ReactXUIMenu"),{children:k.jsx(n,{onClick:this.$1,children:h._("Change showmark")})}),c=k.jsx(b("Image.react"),{src:i("115342")}),d=h._("Edit Showmark");return k.jsxs("div",{children:[this.state.showEditShowMarkDialog?k.jsx(b("VideoShowsLogoUploadDialog.react"),{existingLogoUrl:this.props.showmarkUploadPreviewURL,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePic:this.props.pageProfilePic,hideDialog:this.$2,onSuccess:this.$3,showCreationFlowSource:this.props.showCreationFlowSource}):null,k.jsx("div",{className:"_2210",children:k.jsx(b("PopoverMenu.react"),{menu:a,position:"below",children:k.jsx(b("AbstractButton.react"),{className:"_2212",image:c,label:d,labelIsHidden:!0,ref:"button",type:"button"})})})]})};d.render=function(){var a=this.props.isShowPageNewCover;return k.jsxs(b("Layout.react"),{className:(a?"":"_2213")+(a?" _11ro":""),children:[k.jsx(l,{children:this.$4()}),k.jsx(m,{children:this.$5()})]})};return c}(k.Component);e.exports=a}),null);
__d("VideoComponentShowsViewers.react",["cx","fbt","FacepileRounded.react","VideoComponent","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={vpc:null};return b}var d=c.prototype;d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};d.$1=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var a=this.props.data.showsFollowerData.friendsList;if(a==null||a.length===0)return null;a=a.map(function(a){return{image_src:"https://graph.facebook.com/"+a.userId+"/picture?height="+k*2+"&width="+k*2,name:a.userName}});return j.jsx(b("FacepileRounded.react"),{direction:"descending",className:(this.props.data.isShowPageNewCover?"":"_1kox")+(this.props.data.isShowPageNewCover?" _66j-":""),imageSize:k,profiles:a,hoverBehavior:"name",borderColor:this.props.data.isShowPageNewCover?"#000000":"#ffffff"})};d.render=function(){if(!this.props.data||!this.props.data.showsFollowerData)return null;var a=this.props.data.showsFollowerData,c=a.friendCount;a=a.followerCount;var d=this.state.vpc&&this.state.vpc.getState()==="playing",e=this.$1();a=c===0?j.jsx("span",{className:"_1koz",children:h._({"*":"{fan_count} followers","_1":"1 follower"},[h._plural(a,"fan_count",b("intlSummarizeNumber")(a))])}):j.jsx("span",{className:(this.props.data.isShowPageNewCover?"":"_1koz")+(this.props.data.isShowPageNewCover?" _66j_":""),children:h._({"*":{"*":"{fan_count} followers including {friend_count} friends","_1":"{fan_count} followers including 1 friend"},"_1":{"*":"1 follower including {friend_count} friends","_1":"1 follower including 1 friend"}},[h._plural(a,"fan_count",b("intlSummarizeNumber")(a)),h._plural(c,"friend_count",b("intlSummarizeNumber")(c))])});return j.jsxs("div",{className:(this.props.data.isShowPageNewCover?"":"_1ko-")+(this.props.data.isShowPageNewCover?" _4yj4":"")+(this.props.hideOnPlay?" _s0r":"")+(this.props.hideOnPlay&&d?" _s0s":""),children:[e,a]})};return c}(j.Component);c=b("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange"]});e.exports=c}),null);
__d("VideoShowsMetadataBlock.react",["cx","fbt","invariant","ActorURI","Bootloader","LineClamp.react","Link.react","ShimButton.react","UFIConfig","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","VideoComponentShowmarkOverlay.react","VideoComponentShowsViewers.react","XUFIReactionTooltipController","XUFIReactionsSocialSentenceTooltipController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.preventDefault();var c=d.props.data.showsFeedbackData;c||i(0,2252);var e=c.actorId;c=c.videoId;e||i(0,2253);c||i(0,2254);var f=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:e,feedbackTargetID:c}).toString();b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(f,a.currentTarget,"dialog")},"VideoShowsMetadataBlock.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.data.viewerCoverTrailerState;switch(a){case"resume_episode":return h._("CONTINUE WATCHING");case"latest_episode":return h._("LATEST EPISODE");case"watch_trailer":return h._("SHOW TRAILER")}return null};d.$3=function(){var a=this.props.data,c=a.viewerCoverTrailerState,d=a.showsFeedbackData;a=a.showsVideoData;if(c==="watch_trailer")return k.jsx(b("VideoComponentShowsViewers.react"),{data:this.props.data,hideOnPlay:!1});else{if(!d)return null;c={};if(d&&d.reactionCountMap){var e=d.reactionCountMap;for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]={"default":e[f]})}e=d.commentCount;var g=d.commentsCountReduced,i=d.reactionsCountReduced,j=this.$4({actorforpost:d.actorId,entidentifier:d.videoId});j=a&&e&&g&&e>0?k.jsxs("span",{className:"_1m-9",children:[k.jsx(b("ShimButton.react"),babelHelpers["extends"]({},j,{className:"_o12",inline:!0,onClick:this.$2,children:i}))," ","\xb7"," ",k.jsx(b("Link.react"),{href:a.uri,children:k.jsx("span",{className:"_o12",children:h._({"*":"{number} comments","_1":"1 comment"},[h._plural(e,"number",g)])})})]}):null;return k.jsxs("div",{className:"_1m-8",children:[k.jsx("span",{children:k.jsx(b("UFIReactionsBlingTokens.react"),{className:"_4ar- _ipn _1m-f",feedback:{actorforpost:d.actorId,entidentifier:d.videoId,reactioncountmap:c},max:3,size:"16"})}),j]})}};d.$4=function(a){var c=a.actorforpost;a=a.entidentifier;var d=b("UFIConfig").reactionsHasTooltipBreakdown?b("XUFIReactionsSocialSentenceTooltipController"):b("XUFIReactionTooltipController");return{"data-hover":"tooltip","data-tooltip-uri":b("ActorURI").create(d.getURIBuilder().setString("ft_ent_identifier",a).getURI(),c)}};d.$5=function(){var a=this.props.data,b=a.viewerCoverTrailerState,c=a.showsVideoData;a=a.showsData;return c&&(b==="latest_episode"||b==="resume_episode")?c.description:a.showDescription};d.$6=function(){var a=this.props.data.viewerCoverTrailerState;return(a==="latest_episode"||a==="resume_episode")&&this.props.data.showsVideoData?k.jsx("span",{className:"_2yyi",children:this.props.data.showsVideoData.title}):null};d.$7=function(){var a=this.props.data.showsData,c=a.showmarkURL,d=a.showmarkUploadPreviewURL,e=a.title;a=a.profilePic;return!c||!d?null:k.jsx(b("VideoComponentShowmarkOverlay.react"),{showmarkURL:c.toString(),showmarkUploadPreviewURL:d.toString(),pageID:this.props.pageID,pageName:e,pageProfilePic:a,isAdmin:this.props.data.isAdmin,isShowPageNewCover:this.props.data.isShowPageNewCover,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess,showCreationFlowSource:this.props.showCreationFlowSource})};d.render=function(){return k.jsxs("div",{className:"_66ev",children:[this.$7(),k.jsxs("div",{children:[k.jsx("span",{className:"_2xn9",children:this.$1()}),this.$6(),k.jsx(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:18,lines:4,className:"_39rp",children:this.$5()}),this.$3()]})]})};return c}(k.Component);e.exports=a;a.defaultProps={renderedHeight:461.25,renderedWidth:820}}),null);
__d("PagesEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_APP_NOTIFICATION_DISABLED:"admin_app_notifications_disabled",ADMIN_APP_NOTIFICATION_DIGEST:"admin_app_notifications_digest",ADMIN_APP_NOTIFICATION_ENABLED:"admin_app_notifications_enabled",ADMIN_JOURNEY_TIP_CLICK:"admin_journey_card_click",ADMIN_JOURNEY_TIP_VIEW:"admin_journey_card_view",ADMIN_JOURNEY_TIP_COMPLETE:"admin_journey_tip_complete",ADMIN_ONSITE_NOTIF_DISABLED:"admin_onsite_notif_disabled",ADMIN_ONSITE_NOTIF_DIGEST:"admin_onsite_notif_digest",ADMIN_ONSITE_NOTIF_ENABLED:"admin_onsite_notif_enabled",ADMIN_SMS_ACTION:"admin_sms_action",ADMIN_SMS_NOTIF_ENABLED:"admin_sms_notif_enabled",ADMIN_SMS_NOTIF_DISABLED:"admin_sms_notif_disabled",ADMIN_SMS_NOTIF_DIGEST:"admin_sms_notif_digest",ADMIN_PERMALINK_VIEW:"admin_permalink_view",ADMIN_FORWARD_NOTIF_TYPE_ENABLED:"admin_forward_notif_type_enabled",ADMIN_FORWARD_NOTIF_TYPE_DISABLED:"admin_forward_notif_type_disabled",CHANGE_CATEGORY:"change_category",CREATE_COMMENT:"create_comment",CREATE_MESSAGE:"create_message",CREATE_NAME_BLACKLIST:"create_name_blacklist",CREATE_NAME_BLOCKED_POPULAR_PAGE_EXISTS:"create_name_blocked_popular",CREATE_NAME_BLOCKED_USER_ADMINS_PAGE_WITH_SAME_NAME:"create_name_blocked_admins_same_name",CREATE_NAME_BLOCKED_CITY_NAME_MATCH:"create_name_blocked_city_name_match",CREATE_NAME_BLOCKED_TRENDING:"create_name_blocked_trending",CREATE_NAME_INVALID:"create_name_invalid",CREATE_PAGE:"create_page",ACTIVITY_DIGEST_NEW_NOTIFICATION:"activity_digest_new_notifications",ACTIVITY_DIGEST_UPDATE_SUCCESS:"activity_digest_update_success",ACTIVITY_DIGEST_UPDATE_FAIL:"activity_digest_update_fail",ACTIVITY_DIGEST_CLEAR:"activity_digest_clear",ACTIVITY_DIGEST_ASYNC_DEDUP:"activity_digest_async_dedup",ACTIVITY_DIGEST_ASYNC_SCHEDULE:"activity_digest_async_schedule",ACTIVITY_DIGEST_ASYNC_RUN:"activity_digest_async_run",ACTIVITY_DIGEST_ASYNC_SKIP:"activity_digest_async_skip",ACTIVITY_DIGEST_ASYNC_SEND:"activity_digest_async_send",ACTIVITY_DIGEST_ASYNC_FETCH_FAIL:"activity_digest_async_fetch_fail",AUX_CONTENT_CLICK_BUILD_AUDIENCE:"aux_content_click_build_audience",AUX_CONTENT_CLICK_CREATE_AD:"aux_content_click_create_ad",EDIT_PAGE_SAVE:"edit_page_save",EMAIL_NOTIFICATION_DISABLED:"email_notifications_disabled",EMAIL_NOTIFICATION_DIGEST:"email_notifications_digest",EMAIL_NOTIFICATION_ENABLED:"email_notifications_enabled",EMAIL_SENT:"email_sent",EVENT_RSVP_CREATE:"event_rsvp_create",EVENT_RSVP_MODIFY:"event_rsvp_modify",FAN_JEWEL_CLEARED:"fan_jewel_cleared",FAN_PAGE:"fan_page",FBX_DISABLE_PREVIEW_MODE:"fbx_disable_preview_mode",FBX_DOWNGRADE:"fbx_downgrade",FBX_ENABLE_PREVIEW_MODE:"fbx_enable_preview_mode",FBX_UPGRADE:"fbx_upgrade",FOLLOW_JEWEL_CLEARED:"follow_jewel_cleared",HIGHLANDER_LOGIN:"highlander_login",HIGHLANDER_LOGOUT:"highlander_logout",INTERN_UNMERGE_PAGE:"intern_unmerge_page",MEGAPHONE_CATEGORY_UPDATE:"megaphone_category_update",NONFAN_UNSUBSCRIBE:"nonfan_unsubscribe",FAN_UNSUBSCRIBE:"fan_unsubscribe",NONFAN_SUBSCRIBE:"nonfan_subscribe",FAN_SUBSCRIBE:"fan_subscribe",MODERATION_BLACKLIST_UPDATE_SETTING:"moderation_blacklist_update_setting",MODIFY_PAGE_INFO:"modify_page_info",MODIFY_PLACE_DETACH:"modify_place_detach",PAGE_ADMIN_LABEL_FANS:"page_admin_label_fans",PAGE_ADMIN_WHATSAPP_CLICK:"page_admin_whatsapp_click",PAGE_LIKE_TOAST_CLOSED:"page_like_toast_closed",PAGE_DELETE_IMMEDIATELY:"page_delete_immediately",PAGE_DELETE_SCHEDULE:"page_delete_schedule",PAGE_DELETE_CANCEL:"page_delete_cancel",PAGE_NOTIF_CAMPAIGN_SENT:"page_notif_campaign_sent",POST_AS_SELF_DISABLED:"post_as_self_disabled",POST_AS_SELF_ENABLED:"post_as_self_enabled",PROFANITY_BLACKLIST_UPDATE_SETTING:"profanity_blacklist_update_setting",RECOMMEND_OVERLAY_SHOW:"recommend_overlay_show",RECOMMEND_OVERLAY_SUBMIT:"recommend_overlay_submit",REQUEST_UNMERGE:"request_unmerge",SHARE_PAGE:"share_page",SHARE_PAGE_IN_MESSAGE:"share_page_in_message",SHARE_PAGE_CONTENT:"share_page_content",SHARE_TO_PAGE:"NCA_create_reshare",UPDATE_ALIAS:"update_alias",UNFAN_PAGE:"unfan_page",VIEW_ADMIN_SURFACE:"view_admin_surface",VIEW_AUDIENCE_TARGETING_INSIGHTS:"view_audience_targeting_insights",VIEW_CONTEXT_ROWS_REACTION:"view_context_rows_reaction",VIEW_EDIT_INSTANT_REPLY_MESSAGE:"view_edit_instant_reply_message",VIEW_EDIT_AWAY_MESSAGE:"view_edit_away_message",VIEW_INSIGHTS_DASHBOARD:"view_insights_dashboard",VIEW_FAN_LIST:"view_fan_list",VIEW_MESSAGES:"view_messages",VIEW_NOTIFICATIONS_MENU:"view_notif_menu",VIEW_NOTIFICATIONS_PAGE:"view_notifications_page",VIEW_NOTIFICATIONS_SETTINGS:"view_notifications_settings",VIEW_PERMALINK:"view_permalink",VIEW_PHOTO:"view_photo",VIEW_PROFILE:"view_profile",VIEW_TIMELINE_PAGES:"view_timeline_pages",VIEW_TIMELINE_OTHERS:"view_timeline_others",VIEW_ENTITY_CARD:"view_entity_card",VIEW_SCHEDULED_POSTS:"view_scheduled_posts",VIEW_ACTIVITY:"view_activity",VIEW_SETTINGS:"view_settings",VIEW_GENERAL_SETTINGS:"view_general_settings",VIEW_MESSAGE_SETTINGS:"view_message_settings",VIEW_SPRINGBOARD_LOCAL_AD_CALL_TO_ACTION_CLICKS:"view_springboard_local_ad_call_to_action_clicks",VIEW_SPRINGBOARD_CALL_TO_ACTION:"view_springboard_call_to_action",VIEW_SPRINGBOARD_WEBSITE_CLICKS:"view_springboard_website_clicks",VIEW_SPRINGBOARD_NEW_LIKES:"view_springboard_new_likes",VIEW_SPRINGBOARD_POST_REACH:"view_springboard_post_reach",VIEW_SPRINGBOARD_POST_ENGAGEMENT:"view_springboard_post_engagement",VIEW_SPRINGBOARD_QR_SCANS:"view_springboard_qr_scans",VIEW_SPRINGBOARD_NOTIFICATIONS:"view_springboard_notifications",VIEW_SPRINGBOARD_MESSAGES:"view_springboard_messages",VIEW_SPRINGBOARD_CHECKINS:"view_springboard_checkins",VIEW_STORIES_TO_SHARE:"view_stories_to_share",VISIT_PAGE:"visit_page",WALL_TAB_UPDATE_SETTING:"wall_tab_update_setting",CLOSE_WALL_POST:"close_wall_post",VIEW_ENTITY_CARD_ACTION:"view_entity_card_action",VIEW_DEEP_LINK_ACTION:"view_deep_link_action",LEAVE_PROFILE:"leave_profile",PAGE_PUBLISH:"page_publish",PAGE_UNPUBLISH:"page_unpublish",NON_ADMIN_FEED_QUERY:"non_admin_feed_query",INFO_REQUESTS_ASK_LINK_RENDERED:"info_requests_ask_link_rendered",INFO_REQUESTS_INFO_REQUESTED:"info_requests_info_requested",INFO_REQUESTS_REQUESTS_TAB_VIEWED:"info_requests_requests_tab_viewed",INFO_REQUESTS_REQUESTS_IGNORED:"info_requests_requests_ignored",INFO_REQUESTS_ADD_DIALOG_VIEWED:"info_requests_add_dialog_viewed",INFO_REQUESTS_ADD_BUTTON_CLICKED:"info_requests_add_button_clicked",INFO_REQUESTS_REQUESTS_FULFILLED:"info_requests_requests_fulfilled",ADMIN_NAV_TAB_CLICK:"admin_nav_tab_click",ADMIN_VIEW_PHOTOS:"admin_view_photos",ADMIN_VIEW_EVENTS:"admin_view_events",ADMIN_VIEW_GROUPS:"admin_view_groups",ADMIN_VIEW_REVIEWS:"admin_view_reviews",VISIT_SETTINGS_TAB:"visit_settings_tab",OPEN_BOOKMARK:"open_bookmark",ADMIN_TAPPED_COMPOSER_TEXT_BUTTON:"admin_tapped_composer_text_button",ADMIN_TAPPED_COMPOSER_PHOTO_BUTTON:"admin_tapped_composer_photo_button",ADMIN_TAPPED_COMPOSER_VIDEO_BUTTON:"admin_tapped_composer_video_button",ADMIN_TAPPED_COMPOSER_EVENT_BUTTON:"admin_tapped_composer_event_button",ADMIN_TAPPED_PROMOTE_BUTTON:"admin_tapped_promote_button",ADMIN_TAPPED_ACTION_BAR_APPOINTMENT_BUTTON:"admin_tapped_action_bar_appointment_button",COMMS_HUB_EMPTY_STATE_TAP_TO_REFRESH:"comms_hub_empty_state_tap_to_refresh",COMMS_HUB_EMPTY_STATE_TAP_TO_GO_TO_INBOX:"comms_hub_empty_state_tap_to_go_to_inbox",COMMS_HUB_FILTER_TAP:"comms_hub_filter_tap",COMMS_HUB_FOLDER_SWITCH:"comms_hub_folder_switch",COMMS_HUB_ITEM_STATUS_CHANGE:"comms_hub_item_status_change",COMMS_HUB_ITEM_TAP:"comms_hub_item_tap",COMMS_HUB_VIEW_INBOX:"comms_hub_view_inbox",COMMS_HUB_PAGINATION_UPON_SCROLL:"comms_hub_pagination_upon_scroll",COMMS_HUB_PULL_TO_REFRESH:"comms_hub_pull_to_refresh",COMMS_HUB_NOTIFICATION_RECEIVED:"comms_hub_notification_received",MESSAGE_BROADCAST_REACH_ESTIMATION_DIFFERENCE:"message_broadcast_reach_estimation_difference",MESSAGES_WITH_SENTRY_TAG:"messages_with_sentry_tag",MESSAGES_EMPTY_THREAD_LOADED:"messages_empty_thread_loaded",MESSAGES_FANTA_TAB_CLOSE:"messages_fanta_tab_close",MESSAGES_VIEW_INBOX:"messages_view_inbox",MESSAGES_VIEW_ARCHIVED:"messages_view_archived",MESSAGES_VIEW_PAGE_BACKGROUND:"messages_view_page_background",MESSAGES_VIEW_SPAM:"messages_view_spam",MESSAGES_VIEW_OTHER:"messages_view_other",MESSAGES_VIEW_PENDING:"messages_view_pending",MESSAGES_VIEW_NAME_RESULTS:"messages_view_name_results",MESSAGES_VIEW_SEARCH_RESULTS:"messages_view_search_results",MESSAGES_TAB_INBOX:"messages_tab_inbox",MESSAGES_TAB_ARCHIVED:"messages_tab_archived",MESSAGES_TAB_SPAM:"messages_tab_spam",MESSAGES_TAB_OTHER:"messages_tab_other",MESSAGES_ACTION_MOVE_OTHER:"messages_action_move_other",MESSAGES_SEND_MESSAGE:"NCA_create_message",MESSAGES_SEND_MESSAGE_JS_END:"messages_send_message_js_end",MESSAGES_SEND_MESSAGE_JS_EXCEPTION:"messages_send_message_js_exception",MESSAGES_SEND_MESSAGE_JS_HANDLE_ERROR:"messages_send_message_js_handle_error",MESSAGES_SEND_MESSAGE_JS_START:"messages_send_message_js_start",MESSAGES_SEND_LOG_MESSAGE:"messages_log_message_send",MESSAGES_SEND_ENTRY_POINT:"messages_send_entry_point",MESSAGES_DIALOG_EXPAND_WINDOW:"messages_dialog_expand_window",MESSAGES_DIALOG_SEND:"messages_dialog_send",MESSAGES_VIEW_THREAD:"messages_view_thread",MESSAGES_DIALOG_GOTMESSAGES:"messages_dialog_gotmessages",MESSAGES_ACTION_ARCHIVE:"messages_action_archive",MESSAGES_ACTION_UNARCHIVE:"messages_action_unarchive",MESSAGES_ACTION_MARKSPAM:"messages_action_markspam",MESSAGES_ACTION_UNSPAM:"messages_action_unspam",MESSAGES_ACTION_DELETE_SEL:"messages_action_delete_sel",MESSAGES_ACTION_DELETE_ALL:"messages_action_delete_all",MESSAGES_ACTION_MARK_ALL_READ:"messages_action_mark_all_read",MESSAGES_ACTION_MARK_READ:"messages_action_mark_read",MESSAGES_ACTION_MARK_UNREAD:"messages_action_mark_unread",MESSAGES_BUTTON_RENDER:"messages_button_render",MESSAGES_BUTTON_CLICK:"messages_button_click",MESSAGES_THREAD_TAG_ADD:"messages_thread_tag_add",MESSAGES_THREAD_TAG_REMOVE:"messages_thread_tag_remove",MESSAGES_TAB_LOAD_START:"messages_tab_load_start",MESSAGES_INBOX_LOAD_END:"messages_inbox_load_end",MESSAGES_ARCHIVED_LOAD_END:"messages_archived_load_end",MESSAGES_SPAM_LOAD_END:"messages_spam_load_end",MESSAGES_OTHER_LOAD_END:"messages_other_load_end",MESSAGES_PAGELET_LOAD_START:"messages_pagelet_load_start",MESSAGES_PAGES_MANAGER_LAYOUT_COMPONENT_WILL_MOUNT:"messages_pages_manager_layout_component_will_mount",MESSAGES_PAGES_MANAGER_LAYOUT_LOAD_START:"messages_pages_manager_layout_load_start",MESSAGES_THREADLIST_FETCHING_EXCEPTION:"messages_threadlist_fetching_exception",MESSAGES_THREADINFO_FETCHING_EXCEPTION:"messages_threadinfo_fetching_exception",MESSAGES_METADATA_BUILDER_EXCEPTION:"messages_metadata_builder_exception",MESSAGES_THREADLIST_LAYOUT_COMPONENT_WILL_MOUNT:"messages_threadlist_component_layout_will_mount",MESSAGES_THREADLIST_LAYOUT_LOAD_START:"messages_threadlist_layout_load_start",MESSAGES_THREADLIST_LOAD_START:"messages_threadlist_load_start",MESSAGES_MESSAGELIST_LOAD_START:"messages_messagelist_load_start",MESSAGES_MESSAGELIST_LOAD_END:"messages_messagelist_load_end",MESSAGES_IRIS_SUBSCRIBER_SEND_MESSAGE:"messages_iris_subscriber_send_message",MESSAGES_KRONOS_GATE_NOT_OPEN:"messages_kronos_gate_not_open",MESSAGES_OPEN_PAGE_MESSAGE_DIALOG:"messages_open_page_message_dialog",MESSAGES_CLOSE_PAGE_MESSAGE_DIALOG:"messages_close_page_message_dialog",MESSAGES_PAGE_MESSAGE_DIALOG_CHOOSE_RECIPIENT:"messages_page_message_dialog_choose_recipient",MESSAGES_PAGE_MESSAGE_DIALOG_SEND:"messages_page_message_dialog_send",MESSAGES_AUTOMATED_RESPONSE_SETTING_CHANGED:"messages_automated_response_setting_changed",MESSAGES_AWAY_SETTING_CHANGED:"messages_way_setting_changed",MESSAGES_AWAY_TOGGLE:"messages_away_toggle",MESSAGES_SECONDARY_REPORT_IMPRESSION:"messages_secondary_report_impression",MESSAGES_SECONDARY_REPORT_SUBMISSION:"messages_secondary_report_submission",MESSAGES_WITH_PAYMENT_INTENT:"messages_with_payment_intent",MESSAGES_WITH_APPOINTMENT_INTENT:"messages_with_appointment_intent",MESSAGES_WITH_CALL_INTENT:"messages_with_call_intent",MESSAGES_WITH_WEBSITE_INTENT:"messages_with_website_intent",MESSAGE_INCOMING_RECEIVED_FRONTEND:"message_incoming_received_frontend",MESSAGE_PROMPT_SETTING_TURN_ON:"message_prompt_setting_turn_on",MESSAGE_PROMPT_SETTING_TURN_OFF:"message_prompt_setting_turn_off",MESSAGE_SEND_EMAIL_REPLY_FAIL:"message_send_email_reply_fail",MESSAGE_REPLY_EMAIL_ADDRESS_GENERATION:"message_reply_email_address_generation",PQI_MESSAGE_SENT:"pqi_message_sent",PQI_MESSAGE_ERROR:"pqi_message_error",THREAD_IS_READ:"thread_is_read",FOLDER_IS_SEEN:"folder_is_seen",REALTIME_PAYLOAD_FLUSH:"realtime_payload_flush",REALTIME_PAYLOAD_DELIVER:"realtime_payload_deliver",MISSIONS_XOUT_MISSION:"missions_xout_mission",MISSIONS_VIEW_MISSION:"missions_view_mission",MISSIONS_CLICK_OBJECTIVE:"missions_click_objective",MISSIONS_UPDATE_CONTACT_INFO:"missions_update_contact_info",HUB_FEATURE:"hub_feature",HUB_PLAYLIST_CREATE:"hub_playlist_create",HUB_UNFEATURE:"hub_unfeature",HUB_PLAYLIST_DELETE:"hub_playlist_delete",HUB_PLAYLIST_MODIFY:"hub_playlist_modify",HUB_UPLOAD_VIDEO_MODAL:"hub_upload_video_modal",HUB_FEATURE_MODAL:"hub_feature_modal",HUB_PLAYLIST_MODAL:"hub_playlist_modal",HUB_UPLOAD_VIDEO_ATTEMPT:"hub_upload_video_attempt",HUB_PLAYLIST_NAV:"hub_playlist_nav",HUB_ALL_VIDEOS_NAV:"hub_all_videos_nav",HUB_FEATURED_UFI:"hub_featured_ufi",TAPPED_VIDEOHUB_CARD_HEADER:"tapped_videohub_card_header",TAPPED_VIDEOHUB_PLAYLIST_HEADER:"tapped_videohub_playlist_header",TAPPED_VIDEOHUB_ALL_VIDEOS:"tapped_videohub_all_videos",SEE_PAGE_OFFER_DETAILS:"see_page_offer_details",VIEW_OFFER_DETAIL:"view_offer_detail",DEFAULT_VOICE_SWITCH_TO_USER:"default_voice_switch_to_user",DEFAULT_VOICE_SWITCH_TO_PAGE:"default_voice_switch_to_page",VOICE_SWITCH_TO_USER_IN_COMPOSER:"voice_switch_to_user_in_composer",VOICE_SWITCH_TO_USER_IN_UFI:"voice_switch_to_user_in_ufi",VOICE_SWITCH_TO_PAGE_IN_COMPOSER:"voice_switch_to_page_in_composer",VOICE_SWITCH_TO_PAGE_IN_UFI:"voice_switch_to_page_in_ufi",SUGGEST_FRIENDS_DEPRECATED:"suggest_friends",SUGGEST_FRIENDS_INLINE:"suggest_friends_inline",SUGGEST_FRIENDS_DECLINE:"suggest_friend_decline",ACCEPT_PAGE_INVITE:"accept_page_invite",DECLINE_PAGE_INVITE:"decline_page_invite",IGNORE_PAGE_INVITE:"ignore_page_invite",USER_EXPAND_FRIEND_INVITER:"user_expand_friend_inviter",EXPAND_SEE_ALL_FRIENDS:"expand_see_all_friends",DISPLAY_FRIEND_INVITER:"display_friend_inviter",DISPLAY_PENDING_PAGE_LIKES:"display_pending_page_likes",SEND_NON_FRIEND_INVITE:"send_non_friend_invite",SEND_PAGE_INVITE:"send_page_invite",SEND_POST_LIKER_INVITE:"send_post_liker_invite",PAGE_POST_ENGAGER_INVITE_VIEW_CARD:"page_post_engager_invite_view_card",PAGE_POST_ENGAGER_INVITE_ENTER:"page_post_engager_invite_enter",PAGE_POST_ENGAGER_INVITE_SENT:"page_post_engager_invite_sent",MOBILE_PEOPLE_INVITE_ENTER:"mobile_people_invite_enter",MOBILE_PEOPLE_INVITE_SENT:"mobile_people_invite_sent",MODAL_PAGE_INVITE_PAGE_RECOMMENDATION_CLICK_RECOMMEND:"modal_page_invite_page_recommendation_click_recommend",MODAL_PAGE_INVITE_PAGE_RECOMMENDATION_DIALOG_VIEW:"modal_page_invite_page_recommendation_dialog_view",PAGE_RECOMMENDATION_CREATE:"page_recommendation_create",BOOKMARK_PIN_PAGE:"bookmark_pin_page",BOOKMARK_UNPIN_PAGE:"bookmark_unpin_page",BOOKMARK_PIN_PAGE_UNDER_PROFILE:"bookmark_pin_page_under_profile",BOOKMARK_REMOVE_PAGE_UNDER_PROFILE:"bookmark_remove_page_under_profile",MERGE_FAILED:"merge_failed",MERGE_REQUEST_INVALID_NOOB_ADMIN:"merge_request_invalid_noob_admin",MERGE_REQUEST_INVALID:"merge_request_invalid",MERGE_REQUEST_VALID:"merge_request_valid",MERGE_SUCCEEDED:"merge_succeeded",NO_COMMON_ADMINS_FOR_SPM:"no_common_admins_for_spm",ADD_PAGES_TO_WATCH:"add_pages_to_watch",REMOVE_PAGES_TO_WATCH:"remove_pages_to_watch",EDIT_PAGES_TO_WATCH_FEED:"edit_pages_to_watch_feed",REMOVE_PTW_RECOMMENDATION:"remove_ptw_recommendation",VIEW_PAGES_FEED:"view_pages_feed",VIEW_PAGES_FEED_DIALOG:"view_pages_feed_dialog",PAGES_FEED_SEE_MORE_MTOUCH:"pages_feed_see_more_mtouch",VIEW_PAGES_NEWS_FEED:"view_pages_news_feed",VIEW_PAGES_NEWS_FEED_NOTIF_CONNECTIONS:"view_pages_news_feed_notif_connections",VIEW_PAGES_NEWS_FEED_CONNECTION_RECOMMENDATIONS:"view_pages_news_feed_connection_recommendations",VIEW_ACTIVITY_FEED:"view_activity_feed",SEND_INVITE_EMAIL:"send_invite_email",PROFILE_PICTURE_SET:"profile_picture_set",PROFILE_PICTURE_CHANGED:"profile_picture_changed",ABOUT_BLURB_SET:"about_blurb_set",WEBSITE_SET:"website_set",WEBSITE_CHANGED:"website_changed",PHONE_SET:"phone_set",HOURS_SET:"hours_set",EMAIL_SET:"email_set",VANITY_URL_SET:"vanity_url_set",VIEW_NAX_WIZARD:"view_nax_wizard",SKIP_NAX_WIZARD:"skip_nax_wizard",SAVE_NAX_WIZARD:"save_nax_wizard",NAX_WIZARD_COMPLETED:"nax_wizard_completed",NAX_OBJECTIVE:"nax_objective",API_TRUSTED_CLAIM_PAGE:"api_trusted_claim_page",API_TRUSTED_ADD_ADMIN:"api_trusted_add_admin",WHITELISTED_PLACE_CLAIM_REFERRAL:"whitelisted_place_claim_referral",PLACE_CLAIM_REFERRAL:"place_claim_referral",GRAPH_READ:"graph_read",CONTACT_IMPORTER_DISPLAY:"contact_importer_display",CONTACT_IMPORTER_USED:"contact_importer_used",CONTACT_IMPORTER_INVITE:"contact_importer_invite",CONTACT_IMPORTER_PREVIEW:"contact_importer_preview",CONTACT_IMPORTER_SUGGESTION:"contact_importer_suggestion",CONTACT_IMPORTER_CA_VIEW:"contact_importer_ca_view",CONTACT_IMPORTER_CA_CREATE:"contact_importer_ca_create",COVER_TRAILER_CLICK:"cover_trailer_click",COVER_TRAILER_IMPRESSION:"cover_trailer_impression",COVER_VIDEO_SET:"cover_video_set",COVER_VIDEO_REMOVE:"cover_video_remove",COVER_VIDEO_IMPRESSION:"cover_video_impression",COVER_VIDEO_CLICK:"cover_video_click",COUPON_RECEIVED_MAXIMUM:"coupon_received_maximum",COUPON_SHARE_STORY:"coupon_share_story",COUPON_SHARE_STORY_FROM_EMAIL:"coupon_share_story_from_email",COUPON_SEND_EMAIL:"coupon_send_email",COUPON_INVALID_STATE:"coupon_invalid_state",COUPON_CLAIM_FAILED:"coupon_claim_failed",COUPON_OPEN_DIALOG:"coupon_open_dialog",COUPON_SELECT_EMAIL:"coupon_select_email",COUPON_SELECT_AUDIENCE:"coupon_select_audience",COUPON_NO_VALID_EMAIL:"coupon_user_has_no_valid_email",COUPON_RESEND_EMAIL:"coupon_resend_email",COUPON_PRIVACY_UPDATE:"coupon_privacy_update",COUPON_STORY_POST_FAILED:"coupon_story_post_failed",COUPON_SEND_EMAIL_FAILED:"coupon_send_email_failed",COUPON_POST_STORY:"coupon_post_story",COUPON_CLAIMED:"coupon_claimed",COUPON_OPEN_PERMALINK:"coupon_open_permalink",COUPON_REDEMPTION_CHANGED:"coupon_redemption_changed",COUPON_STOP_OFFER:"coupon_stop_offer",COUPON_SHARE_CLAIM_POST_STORY:"coupon_share_claim_post_story",COUPON_PUBLISHED_POST_FROM_ADS:"coupon_published_post_from_ads",COUPON_SCHEDULED_POST_FROM_ADS:"coupon_scheduled_post_from_ads",COUPON_COMPOSER_CREATE_COUPON:"coupon_composer_create_coupon",COUPON_COMPOSER_IMAGE_INVALID:"coupon_composer_image_invalid",COUPON_COMPOSERX_OPEN_OFFERS:"coupon_composerx_choose_coupon_type",COUPON_COMPOSERX_EDIT_COUPON:"coupon_composerx_edit_coupon",COUPON_COMPOSERX_ENTER_COUPON:"coupon_composerx_enter_coupon_info",COUPON_COMPOSERX_REDEMPTION:"coupon_composerx_redemption_coupon",COUPON_COMPOSERX_BACK_CLICK:"coupon_composer_back_step_click",COUPON_LIGHTWEIGHT_COMPOSER_OPEN:"coupon_lightweight_composer_open",COUPON_API_CREATE_COUPON:"coupon_api_create_coupon",COUPON_PUBLISHED:"coupon_published",COUPON_CREATION:"coupon_creation",COUPON_OFFSITE_LINK_CLICK:"coupon_offsite_click",COUPON_PAGE_LIKE_FROM_DIALOG:"coupon_page_like_from_dialog",COUPON_REDEEM_BUTTON_CLICK:"coupon_redeem_button_click",COUPON_REDEMPTION_REMINDER_SENT:"coupon_redemption_reminder_sent",COUPON_DASHBOARD_VISIT:"coupon_dashboard_visit",COUPON_REMINDER_FLYOUT_IMP:"coupon_reminder_flyout_imp",COUPON_ADMIN_PANEL_UPSELL:"coupon_admin_panel_upsell",COMPOSER_RENDER:"composer_render",COMPOSER_RENDER_MEDIA_ATTACHMENT:"composer_render_media_attachment",COMPOSER_RENDER_PHOTO_FORM:"composer_render_photo_form",COMPOSER_PHOTO_UPLOAD_FILE_SELECT:"composer_photo_upload_file_select",COMPOSER_RENDER_ALBUM_ADD:"composer_render_album_add",COMPOSER_RENDER_OTHER_ATTACHMENT:"composer_render_other_attachment",COMPOSER_RENDER_EVENT_DIALOG:"composer_render_event_dialog",COMPOSER_RENDER_MLE_DIALOG:"composer_render_mle_dialog",COMPOSER_CONTENT_ENTRY:"composer_content_entry",COMPOSER_GATING_OPEN:"composer_gating_open",COMPOSER_GATING_SAVE:"composer_gating_save",COMPOSER_LINK_SCRAPED:"composer_link_scraped",COMPOSER_TARGETING_OPEN:"composer_targeting_open",COMPOSER_TARGETING_SELECTED:"composer_targeting_selected",COMPOSER_BLOCKED_WITH_WARNING:"composer_blocked_with_warning",CHECKIN_PROMOTION_CREATED:"checkin_promo_created",MIGRATE_LIKES_TO_SUBSCRIBE:"migrate_likes_to_subscribe",TIMELINE_ACTIVATE:"timeline_activate",TIMELINE_DEACTIVATE:"timeline_deactivate",TIMELINE_PUBLISH:"timeline_publish",TIMELINE_UNPUBLISH:"timeline_unpublish",TIMELINE_TOUR_COMPLETED:"timeline_tour_completed",TIMELINE_RENDER_ACTIVATION_MEGAPHONE:"timeline_render_activation_megaphone",TIMELINE_NEW_PAGE_CREATED:"timeline_new_timeline_page_created",COVER_PHOTO_SET:"cover_photo_set",COVER_PHOTO_CHANGED:"cover_photo_changed",COVER_PHOTO_REMOVED:"cover_photo_removed",COVER_AREA_CTA_IMPRESSION:"cover_area_cta_impression",COVER_AREA_DESCRIPTION_IMPRESSION:"cover_area_description_impression",COVER_AREA_DESCRIPTION_UPDATE:"cover_area_description_update",ADDRESS_CHANGED:"address_changed",DESCRIPTION_CHANGED:"description_changed",POST_PIN_TO_TOP:"post_pin_to_top",POST_UNPIN_FROM_TOP:"post_unpin_from_top",POST_CHANGE_DATE:"post_change_date",POST_HIDE:"post_hide",POST_USE_DEFAULT:"post_use_default",POST_DELETE:"post_delete",POST_ALLOW:"post_allow",POST_MARK_SPAM:"post_mark_spam",POST_EDIT:"post_edit",ADMIN_PANEL_CLICK:"admin_panel_click",ADMIN_PANEL_LOAD:"admin_panel_load",ADMIN_PANEL_CHANGE:"admin_panel_change",ADMIN_PANEL_NEXT_TIP:"admin_panel_next_tip",VIEW_ADMIN_TIP:"view_admin_tip",ADMIN_TIP_INLINE_EDIT:"admin_tip_inline_edit",ROE_TIP_CLICK:"roe_tip_click",FRIEND_SUMMARY_CLICK:"friend_summary_click",FRIEND_ACTIVITY_ACTION:"friend_activity_action",FRIEND_ACTIVITY_CLICK:"friend_activity_click",RECENT_POSTS_BY_OTHERS:"recent_posts_by_others",CLICK_PAGES_LIKED_BY_PAGE_ALL:"click_pages_liked_by_page_all",CLICK_PAGES_THAT_LIKE_THIS_PAGE_ALL:"click_pages_that_like_this_page_all",CLICK_RECOMMENDATIONS_ALL:"click_recommendations_all",SET_WALL_FILTER:"set_wall_filter",CLICK_ACTIVITY_LOG:"click_activity_log",SET_DEFAULT_VISIBILITY:"set_default_visibility",LISTEN:"listen",POST_DETAIL_VIEW:"post_detail_view",BOOSTED_POST_DIALOG_VIEW:"boosted_post_dialog_view",CREATE_QR_CODE:"create_qr_code",CREATE_POST_CLICK:"create_post_click",MSG_THREAD_TAGGED_BY_PAGE:"msg_thread_tagged_by_page",MSG_THREAD_TAGGED_BY_USER:"msg_thread_tagged_by_user",MSITE_BULK_ACTION_CALLED:"msite_bulk_action_called",MSITE_THREAD_ACTION_CALLED:"msite_thread_action_called",MSITE_FOLDER_CHANGE_CLICKED:"folder_change_clicked",MSITE_BULK_ACTION_VIEW_OPENED:"msite_bulk_action_view_opened",MSITE_FLAGGING_ACTION_FROM_THREAD:"msite_flagging_action_from_thread",MSITE_PMA_MSG_UPSELL_INSTALL_CLICK:"msite_pma_msg_upsell_install_click",MSITE_PMA_MSG_UPSELL_CLOSE_CLICK:"msite_pma_msg_upsell_close_click",MSITE_PMA_MSG_UPSELL_IMPRESSION:"msite_pma_msg_upsell_impression",SILENT_ADD_FAN_ENDPOINT:"silent_add_fan_endpoint",POST_SCHEDULE:"post_schedule",POST_RESCHEDULE:"post_reschedule",POST_SCHEDULE_CANCEL:"post_schedule_cancel",POST_SCHEDULE_DELETE:"post_schedule_delete",POST_SCHEDULE_MANUAL_PUBLISH:"post_schedule_manual_publish",POST_ACTIONS_BUTTON_NUX_RENDER:"pab_nux_render",POST_ACTIONS_BUTTON_NUX_WRITE:"pab_nux_write",CREATE_DRAFT_POST:"create_draft_post",VIEW_DRAFT_POSTS:"view_draft_posts",PAB_DROPDOWN_CLICK:"pab_dropdown_click",PAB_POST_SELECTED:"pab_post_selected",PAB_SCHEDULE_SELECTED:"pab_schedule_selected",PAB_ADS_POST_SELECTED:"pab_ads_post_selected",PAB_DRAFT_SELECTED:"pab_draft_selected",PAB_BACKDATE_SELECTED:"pab_backdate_selected",BOOSTED_COMPONENT_CONSOLIDATED_PROMOTE_CLICK:"boosted_component_consolidated_promote_click",BOOSTED_LOCALAWARENESS_RECALL_STORED_AD_TARGET_SPEC_ERROR:"boosted_localawareness_recall_stored_ad_target_spec_error",CONTEXT_CARD_VIEW:"context_card_view",CONTEXT_CARD_ENABLE:"context_card_enable",CONTEXT_CARD_DISABLE:"context_card_disable",PAGES_ADMIN_TOOL_CONTEXT_CARD_UI_ACTION:"pages_admin_tool_context_card_ui_action",PAGES_ADMIN_TOOL_MANAGE_TAG_UI_ACTION:"pages_admin_tool_manage_tag_ui_action",PAGES_ADMIN_TOOL_MESSAGE_INBOX_UI_ACTION:"pages_admin_tool_message_inbox_ui_action",PAGES_ADMIN_TOOL_HOVERCARD_UI_ACTION:"pages_admin_tool_hovercard_ui_action",CUSTOM_CTA_CREATE:"custom_cta_create",CUSTOM_CTA_CREATE_EXCEPTION:"custom_cta_create_exception",CUSTOM_CTA_EDIT:"custom_cta_edit",CUSTOM_CTA_EDIT_EXCEPTION:"custom_cta_edit_exception",CUSTOM_CTA_DELETE:"custom_cta_delete",CUSTOM_CTA_VIEW_CREATE:"custom_cta_view_create",CUSTOM_CTA_VIEW_EDIT:"custom_cta_view_edit",CUSTOM_CTA_VIEW_DELETE:"custom_cta_view_delete",CUSTOM_CTA_VIEW_SPRINGBOARD:"custom_cta_view_springboard",CUSTOM_CTA_CLICK_CTA_DROPDOWN:"custom_cta_click_cta_dropdown",CUSTOM_CTA_SHOW_VIEWER_UNIT:"custom_cta_show_viewer_unit",CUSTOM_CTA_SHOW_VIEWER_UNIT_PLUGIN:"custom_cta_show_viewer_unit_plugin",CUSTOM_CTA_ADMIN_CALLOUT:"custom_cta_admin_callout",CUSTOM_CTA_CLICK_VIEWER_UNIT:"custom_cta_click_viewer_unit",CUSTOM_CTA_HOVER_VIEWER_UNIT:"custom_cta_hover_viewer_unit",CUSTOM_CTA_CLICK_DELETE:"custom_cta_click_delete",CUSTOM_CTA_CLICK_TEST_LINK:"custom_cta_click_test_link",CUSTOM_CTA_CLICK_EDIT_MENU:"custom_cta_click_edit_menu",CUSTOM_CTA_NO_DESKTOP_MAPPING:"custom_cta_no_desktop_mapping",CUSTOM_CTA_CLICK_SAVE_EDIT:"custom_cta_click_save_edit",CUSTOM_CTA_CLICK_EXPAND_APPS_SECTION:"custom_cta_click_expand_apps_section",CUSTOM_CTA_CLICK_COLLAPSE_APPS_SECTION:"custom_cta_click_collapse_apps_section",CUSTOM_CTA_CLICK_CHANGE_WEB_DESTINATION_TYPE:"custom_cta_click_change_web_destination_type",CUSTOM_CTA_CLICK_BROWSE_VIDEO_LIBRARY:"custom_cta_click_browse_video_library",CUSTOM_CTA_CLICK_UPLOAD_VIDEO:"custom_cta_click_upload_video",CUSTOM_CTA_CLICK_PREVIEW_UNIT:"custom-cta_click_preview_unit",CUSTOM_CTA_CHANGE_CTA_TYPE:"custom_cta_change_cta_type",CUSTOM_CTA_CHANGE_WEB_LINK:"custom_cta_change_web_link",CUSTOM_CTA_CHANGE_MOBILE_LINK:"custom_cta_change_mobile_link",CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE:"custom_cta_change_ios_destination_type",CUSTOM_CTA_CHANGE_IPHONE_DEEPLINK:"custom_cta_change_ios_deeplink",CUSTOM_CTA_CHANGE_IPHONE_LINK:"custom_cta_change_ios_backup_link",CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE:"custom_cta_change_android_destination_type",CUSTOM_CTA_CHANGE_ANDROID_PACKAGE_NAME:"custom_cta_change_android_package_name",CUSTOM_CTA_CHANGE_ANDROID_DEEPLINK:"custom_cta_change_android_deeplink",CUSTOM_CTA_CHANGE_ANDROID_LINK:"custom_cta_change_android_backup_link",CUSTOM_CTA_CLICK_CANCEL:"custom_cta_click_cancel",CUSTOM_CTA_CLICK_NEXT_BUTTON:"custom_cta_click_next_button",CUSTOM_CTA_CLICK_BACK_BUTTON_ON_DIALOG:"custom_cta_click_back_button_on_dialog",CUSTOM_CTA_SAVE_SECTION:"custom_cta_save_section",CUSTOM_CTA_CLICK_CREATE_BUTTON:"custom_cta_click_create_button",CUSTOM_CTA_VIEWER_CONTACT_US_CLICK_CANCEL:"custom_cta_viewer_contact_us_click_cancel",CUSTOM_CTA_WWW_CONTACT_US_LEADGEN:"custom_cta_www_contact_us_leadgen",CUSTOM_CTA_RESPOND_CONTACT_US_LEAD:"custom_cta_respond_contact_us_lead",CUSTOM_CTA_BROKEN_DETECTED:"custom_cta_broken_detected",CUSTOM_CTA_BROKEN_RECOVERY:"custom_cta_broken_recovery",CUSTOM_CTA_VIEW_CREATE_MOBILE:"custom_cta_view_create_mobile",CUSTOM_CTA_CLICK_SAVE_MOBILE:"custom_cta_click_save_mobile",CUSTOM_CTA_CLICK_EDIT_MOBILE:"custom_cta_click_edit_mobile",CUSTOM_CTA_CLICK_DELETE_MOBILE:"custom_cta_click_delete_mobile",CUSTOM_CTA_CLICK_CANCEL_DELETE_MOBILE:"custom_cta_click_cancel_delete_mobile",CUSTOM_CTA_CLICK_CONFIRM_DELETE_MOBILE:"custom_cta_click_confirm_delete_mobile",CUSTOM_CTA_MOBILE_SWITCH_SELECT_OPTIONS:"custom_cta_mobile_switch_select_options",CUSTOM_CTA_MOBILE_INVALID_URL:"custom_cta_mobile_invalid_url",CUSTOM_CTA_CLICK_EDIT_CANCEL_MOBILE:"custom_cta_click_edit_cancel_mobile",CUSTOM_CTA_SWITCH_TYPES_MOBILE:"custom_cta_switch_types_mobile",CUSTOM_CTA_MOBILE_CONTACT_US_TAPPED_ALL_REQUESTS:"custom_cta_mobile_contact_us_tapped_all_requests",CUSTOM_CTA_MOBILE_CONTACT_US_TAPPED_REQUEST:"custom_cta_mobile_contact_us_tapped_request",CUSTOM_CTA_MOBILE_CONTACT_US_TAPPED_EMAIL:"custom_cta_mobile_contact_us_tapped_email",CUSTOM_CTA_MOBILE_CONTACT_US_TAPPED_PHONE:"custom_cta_mobile_contact_us_tapped_phone",CUSTOM_CTA_MOBILE_CONTACT_US_TOGGLE_RESPONDED:"custom_cta_mobile_contact_us_toggle_responded",CUSTOM_CTA_MOBILE_CONTACT_US_TAPPED_BAN_FROM_PAGE:"custom_cta_mobile_contact_us_tapped_ban_from_page",CUSTOM_CTA_MOBILE_CLICK_NEXT_BUTTON:"custom_cta_mobile_click_next_button",CUSTOM_CTA_CHECK_SETUP_DEEPLINK:"custom_cta_check_setup_deeplink",CUSTOM_CTA_UNCHECK_SETUP_DEEPLINK:"custom_cta_uncheck_setup_deeplink",CUSTOM_CTA_SWITCH_TO_LINKOUT:"custom_cta_switch_to_linkout",CUSTOM_CTA_SWITCH_FROM_LINKOUT:"custom_cta_switch_from_linkout",CUSTOM_CTA_MOBILE_ADMIN_FLOW_ERROR:"custom_cta_mobile_admin_flow_error",CUSTOM_CTA_MOBILE_TAPPED_CTA:"custom_cta_mobile_tapped_cta",CUSTOM_CTA_MOBILE_IMPRESSION:"custom_cta_mobile_impression",CUSTOM_CTA_MOBILE_CONTACT_US_LEADGEN:"custom_cta_mobile_contact_us_leadgen",CUSTOM_CTA_MOBILE_CLICK_BACK_BUTTON:"custom_cta_mobile_click_back_button",CUSTOM_CTA_MOBILE_BACK_CLICK_YES:"custom_cta_mobile_back_click_yes",CUSTOM_CTA_MOBILE_BACK_CLICK_NO:"custom_cta_mobile_back_click_no",CUSTOM_CTA_MOBILE_CLICK_ENTITY_LINK:"custom_cta_mobile_click_entity_link",CUSTOM_CTA_CLICK_PROMOTE_MENU:"custom_cta_click_promote_menu",PRODUCT_CREATE:"product_create",PRODUCT_UPDATE:"product_update",PRODUCT_DELETE:"product_delete",PRODUCT_LIST_CREATE:"product_list_create",PRODUCT_LIST_UPDATE:"product_list_update",PRODUCT_LIST_DELETE:"product_list_delete",PRODUCT_ALBUM_CREATE:"product_album_create",PRODUCT_PIC_UPLOAD:"product_pic_upload",PRODUCT_PIC_REMOVE:"product_pic_remove",PRODUCT_REORDER:"product_reorder",PRODUCT_NEWSFEED_IMPRESSION:"product_newsfeed_impression",PRODUCT_VIEWER_OPEN:"product_viewer_open",PRODUCT_WANT:"product_want",PRODUCT_WANT_REASON:"product_want_reason",PRODUCT_UNWANT:"product_unwant",PRODUCT_BUY_CLICK:"product_buy_click",PRODUCT_MINUTAE_TAG:"product_minutae_tag",PRODUCT_PHOTO_TAG:"product_photo_tag",PRODUCT_CREATE_TAG:"product_create_tag",PAGE_MENU_IMPRESSION:"page_menu_impression",POPULAR_MENU_ITEMS_IMPRESSION:"popular_menu_items_impression",POST_CHECKIN_MENU_IMPRESSION:"post_checkin_menu_impression",PRODUCT_ATTACHMENT_IMPRESSION:"product_attachment_impression",PRODUCT_LIKE:"product_like",PRODUCT_UNLIKE:"product_unlike",CLICK_FINCH_WEB_MENU:"click_finch_web_menu",CLICK_BASIC_INFO_MENU:"click_basic_info_menu",VIEW_ACTIVITY_LOG:"view_activity_log",VIEW_WALL_FILTER:"view_wall_filter",OPEN_SIDE_UNIT_REORDER_DIALOG:"open_side_unit_reorder_dialog",MODIFY_SIDE_UNITS_ORDER:"modify_side_units_order",MODIFY_PROFILE_TAB_ORDER:"modify_profile_tab_order",ADMIN_SETTING_OPEN_FIELD:"admin_setting_open_field",ADMIN_SETTING_SAVE_FIELD:"admin_setting_save_field",ADMIN_SETTING_CHANGE_NAME_ERROR:"admin_setting_change_name_error",LOW_FAN_PAGE_NAME_CHANGE_ATTEMPT:"low_fan_page_name_change_attempt",LOW_FAN_PAGE_NAME_CHANGE_FAILURE:"low_fan_page_name_change_failure",LOW_FAN_PAGE_NAME_CHANGE_SUCCESS:"low_fan_page_name_change_success",LOW_FAN_PAGE_NAME_CHANGE_ENQUEUED:"low_fan_page_name_change_enqueued",PAGE_NAME_CHANGE_SUCCESS:"page_name_change_success",PAGE_NAME_CHANGE_CROW:"page_name_change_crow",PAGE_NAME_CHANGE_REQUEST_INVALID_NOOB_ADMIN:"page_name_change_request_noob_admin",LINKED_IMAGE_POST_UPLOAD:"linked_image_post_upload",LINKED_IMAGE_POST_CREATE:"linked_image_post_create",EMAIL_REDIRECT:"email_redirect",CALLOUT_SHOWN:"callout_shown",CALLOUT_XOUT:"callout_xout",SHOW_ADMIN_PANEL:"show_admin_panel",SHOW_PUBLIC_VIEW:"show_public_view",FINCH_REDESIGN_WAITLIST:"add_page_to_finch_waitlist",FINCH_REDESIGN_OPT_IN:"optin_page_to_finch_redesign",FINCH_REDESIGN_FORCE_OPT_IN:"force_optin_page_to_finch_redesign",FINCH_FORCE_OPT_IN_FAILED:"force_optin_to_finch_redesign_failed",FINCH_REDESIGN_VIEW_TOUR:"view_finch_admin_tour",FINCH_REDESIGN_ADMIN_OPT_IN:"optin_admins_to_finch_redesign",FINCH_REVERT_TO_OLD_DESIGN:"reverted_to_pre_finch_design",TAPPED_ADDRESS_ROW:"tapped_address_row",TAPPED_COPY_LINK:"tapped_copy_link",TAPPED_GIVE_FEEDBACK:"tapped_give_feedback",TAPPED_NEARBY_LOCATION:"tapped_nearby_location",TAPPED_ABOUT_INFO_BLURB:"tapped_about_info_blurb",TAPPED_LIKE_PAGE:"tapped_like_page",TAPPED_UNLIKE_PAGE:"tapped_unlike_page",TAPPED_SHARE_PAGE:"tapped_share_page",TAPPED_SHARE_PAGE_IN_MESSAGE:"tapped_share_page_in_message",TAPPED_CHECK_IN:"tapped_check_in",TAPPED_CALL_BUTTON:"tapped_call_button",TAPPED_CALL_TO_ACTION_BUTTON:"tapped_call_to_action_button",TAPPED_TO_EXTERNAL_LINK:"tapped_to_external_link",TAPPED_CREATE_EVENT_BUTTON:"tapped_create_event_button",TAPPED_CREATE_JOB_BUTTON:"tapped_create_job_button",TAPPED_MESSAGE_BUTTON:"tapped_message_button",TAPPED_MORE_BUTTON:"tapped_more_button",TAPPED_NOTIFICATION_SETTING:"tapped_notification_setting",TAPPED_DIRECTIONS_BUTTON:"tapped_directions_button",TAPPED_ORDERS_HELP:"tapped_orders_help",TAPPED_PAGE_COVER_PHOTO:"tapped_page_cover_photo",TAPPED_FEED_PAGE_ATTACHMENT:"tapped_feed_page_attachment",TAPPED_FEED_PAGE_ATTACHMENT_MAP:"tapped_feed_page_attachment_map",TAPPED_OPEN_PAGE_NAVIGATION:"tapped_open_page_navigation",TAPPED_PAGE_VENUE_EVENT_ABOUT:"tapped_page_venue_event_about",TAPPED_PAGE_MAP:"tapped_page_map",TAPPED_PAGE_PROFILE_PICTURE:"tapped_page_profile_picture",TAPPED_EDIT_PAGE_PROFILE_PICTURE:"tapped_edit_page_profile_picture",TAPPED_FOLLOW_BUTTON:"tapped_follow_button",TAPPED_UNFOLLOW_BUTTON:"tapped_unfollow_button",TAPPED_SUGGEST_EDIT:"tapped_suggest_edit",TAPPED_REPORT_BUTTON:"tapped_report_button",TAPPED_REPORT_PLACE_CLOSED_BUTTON:"tapped_report_place_closed",TAPPED_REPORT_PLACE_OPEN_BUTTON:"tapped_report_place_open",TAPPED_CREATE_PAGE_BUTTON:"tapped_create_page_button",TAPPED_ADS_MANAGER_BUTTON:"tapped_ads_manager_button",TAPPED_RECOMMEND_BUTTON:"tapped_recommend_button",TAPPED_RECOMMEND_PAGE:"tapped_recommend_page",TAPPED_VIEW_TIMELINE_BUTTON:"tapped_view_timeline_button",TAPPED_POSTS_BY_OTHERS:"tapped_posts_by_others",TAPPED_INVITE_MORE_FRIENDS:"tapped_invite_more_friends",TAPPED_SEND_EMAIL:"tapped_send_email",TAPPED_VIEW_WEBSITE:"tapped_view_website",TAPPED_TV_SUBSCRIBE_NEW_EPISODES:"tapped_tv_subscribe_new_episodes",TAPPED_TV_UNSUBSCRIBE_NEW_EPISODES:"tapped_tv_unsubscribe_new_episodes",TAPPED_SAVE_BUTTON:"tapped_save_button",TAPPED_UNSAVE_BUTTON:"tapped_unsave_button",PAGE_RATING_SUCCESSFUL:"page_rating_successful",TAPPED_ENTITY_CARD_ACTION:"tapped_entity_card_action",TAPPED_DEEP_LINK_ACTION:"tapped_deep_link_action",TAPPED_SCROLL_TO_TOP_PILL:"tapped_scroll_back_to_top_pill_button",TAPPED_EVENT_LISTING:"tapped_event_listing",TAPPED_EVENT_GOING:"tapped_event_going",TAPPED_EVENT_INTERESTED:"tapped_event_interested",TAPPED_EVENT_NOT_INTERESTED:"tapped_event_not_interested",TAPPED_EVENT_NOT_GOING:"tapped_event_not_going",TAPPED_PAGE_EVENT:"tapped_page_event",TAPPED_CREATE_SHORTCUT:"tapped_create_shortcut",TAPPED_PLACE_CLAIM:"tapped_place_claim",TAPPED_PLACE_CLAIM_CONTEXT_ROW:"tapped_place_claim_context_row",TAPPED_AUTHENTICATE_PAGE:"tapped_authenticate_page",TAPPED_PAGE_ABOUT:"tapped_page_about",TAPPED_FRIENDS_HERE_NOW:"tapped_friends_here_now",TAPPED_FRIEND_LIKERS_OR_VISITORS:"tapped_friend_likers_or_visitors",TAPPED_RECOMMENDATION:"tapped_recommendation",TAPPED_ALL_RECOMMENDATIONS:"tapped_all_recommendations",TAPPED_ALL_NEARBY_LOCATIONS_LIST:"tapped_all_nearby_locations_list",TAPPED_ALL_NEARBY_LOCATIONS_MAP:"tapped_all_nearby_locations_map",TAPPED_PHOTOS_BY_PAGE:"tapped_photos_by_page",TAPPED_PHOTOS_AT_PAGE:"tapped_photos_at_page",TAPPED_PHOTOS_OF_PAGE:"tapped_photos_of_page",TAPPED_ALL_PHOTOS:"tapped_all_photos",TAPPED_FRIEND_TIMELINE:"tapped_friend_timeline",TAPPED_PAGE_WIKIPEDIA_PAGE:"tapped_page_wikipedia_page",TAPPED_MAP:"tapped_places_map",TAPPED_ALL_EVENTS:"tapped_all_events",TAPPED_REQUEST_RIDE_BUTTON:"tapped_request_ride_button",TAPPED_SHARE_PAGE_TO_MESSENGER:"tapped_share_page_to_messenger",TAPPED_WRITE_POST:"tapped_write_post",TAPPED_SHARE_PHOTO:"tapped_share_photo",TAPPED_LISTEN_BUTTON:"tapped_listen_button",TAPPED_POPULAR_MUSIC_BUTTON:"tapped_popular_music_button",TAPPED_APPS_SEE_ALL:"tapped_apps_see_all",TAPPED_APP:"tapped_app",VIEW_RECENT_POST:"view_recent_post",TAPPED_LIKE_RECENT_POST:"tapped_like_recent_post",TAPPED_COMMENT_ON_RECENT_POST:"tapped_comment_on_recent_post",TAPPED_SHARE_RECENT_POST:"tapped_share_recent_post",CLICK_ACTIVITY_LOG_FROM_SPP:"click_activity_log_from_spp",TAPPED_MENU_INFO:"tapped_menu_info",TAPPED_MENU_ITEM:"tapped_menu_item",TAPPED_MENU_ITEM_PROFILE_PIC:"tapped_menu_item_profile_pic",TAPPED_MENU_ITEM_LIKE:"tapped_menu_item_like",TAPPED_MENU_ITEM_UNLIKE:"tapped_menu_item_unlike",TAPPED_SEE_FULL_MENU:"tapped_see_full_menu",PAGES_WWW_TIMELINE_LOAD_ERROR:"pages_www_timeline_load_error",PAGES_WWW_PAGELET_LOAD_ERROR:"pages_www_pagelet_load_error",PAGES_WWW_POST_LOAD_ERROR:"pages_www_post_load_error",WRITE_RECOMMENDATION:"write_recommendation",CLICK_RECOMMENDATIONS_SEE_MORE:"click_recommendations_see_more",CLICK_RECOMMENDATIONS_TAB:"click_recommendations_tab",LIKE_RECOMMENDATION:"like_recommendation",COMMENT_ON_RECOMMENDATION:"comment_on_recommendation",RATE_PAGE:"rate_page",PAGE_REVIEWS_ENABLED:"page_reviews_enabled",PAGE_REVIEWS_DISABLED:"page_reviews_disabled",PAGE_RATINGS_ON_ADS_ENABLED:"page_rating_on_ads_enabled",PAGE_RATINGS_ON_ADS_DISABLED:"page_rating_on_ads_disabled",SAVE_PAGE:"save_page",BAN_USER:"ban_user",UNBAN_USER:"unban_user",BAN_USER_MOBILE:"ban_user_mobile",ANDROID_PAGES_BAN_ACTIONS:"android_pages_ban_actions",ANDROID_PMA_BAN_ACTIONS:"android_pma_ban_actions",EDIT_TAP_REPLACE_ACTION:"edit_tap_replace_action",EDIT_COMPLETE_REPLACE_ACTION:"edit_complete_replace_action",EDIT_USE_DEFAULT_BUTTONS:"edit_use_default_buttons",UPDATE_INFO_SHOWN:"update_info_button_shown",UPDATE_INFO_EDIT_VIEW:"update_info_edit_view",PAGE_BROWSER_CHAINING_IMP:"page_browser_chaining_imp",PAGE_BROWSER_PAGE_IMP:"page_browser_page_imp",RESERVATIONS_TAPPED_CHANGE_PARTY_SIZE:"reservations_search_change_party_size",RESERVATIONS_TAPPED_CHANGE_TIME:"reservations_search_change_time",RESERVATIONS_TAPPED_RESULT:"reservations_search_search_result_tapped",RESERVATIONS_TAPPED_BACK:"reservations_confirmation_back_tapped",RESERVATIONS_TAPPED_RESERVE:"reservations_confirmation_reserve_tapped",RESERVATIONS_TAPPED_CANCEL:"reservations_made_reservation_cancel_tapped",RESERVATIONS_SEARCH_STARTED:"reservations_search_started",RESERVATIONS_SEARCH_FAILED:"reservations_search_failed",RESERVATIONS_SEARCH_RECEIVED_RESULTS:"reservations_search_received_results",RESERVATIONS_RESERVATION_MADE:"reservations_reservation_made",RESERVATIONS_API_SEARCH_STARTED:"reservations_api_search_started",RESERVATIONS_API_SEARCH_SUCCESS:"reservations_api_search_success",RESERVATIONS_API_SEARCH_FAILED:"reservations_api_search_failed",RESERVATIONS_API_PROVISION_STARTED:"reservations_api_provision_started",RESERVATIONS_API_PROVISION_SUCCESS:"reservations_api_provision_success",RESERVATIONS_API_PROVISION_FAILED:"reservations_api_provision_failed",RESERVATIONS_API_CONFIRMATION_STARTED:"reservations_api_confirmation_started",RESERVATIONS_API_CONFIRMATION_SUCCESS:"reservations_api_confirmation_success",RESERVATIONS_API_CONFIRMATION_FAILED:"reservations_api_confirmation_failed",RESERVATIONS_API_CANCEL_STARTED:"reservations_api_cancel_started",RESERVATIONS_API_CANCEL_SUCCESS:"reservations_api_cancel_success",RESERVATIONS_API_CANCEL_FAILED:"reservations_api_cancel_failed",RESERVATIONS_DB_ERROR:"reservations_db_lookup_error",RESERVATIONS_EXISTING_CHECK_STARTED:"reservations_existing_check_started",RESERVATIONS_EXISTING_CHECK_SUCCESS:"reservations_existing_check_success",RESERVATIONS_EXISTING_CHECK_FAILED:"reservations_existing_check_failed",PHOTO_STREAM_PHOTO_VIEW:"photo_stream_photo_view",PHOTO_UNIT_PHOTO_VIEW:"photo_unit_photo_view",CLICK_PHOTOS_SEE_MORE:"click_photos_see_more",TAPPED_CREATE_ALBUM:"tapped_create_album",TAPPED_ALBUM:"tapped_album",TAPPED_ADD_PHOTOS:"tapped_add_photos",TAPPED_PHOTO:"tapped_photo",CLICK_VIDEOS_SEE_MORE:"click_videos_see_more",VIDEO_SET_PLAY:"video_set_play",VIDEO_MAIN_VIDEO_PLAY:"video_main_video_play",VIDEO_THUMBNAIL_VIDEO_PLAY:"video_thumbnail_video_play",VIDEO_TRAILER_VIDEO_PLAY:"video_trailer_video_play",TAPPED_VIDEO:"tapped_video",TAPPED_VIDEO_CARD:"tapped_video_card",CLICK_APPS_SEE_MORE:"click_apps_see_more",CLICK_LOCATIONS_MAP:"click_locations_map",CLICK_LOCATIONS_GET_DIRECTIONS:"click_locations_get_directions",CLICK_LOCATIONS_ADDRESS:"click_locations_address",CREATE_LANDMARK:"create_landmark",EDIT_LANDMARK:"edit_landmark",DELETE_LANDMARK:"delete_landmark",CLICK_POSTS_BY_OTHERS_SEE_MORE:"click_posts_by_others_see_more",CLICK_POSTS_BY_OTHERS_TAB:"click_posts_by_others_tab",CLICK_POSTS_ABOUT_TAB:"click_posts_about_tab",CLICK_POSTS_BY_PAGES_TAB:"click_posts_by_pages_tab",ADMIN_ROLE_ADD_NEW:"admin_role_add_new",ADMIN_ROLE_ERROR_ADD_NEW:"admin_role_error_add_new",ADMIN_ROLE_INVITE_NEW:"admin_role_invite_new",ADMIN_ROLE_CHANGE_PERMISSION:"admin_role_change_permission",ADMIN_ROLE_ERROR_CHANGE_PERMS:"admin_role_error_change_permission",ADMIN_ROLE_DELETE_EXISTING:"admin_role_delete_existing",ADMIN_ROLE_ERROR_DELETE_EXISTING:"admin_role_error_delete_existing",ADMIN_ROLE_ADD_INVALID_ID:"admin_role_add_invalid_id",ADMIN_ROLE_CLICK_CANCEL_BUTTON:"admin_role_click_cancel_button",NOOB_ADMIN_ERROR_REMOVE_EXISTING_ADMIN:"noob_admin_error_remove_existing_admin",PAGE_ROLES_PERSONAS_STATUS_CHANGE:"page_roles_personas_status_change",BOOKING_ADMIN_TAPPED_CREATE_APPOINTMENT:"booking_admin_tapped_create_appointment",BOOKING_ADMIN_TAPPED_SCHEDULE_APPOINTMENT:"booking_admin_tapped_schedule_appointment",BOOKING_ADMIN_TAPPED_CANCEL_APPOINTMENT:"booking_admin_tapped_cancel_appointment",BOOKING_ADMIN_TAPPED_DECLINE_APPOINTMENT:"booking_admin_tapped_decline_appointment",BOOKING_CONSUMER_TAPPED_ACCEPT_APPOINTMENT:"booking_consumer_tapped_accept_appointment",BOOKING_CONSUMER_TAPPED_DECLINE_APPOINTMENT:"booking_consumer_tapped_decline_appointment",BOOKING_CONSUMER_TAPPED_CANCEL_APPOINTMENT:"booking_consumer_tapped_cancel_appointment",BOOKING_CONSUMER_FLOW_EVENT:"booking_consumer_flow_event",BOOKING_CONSUMER_APPOINTMENT_CONFIRMATION_DETAIL_VIEW:"booking_consumer_appointment_confirmation_detail_view",BOOKING_CONSUMER_APPOINTMENT_CONFIRMATION_DONE:"booking_consumer_appointment_confirmation_done",BOOKING_CONSUMER_APPOINTMENT_CONFIRMATION_SEE_MORE:"booking_consumer_appointment_confirmation_see_more",SERVICES_BOOKING_CONSUMER_REQUEST_CHANGE_CTA_IMPRESSION:"services_booking_consumer_request_change_cta_impression",SERVICES_BOOKING_CONSUMER_TAP_REQUEST_CHANGE:"services_booking_consumer_tap_request_change",SERVICES_BOOKING_CONSUMER_ENTER_REQUEST_NEW_TIME_FLOW:"services_booking_consumer_enter_request_new_time_flow",SERVICES_BOOKING_CONSUMER_REQUEST_NEW_TIME:"services_booking_consumer_request_new_time",BOOKING_ADMIN_CLICK_SENT_LIST:"booking_admin_click_sent_list",BOOKING_ADMIN_CLICK_REQUEST_LIST:"booking_admin_click_request_list",BOOKING_CONSUMER_CLICK_ADDRESS:"booking_consumer_click_address",BOOKING_CONSUMER_CLICK_CALL:"booking_consumer_click_call",BOOKING_CONSUMER_CLICK_UPCOMING_LIST:"booking_consumer_click_upcoming_list",BOOKING_CONSUMER_OPEN_MESSAGE_THREAD:"booking_consumer_open_message_thread",BOOKING_CONSUMER_TAPPED_CONFIRMED_BANNER:"booking_consumer_tapped_confirmed_banner",BOOKING_ADMIN_BANNER_TAPPED_SCHEDULE:"booking_admin_banner_tapped_schedule",BOOKING_ADMIN_BANNER_IMPRESSION:"booking_admin_banner_impression",BOOKING_CONSUMER_BANNER_IMPRESSION:"booking_consumer_banner_impression",BOOKING_ADMIN_ADMIN_TEXT_IMPRESSION:"booking_admin_admin_text_impression",BOOKING_ADMIN_THREAD_INTENT_ADMIN_TEXT_IMPRESSION:"booking_admin_thread_intent_admin_text_impression",BOOKING_ADMIN_COMPOSER_ICON_IMPRESSION:"booking_admin_composer_icon_impression",BOOKING_ADMIN_SEND_AVAILABILITY_COMPOSER_IMPRESSION:"booking_admin_send_availability_composer_impression",BOOKING_ADMIN_THREAD_INTENT_COMPOSER_BADGING_IMPRESSION:"booking_admin_thread_intent_composer_badging_impression",BOOKING_ERROR:"booking_error",BOOKING_CONSUMER_REQUEST_APPOINTMENT:"booking_consumer_request_appointment",PAGES_PLATFORM_NATIVE_BOOKING_ACTION:"pages_platform_native_booking_action",BOOKING_ADMIN_BUBBLE_TAPPED_CREATE:"booking_admin_bubble_tapped_create",BOOKING_ADMIN_BUBBLE_TAPPED_DECLINE:"booking_admin_bubble_tapped_decline",BOOKING_ADMIN_BUBBLE_TAPPED_SCHEDULE:"booking_admin_bubble_tapped_schedule",BOOKING_ADMIN_VIEW_DETAIL_APPOINTMENT_BUBBLE:"booking_admin_view_detail_appointment_bubble",BOOKING_CONSUMER_ACCEPT_APPOINTMENT_BUBBLE:"booking_consumer_accept_appointment_bubble",BOOKING_CONSUMER_DECLINE_APPOINTMENT_BUBBLE:"booking_consumer_decline_appointment_bubble",BOOKING_CONSUMER_VIEW_DETAIL_APPOINTMENT_BUBBLE:"booking_consumer_view_detail_appointment_bubble",BOOKING_CONSUMER_APPOINTMENT_DETAIL_VIEW_IMPRESSION:"booking_consumer_appointment_detail_view_impression",BOOKING_CONSUMER_TAPPED_REQUEST_ANOTHER_APPOINTMENT:"booking_consumer_tapped_request_another_appointment",BOOKING_ADMIN_ACTION_SHEET_IMPRESSION:"booking_admin_action_sheet_impression",BOOKING_ADMIN_ACTION_SHEET_TAPPED_DIFFERENT_TIME:"booking_admin_action_sheet_tapped_different_time",BOOKING_ADMIN_ACTION_SHEET_TAPPED_SUGGESTED_TIME:"booking_admin_action_sheet_tapped_suggested_time",BOOKING_CONSUMER_PENDING_BANNER_IMPRESSION:"booking_consumer_pending_banner_impression",BOOKING_CONSUMER_PENDING_LIST_BANNER_IMPRESSION:"booking_consumer_pending_list_banner_impression",BOOKING_CONSUMER_TAPPED_PENDING_LIST:"booking_consumer_tapped_pending_list",BOOKING_CONSUMER_TAPPED_PENDING_BANNER:"booking_consumer_tapped_pending_banner",BOOKING_CONSUMER_ACCEPT_APPOINTMENT_DETAIL_VIEW:"booking_consumer_accept_appointment_detail_view",BOOKING_ADMIN_TAPPED_EDIT_NOTES:"booking_admin_tapped_edit_notes",BOOKING_ADMIN_TAPPED_ADD_NOTES:"booking_admin_tapped_add_notes",BOOKING_ADMIN_EDIT_NOTES_SAVED:"booking_admin_edit_notes_saved",BOOKING_ADMIN_ADDED_CUSTOMER_NOTES:"booking_admin_added_customer_notes",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_VIEW:"booking_admin_appointment_calendar_tap_view",BOOKING_ADMIN_APPOINTMENT_CALENDAR_VIEW_IMPRESSION:"booking_admin_appointment_calendar_view_impression",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_UPCOMING:"booking_admin_appointment_calendar_tap_upcoming",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_CONFIRMED:"booking_admin_appointment_calendar_tap_confirmed",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_PENDING:"booking_admin_appointment_calendar_tap_pending",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_PAST:"booking_admin_appointment_calendar_tap_past",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_REQUESTED:"booking_admin_appointment_calendar_tap_requested",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_APPOINTMENT:"booking_admin_appointment_calendar_tap_appointment",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_APPOINTMENT_REQUEST:"booking_admin_appointment_calendar_tap_appointment_request",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_SCHEDULE:"booking_admin_appointment_calendar_tap_schedule",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_ACCEPT_REQUEST:"booking_admin_appointment_calendar_tap_accept_request",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_MESSAGE:"booking_admin_appointment_calendar_tap_message",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_CONFIRM_CTA:"booking_admin_appointment_calendar_tap_confirm_cta",BOOKING_ADMIN_APPT_CALENDAR_NULL_STATE_UPSELL_IMPRS:"booking_admin_appt_calendar_null_state_upsell_imprs",BOOKING_ADMIN_APPT_CALENDAR_NULL_STATE_UPSELL_CTA_TAP:"booking_admin_appt_calendar_null_state_upsell_cta_tap",BOOKING_ADMIN_ENTER_CREATION_FLOW:"booking_admin_enter_creation_flow",BOOKING_ADMIN_ENTER_SCHEDULE_FLOW:"booking_admin_enter_schedule_flow",BOOKING_ADMIN_ENTER_EDIT_APPOINTMENT_FLOW:"booking_admin_enter_edit_appointment_flow",BOOKING_ADMIN_TRIGGER_WORD_UNDERLINE_IMPRESSION:"booking_admin_trigger_word_underline_impression",BOOKING_ADMIN_TRIGGER_WORD_CTA_IMPRESSION:"booking_admin_trigger_word_cta_impression",BOOKING_ADMIN_SUGGESTION_INSTANT_BOOK_IMPRESSION:"booking_admin_suggestion_instant_book_impression",BOOKING_ADMIN_SUGGESTION_BOOK_IMPRESSION:"booking_admin_suggestion_book_impression",BOOKING_ADMIN_SUGGESTION_SCHEDULE_APPOINTMENT_IMPRESSION:"booking_admin_suggestion_schedule_appointment_impression",BOOKING_ADMIN_SUGGESTION_SEND_AVAILABILITY_IMPRESSION:"booking_admin_suggestion_send_availability_impression",BOOKING_ADMIN_INTENT_SUGGESTION_BAR_DISMISSED:"booking_admin_intent_suggestion_bar_dismissed",BOOKING_ADMIN_INTENT_SUGGESTION_BAR_INIT_ERROR:"booking_admin_intent_suggestion_bar_init_error",BOOKING_ADMIN_ENTER_AVAILABILITY_PICKER_FLOW:"booking_admin_enter_availability_picker_flow",BOOKING_ADMIN_TAP_SEND_AVAILABILITY_CTA:"booking_admin_tap_send_availability_cta",BOOKING_TAP_TIME_AVAILABILITY_BUBBLE:"booking_tap_time_availability_bubble",BOOKING_ADMIN_COMPOSER_ACTION_SHEET_TAPPED_DIFFERENT_TIME:"booking_admin_composer_action_sheet_tapped_different_time",BOOKING_ADMIN_COMPOSER_ACTION_SHEET_TAPPED_SUGGESTED_TIME:"booking_admin_composer_action_sheet_tapped_suggested_time",BOOKING_ADMIN_COMPOSER_ACTION_SHEET_IMPRESSION:"booking_admin_composer_action_sheet_impression",BOOKING_ADMIN_SEE_UPSELL_NUX:"booking_admin_see_upsell_nux",BOOKING_ADMIN_TAP_LATER_RT_UPSELL:"booking_admin_tap_later_rt_upsell",BOOKING_ADMIN_TAP_LEARN_MORE_RT_UPSELL:"booking_admin_tap_learn_more_rt_upsell",BOOKING_ADMIN_ENTER_CREATE_REQUEST_TIME_FLOW:"booking_admin_enter_create_request_time_flow",BOOKING_ADMIN_REQUEST_BUBBLE_IMPRESSION:"booking_admin_request_bubble_impression",BOOKING_ADMIN_ENTER_DECLINE_FLOW:"booking_admin_enter_decline_flow",BOOKING_CONSUMER_ENTER_REMIND_ME_LATER:"booking_consumer_enter_remind_me_later",BOOKING_CONSUMER_SET_REMIND_ME_LATER:"booking_consumer_set_remind_me_later",BOOKING_CONSUMER_PENDING_BUBBLE_IMPRESSION:"booking_consumer_pending_bubble_impression",BOOKING_CONSUMER_ENTER_DECLINE_FLOW:"booking_consumer_enter_decline_flow",BOOKING_ADMIN_ENTER_CANCEL_FLOW:"booking_admin_enter_cancel_flow",BOOKING_CONSUMER_ENTER_CANCEL_FLOW:"booking_consumer_enter_cancel_flow",BOOKING_ADMIN_ENTER_VIEW_DETAIL:"booking_admin_enter_view_detail",BOOKING_CONSUMER_ENTER_VIEW_DETAIL:"booking_consumer_enter_view_detail",BOOKING_CONSUMER_CONFIRMED_LIST_BANNER_IMPRESSION:"booking_consumer_confirmed_list_banner_impression",BOOKING_CONSUMER_CONFIRMED_BANNER_IMPRESSION:"booking_consumer_confirmed_banner_impression",BOOKING_ADMIN_REQUEST_BANNER_IMPRESSION:"booking_admin_request_banner_impression",BOOKING_ADMIN_TAP_REQUEST_BANNER:"booking_admin_tap_request_banner",BOOKING_ADMIN_REQUEST_LIST_BANNER_IMPRESSION:"booking_admin_request_list_banner_impression",BOOKING_ADMIN_UPCOMING_BANNER_IMPRESSION:"booking_admin_upcoming_banner_impression",BOOKING_ADMIN_TAP_UPCOMING_BANNER:"booking_admin_tap_upcoming_banner",BOOKING_ADMIN_UPCOMING_LIST_BANNER_IMPRESSION:"booking_admin_upcoming_list_banner_impression",BOOKING_CONSUMER_ENTER_APPOINTMENT_LIST:"booking_consumer_enter_appointment_list",BOOKING_ADMIN_ENTER_APPOINTMENT_LIST:"booking_admin_enter_appointment_list",BOOKING_ADMIN_SEE_PMA_UPSELL:"booking_admin_see_pma_upsell",BOOKING_ADMIN_TAP_LATER_PMA_UPSELL:"booking_admin_tap_later_pma_upsell",BOOKING_ADMIN_TAP_DOWNLOAD_PMA_UPSELL:"booking_admin_tap_download_pma_upsell",SERVICES_BOOKING_FALLBACK_MESSAGE_BUBBLE_IMPRESSION:"services_booking_fallback_message_bubble_impression",SERVICES_START_CALENDAR_EXPORT_UPSELL_FLOW:"services_start_calendar_export_upsell_flow",SERVICES_CALENDAR_SINGLE_EXPORT:"services_calendar_single_export",SERVICES_CALENDAR_TAP_GCAL_CONTINUE:"services_calendar_tap_gcal_continue",SERVICES_CALENDAR_TAP_GCAL_SKIP:"services_calendar_tap_gcal_skip",SERVICES_CALENDAR_TAP_LOCAL_ALLOW:"services_calendar_tap_local_allow",SERVICES_CALENDAR_TAP_LOCAL_DENY:"services_calendar_tap_local_deny",SERVICES_CONSUMER_ADD_TO_LOCAL_CALENDAR_IMPR:"services_consumer_add_to_local_calendar_impr",SERVICES_CONSUMER_TAP_ADD_TO_LOCAL_CALENDAR:"services_consumer_tap_add_to_local_calendar",SERVICES_CONSUMER_LOCAL_CALENDAR_EXPORTED:"services_consumer_local_calendar_exported",SERVICES_CONSUMER_LOCAL_CALENDAR_EXPORT_DENIED:"services_consumer_local_calendar_export_denied",SERVICES_CONSUMER_LOCAL_CALENDAR_EXPORT_NAVIGATE_SETTINGS:"services_consumer_local_calendar_export_navigate_settings",SERVICES_CONSUMER_LOCAL_CALENDAR_EXPORT_ERROR:"services_consumer_local_calendar_export_error",SERVICES_BOOKING_APPT_MANUAL_CREATE_VIEW_IMPR:"services_booking_appt_manual_create_view_impr",SERVICES_BOOKING_APPT_MANUAL_CREATE_TAP_SAVE:"services_booking_appt_manual_create_tap_save",SERVICES_BOOKING_APPT_MANUAL_CREATE_SUCCESS:"services_booking_appt_manual_create_success",INBOX_APPOINTMENTS_ACTION_UNIT_CLICK:"inbox_appointments_action_unit_click",IMPRESSION_INBOX_APPOINTMENTS_ACTION_UNIT_SHOWN:"impression_inbox_appointments_action_unit_shown",APPOINTMENT_NO_SHOW_SURVEY_IMPRESSION:"appointment_no_show_survey_impression",APPOINTMENT_NO_SHOW_SURVEY_TAP_ANSWER:"appointment_no_show_survey_tap_answer",APPOINTMENT_NO_SHOW_SURVEY_CONFIRMATION_IMPRESSION:"appointment_no_show_survey_confirmation_impression",APPOINTMENT_NO_SHOW_SURVEY_TAP_GIVE_FEEDBACK:"appointment_no_show_survey_tap_give_feedback",SERVICES_BOOKING_ADMIN_TOGGLE_OPT_OUT_RECEIVE_REQUESTS:"services_booking_admin_toggle_opt_out_receive_requests",SERVICES_INBOX_UPSELL_FB_APPOINTMENT_IMPRESSION:"services_inbox_upsell_fb_appointment_impression",SERVICES_INBOX_UPSELL_FB_APPOINTMENT_SUCCESS:"services_inbox_upsell_fb_appointment_success",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_TOGGLE_LIST_CALENDAR:"booking_admin_appointment_calendar_tap_toggle_list_calendar_view",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_EMPTY_SPACE:"booking_admin_appointment_calendar_tap_empty_space",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_TEMPORARY_APPOINTMENT:"booking_admin_appointment_calendar_tap_temporary_appointment",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_MANUAL_CREATE:"booking_admin_appointment_calendar_tap_manual_create",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TIME_SPENT:"booking_admin_appointment_calendar_time_spent",BOOKING_ADMIN_APPOINTMENT_CALENDAR_TAP_TODAY_ICON:"booking_admin_appointment_calendar_tap_today_icon",BOOKING_ADMIN_CONFIRMED_BUBBLE_VIEW_IN_CALENDAR_IMPRESSION:"booking_admin_confirmed_bubble_view_in_calendar_impression",BOOKING_ADMIN_CONFIRMED_BUBBLE_VIEW_IN_CALENDAR_TAPPED:"booking_admin_confirmed_bubble_view_in_calendar_tapped",BUSINESS_AUTO_CREATE_ON_PAGE_CREATE:"auto_create_business_on_page_create",BUSINESS_AUTO_CREATE_ON_MIGRATION:"business_auto_create_on_migration",SERVICES_CALENDAR_SETTING_TAP_GCAL:"services_calendar_setting_tap_gcal",SERVICES_CALENDAR_SETTING_TAP_LOCAL_CAL:"services_calendar_setting_tap_local_cal",SERVICES_CALENDAR_SETTING_TAP_NONE:"services_calendar_setting_tap_none",SERVICES_CALENDAR_SETTING_ENABLE_GCAL_SUCCESS:"services_calendar_setting_enable_gcal_success",SERVICES_CALENDAR_SETTING_ENABLE_GCAL_FAIL:"services_calendar_setting_enable_gcal_fail",SERVICES_CALENDAR_SETTING_SAFARI_VIEW_TAP_DONE:"services_calendar_setting_safari_view_tap_done",SERVICES_CALENDAR_SETTING_GCAL_TAP_ALWAYS_SAVE_SWITCH:"services_calendar_setting_gcal_tap_always_save_switch",SERVICES_CALENDAR_SETTING_LOCAL_CAL_ENABLED:"services_calendar_setting_local_cal_enabled",SERVICES_CHANGE_APPOINTMENT_TIME_ZONE:"services_change_appointment_time_zone",IMPRESSION_SHOW_GCAL_DIALOG:"show_gcal_dialog",IMPRESSION_SHOW_GCAL_LOGIN:"show_gcal_login",IMPRESSION_SHOW_CONFIRM_DIALOG:"show_confirm_dialog",ACTION_TAP_GCAL_DIALOG_CONTINUE:"tap_gcal_dialog_continue",ACTION_TAP_GCAL_DIALOG_SKIP:"tap_gcal_dialog_skip",ACTION_TAP_CONFIGM_DIALOG_CHECKBOX:"tap_confirm_dialog_checkbox",ACTION_TAP_CONFIGM_DIALOG_DONE:"tap_confirm_dialog_done",EVENT_GRAPHQL_FAILED:"graphql_failed",SERVICES_NEW_APPOINTMENT_DETAIL_VIEW_IMPRESSION:"services_new_appointment_detail_view_impression",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MESSENGER_ICON:"services_new_appointment_detail_tap_messenger_icon",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_APPROVE_BUTTON:"services_new_appointment_detail_tap_approve_button",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_EDIT_BUTTON:"services_new_appointment_detail_tap_edit_button",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_ARCHIVE_BUTTON:"services_new_appointment_detail_tap_archive_button",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_CANCEL_BUTTON:"services_new_appointment_detail_tap_cancel_button",SERVICES_APPT_CALENDAR_TAP_APPROVE:"services_appt_calendar_tap_approve",SERVICES_APPT_CALENDAR_TAP_APPROVE_WITH_NOTES:"services_appt_calendar_tap_approve_with_notes",SERVICES_APPT_CALENDAR_TAP_ARCHIVE:"services_appt_calendar_tap_archive",SERVICES_APPT_CALENDAR_TAP_EDIT_APPT:"services_appt_calendar_tap_edit_appt",SERVICES_APPT_CALENDAR_TAP_MINI_CALENDAR:"services_appt_calendar_tap_mini_calendar",SERVICES_APPT_CALENDAR_TAP_EMPTY_DAY_CARD_ADD_NEW:"services_appt_calendar_tap_empty_day_card_add_new",SERVICES_APPT_CALENDAR_ARCHIVED_VIEW_IMPRESSION:"services_appt_calendar_archived_view_impression",SERVICES_APPT_CALENDAR_SETTINGS_VIEW_IMPRESSION:"services_appt_calendar_settings_view_impression",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_AVAILABILITY:"services_appt_calendar_settings_enable_availability",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_GOOGLE_CALENDAR:"services_appt_calendar_settings_enable_google_calendar",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_APPOINTMENT_APPROVAL:"services_appt_calendar_settings_enable_appointment_approval",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_ADVANCE_NOTICE:"services_appt_calendar_settings_enable_advance_notice",SERVICES_APPT_CALENDAR_SETTINGS_PUBLISH_SERVICES:"services_appt_calendar_settings_publish_services",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_REMINDER:"services_appt_calendar_settings_enable_reminder",SERVICES_APPT_CALENDAR_SETTINGS_ENABLE_FOLLOW_UP:"services_appt_calendar_settings_enable_follow_up",SERVICES_APPT_CALENDAR_SETTINGS_AVAILABILITY_CHANGED:"services_appt_calendar_settings_availability_changed",SERVICES_APPT_CALENDAR_SETTINGS_GOOGLE_CALENDAR_CHANGED:"services_appt_calendar_settings_google_calendar_changed",SERVICES_APPT_CALENDAR_SETTINGS_ADVANCE_NOTICE_CHANGED:"services_appt_calendar_settings_advance_notice_changed",SERVICES_APPT_CALENDAR_SETTINGS_START_TIME_INCREMENTS_CHANGED:"services_appt_calendar_settings_start_time_increments_changed",SERVICES_APPT_CALENDAR_SETTINGS_DEFAULT_DURATION_CHANGED:"services_appt_calendar_settings_default_duration_changed",SERVICES_APPT_CALENDAR_SETTINGS_SERVICES_CHANGED:"services_appt_calendar_settings_services_changed",SERVICES_APPT_CALENDAR_SETTINGS_REMINDER_CHANGED:"services_appt_calendar_settings_reminder_changed",SERVICES_APPT_CALENDAR_SETTINGS_FOLLOW_UP_CHANGED:"services_appt_calendar_settings_follow_up_changed",SERVICES_APPT_CALENDAR_TAP_PENDING_REQUEST_TRAY:"services_appt_calendar_tap_pending_request_tray",SERVICES_APPT_CALENDAR_LOADING_TIME_ZONE:"services_appt_calendar_loading_time_zone",SERVICES_APPT_CALENDAR_SUCCESS_LOADED_TIME_ZONE:"services_appt_calendar_success_loaded_time_zone",SERVICES_APPT_CALENDAR_TIPS_CAROUSEL_IMPRESSION:"services_appt_calendar_tips_carousel_impression",SERVICES_APPT_CALENDAR_TIPS_CARD_IMPRESSION:"services_appt_calendar_tips_card_impression",SERVICES_APPT_CALENDAR_TIPS_CARD_IMPRESSION_ONE:"services_appt_calendar_tips_card_impression_ONE",SERVICES_APPT_CALENDAR_TIPS_CARD_IMPRESSION_TWO:"services_appt_calendar_tips_card_impression_TWO",SERVICES_APPT_CALENDAR_TIPS_CARD_TAP:"services_appt_calendar_tips_card_tap",SERVICES_APPT_CALENDAR_TIPS_CARD_DISMISS:"services_appt_calendar_tips_card_dismiss",SERVICES_CONSUMER_REMIDNER_CREATE:"services_consumer_reminder_create",SERVICES_CONSUMER_REMIDNER_EDIT:"services_consumer_reminder_edit",SERVICES_CONSUMER_REMIDNER_DELETE:"services_consumer_reminder_delete",SERVICES_CONSUMER_REMIDNER_OPEN_TRAY:"services_consumer_reminder_open_tray",SERVICES_CONSUMER_REMIDNER_OPEN_TRAY_EDIT:"services_consumer_reminder_open_tray_edit",SERVICES_CONSUMER_REMIDNER_DISMISS_TRAY:"services_consumer_reminder_dismiss_tray",BOOKING_ADMIN_ENTER_FOLLOW_UP_MESSAGE_SETTING:"booking_admin_enter_follow_up_message_setting",BOOKING_ADMIN_FOLLOW_UP_MESSAGE_SETTING_CREATE:"booking_admin_follow_up_message_setting_create",BOOKING_ADMIN_FOLLOW_UP_MESSAGE_SETTING_UPDATE:"booking_admin_follow_up_message_setting_update",BOOKING_ADMIN_FOLLOW_UP_MESSAGE_SENT:"booking_admin_follow_up_message_sent",BOOKING_ADMIN_FOLLOW_UP_MESSAGE_SCHEDULED:"booking_admin_follow_up_message_scheduled",BOOKING_ADMIN_ENTER_APPT_REMINDER_SETTING:"booking_admin_enter_appt_reminder_setting",SERVICE_UNIFICATION_ENTER_FLOW:"service_unification_enter_flow",SERVICE_UNIFICATION_CTA_BUTTON_SELECTED:"service_unification_cta_button_selected",SERVICE_UNIFICATION_CTA_BUTTON_CREATED:"service_unification_cta_button_created",REQUEST_TIME_ENTER_FLOW:"request_time_enter_flow",BOOK_NOW_ENTER_FLOW:"book_now_enter_flow",TAPPED_CREATE_BOOK_NOW_CTA:"tapped_create_book_now_cta",SERVICES_BOOK_NOW_NUX_IMPRESSION:"services_book_now_nux_impression",SERVICES_INCENTIVE_SERP_IMPRESSION:"services_incentive_serp_impression",SERVICES_INCENTIVE_PAGE_SURFACE_IMPRESSION:"services_incentive_page_surface_impression",SERVICES_INCENTIVE_SERP_IMPRESSION_ERROR:"services_incentive_serp_impression_error",SERVICES_INCENTIVE_PAGE_SURFACE_IMPRESSION_ERROR:"services_incentive_page_surface_impression_error",SERVICES_INCENTIVE_SERP_CLICK_BOOK_NOW:"services_incentive_serp_click_book_now",SERVICES_INCENTIVE_PAGE_SURFACE_CLICK_BOOK_NOW:"services_incentive_page_surface_click_book_now",SERVICES_HIGH_CONFIDENCE_MODULE_CLICK_BOOK_NOW:"services_high_confidence_module_click_book_now",SERVICES_BOOK_NOW_CTA_IMPRESSION:"book_now_cta_impression",SERVICES_FB_APPOINTMENTS_SETUP_START:"services_fb_appointments_setup_start",SERVICES_FB_APPOINTMENTS_SETUP_CTA_CREATED:"services_fb_appointments_setup_cta_created",SERVICES_FB_APPOINTMENTS_SETUP_CONFIRMATION_TAP_VIEW_CALENDAR:"services_fb_appointments_setup_tap_view_calendar",SERVICES_FB_APPOINTMENTS_SETUP_CONFIRMATION_TAP_TEST_BUTTON:"services_fb_appointments_setup_tap_test_button",SERVICES_FB_APPOINTMENTS_SETUP_CONFIRMATION_IMPRESSION:"services_fb_appointments_setup_tap_impression",INSTANT_BOOKING_CONSUMER_ENTER_FLOW:"instant_booking_consumer_enter_flow",INSTANT_BOOKING_CONSUMER_SELECT_SERVICE:"instant_booking_consumer_select_service",INSTANT_BOOKING_CONSUMER_TAP_DATE:"instant_booking_consumer_tap_date",INSTANT_BOOKING_CONSUMER_TAP_TIME_SLOT:"instant_booking_consumer_tap_time_slot",INSTANT_BOOKING_CONSUMER_CREATE_APPOINTMENT:"instant_booking_consumer_create_appointment",INSTANT_BOOKING_CONSUMER_FLOW:"instant_booking_consumer_flow",SERVICES_CLICK_EDIT_APPOINTMENT_SETTINGS:"services_click_edit_appointment_settings",SERVICES_CLICK_TEST_BUTTON:"services_click_test_button",SERVICES_CLICK_EDIT_SETTING_ITEM:"services_click_edit_setting_item",SERVICES_CTA_EDIT_CLICK_FOLLOW_UP_MESSAGE:"services_cta_edit_click_follow_up_message",SERVICES_CTA_EDIT_CLICK_AVAILABILITY:"services_cta_edit_click_availability",SERVICES_CTA_EDIT_CLICK_SERVICES_LIST:"services_cta_edit_click_services_list",SERVICES_TEST_BUTTON_NUX_IMPRESSION:"services_test_button_nux_impression",SERVICES_SETTINGS_CLICK_TOGGLE:"services_settings_click_toggle",SERVICES_DASHBOARD_IMPRESSION:"services_dashboard_impression",SERVICES_DASHBOARD_CLICK_CALENDAR_NAV_ITEM:"services_dashboard_click_calendar_nav_item",SERVICES_DASHBOARD_CLICK_MANUAL_CREATION_NAV_ITEM:"services_dashboard_click_manual_creation_nav_item",SERVICES_DASHBOARD_CLICK_SETTING_NAV_ITEM:"services_dashboard_click_setting_nav_item",SERVICES_DASHBOARD_CLICK_VIEW_CALENDAR_FOOTER:"services_dashboard_click_view_calendar_footer",SERVICES_DASHBOARD_CLICK_REQUESTS:"services_dashboard_click_requests",SERVICES_DASHBOARD_CLICK_CONFIRMED_APPT:"services_dashboard_click_confirmed_appt",SERVICES_DASHBOARD_CLICK_TEST_BUTTON_TIP:"services_dashboard_click_test_button_tip",SERVICES_DASHBOARD_TEST_BUTTON_TIP_IMPRESSION:"services_dashboard_test_button_tip_impression",SERVICES_DASHBOARD_CLICK_SHARE_LINK_TIP:"services_dashboard_click_share_link_tip",SERVICES_DASHBOARD_SHARE_LINK_TIP_IMPRESSION:"services_dashboard_share_link_tip_impression",SERVICES_DASHBOARD_CLICK_SET_UP_BOOKING_TOOL_TIP:"services_dashboard_click_set_up_booking_tool_tip",SERVICES_DASHBOARD_SET_UP_BOOKING_TOOL_TIP_IMPRESSION:"services_dashboard_set_up_booking_tool_tip_impression",SERVICES_DASHBOARD_CLICK_SET_UP_AVAILABILITY_TIP:"services_dashboard_click_set_up_availability_tip",SERVICES_DASHBOARD_SET_UP_AVAILABILITY_TIP_IMPREESION:"services_dashboard_set_up_availability_tip_impression",SERVICES_DASHBOARD_EMPTY_APPT_IMPRESSION:"services_dashboard_empty_appt_impression",SERVICES_DASHBOARD_REQUESTS_IMPRESSION:"services_dashboard_requests_impression",SERVICES_SETTING_SWITCH_CTA_IMPRESSION:"serivces_setting_switch_cta_impression",SERVICES_SETTING_CLICK_SWITCH_CTA:"services_setting_click_switch_cta",SERVICES_INSTANT_BOOKING_SETUP_ENTER_FLOW:"services_instant_booking_setup_enter_flow",SERVICES_INSTANT_BOOKING_SETTINGS_TAP_SAVE:"services_instant_booking_settings_tap_save",FOOD_DRINK_ORDERS_VIEW_IMPRESSION:"food_drink_orders_view_impression",FOOD_DRINK_ORDERS_VIEW_TAP_CONFIRMED:"food_drink_orders_view_tap_confirmed",FOOD_DRINK_ORDERS_VIEW_TAP_EXPIRED:"food_drink_orders_view_tap_expired",FOOD_DRINK_ORDERS_VIEW_TAP_PENDING:"food_drink_orders_view_tap_pending",FOOD_DRINK_MENU_MANAGER_VIEW_IMPRESSION:"food_drink_menu_manager_view_impression",FOOD_DRINK_MENU_MANAGER_VIEW_TAP_CONFIRMED:"food_drink_menu_manager_view_tap_confirmed",FOOD_DRINK_MENU_MANAGER_VIEW_TAP_EXPIRED:"food_drink_menu_manager_view_tap_expired",FOOD_DRINK_MENU_MANAGER_VIEW_TAP_PENDING:"food_drink_menu_manager_view_tap_pending",PAGE_SERVICE_ITEM_ADMIN_CREATE:"service_item_admin_create",PAGE_SERVICE_ITEM_ADMIN_EDIT:"service_item_admin_edit",PAGE_SERVICE_ITEM_ADMIN_DELETE:"service_item_admin_delete",PAGE_SERVICE_ITEM_ADMIN_VIEW_IMPRESSION:"service_item_view_impression",PAGE_SERVICE_ITEM_CONSUMER_VIEW_IMPRESSION:"consumer_service_item_view_impression",SERVICES_TRAY_CONSUMER_DETAIL_VIEW_IMPRESSION:"services_tray_consumer_detail_view_impression",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MAP:"services_new_appointment_detail_tap_map",SERVICES_NEW_APPOINTMENT_DETAIL_TAP_PHONE_NUMBER:"services_new_appointment_detail_tap_phone_number",SERVICES_CONSUMER_DETAIL_TAP_DISMISS:"services_consumer_detail_tap_dismiss",SERVICES_CONSUMER_SUGGESTION_OPEN_BOOK_LINK:"services_consumer_suggestion_open_book_link",SERVICE_MENU_ADMIN_IMPRESSION:"service_menu_admin_impression",SERVICE_MENU_START_ADD:"service_menu_start_add",SERVICE_MENU_START_EDIT:"service_menu_start_edit",SERVICE_MENU_END_EDIT:"service_menu_end_edit",SERVICE_MENU_SWIPE_DELETE_CONFIRM:"service_menu_swipe_delete_confirm",SERVICE_MENU_SWIPE_DELETE_CANCEL:"service_menu_swipe_delete_cancel",SERVICE_MENU_BUTTON_DELETE_CONFIRM:"service_menu_button_delete_confirm",SERVICE_MENU_BUTTON_DELETE_CANCEL:"service_menu_button_delete_cancel",SERVICE_MENU_REORDER:"service_menu_reorder",SERVICE_MENU_TOGGLE_SEE_MORE:"service_menu_toggle_see_more",SERVICE_ITEM_ENTER_EDIT:"service_item_enter_edit",SERVICE_ITEM_FINISH_EDIT:"service_item_finish_edit",SERVICE_ITEM_ENTER_ADD:"service_item_enter_add",SERVICE_ITEM_FINISH_ADD:"service_item_finish_add",SERVICE_ITEM_TOGGLE_PUBLISH:"service_item_toggle_publish",SERVICE_ITEM_TOGGLE_DURATION_VARIES:"service_item_toggle_duration_varies",SERVICE_ITEM_TOGGLE_DURATION_AND_UP:"service_item_toggle_duration_and_up",SERVICE_ITEM_TOGGLE_DURATION_DISABLED:"service_item_toggle_duration_disabled",SERVICE_ITEM_TOGGLE_TIME_PADDING:"service_item_toggle_time_padding",SERVICE_ITEM_TOGGLE_IMAGE:"service_item_toggle_image",SERVICE_ITEM_START_CHOOSE_IMAGE:"service_item_start_choose_image",SERVICE_ITEM_FINISH_UPLOAD_IMAGE:"service_item_finish_upload_image",SERVICE_ITEM_CLICK_TITLE_OPEN_BOOKING_FLOW:"service_item_click_title_open_booking_flow",GET_QUOTE_CTA_ADMIN_ENTER_FORM_BUILDER:"get_quote_cta_admin_enter_form_builder",GET_QUOTE_CTA_ADMIN_TAP_NEXT:"get_quote_cta_admin_tap_next",GET_QUOTE_CTA_ADMIN_TAP_SAVE:"get_quote_cta_admin_tap_save",GET_QUOTE_CTA_ADMIN_TAP_EDIT_FORM:"get_quote_cta_admin_tap_edit_form",GET_QUOTE_CTA_ADMIN_TAP_PREVIEW_FORM:"get_quote_cta_admin_tap_preview_form",GET_QUOTE_CTA_ADMIN_SAVE_SUCCESS:"get_quote_cta_admin_save_success",GET_QUOTE_CTA_ADMIN_SAVE_FAILURE:"get_quote_cta_admin_save_failure",GET_QUOTE_MESSAGE_CLICK_PHONE_NUMBER:"get_quote_message_click_phone_number",GET_QUOTE_MESSAGE_CLICK_ADDRESS:"get_quote_message_click_address",GET_QUOTE_MESSAGE_CLICK_EMAIL_ADDRESS:"get_quote_message_click_email_address",CREATE_REQUEST_TIME_CTA_SUCCEED:"create_request_time_cta_succeed",TAPPED_CREATE_REQUEST_TIME_CTA:"tapped_create_request_time_cta",SERVICES_AVAILABILITY_CARD_IMPRESSION:"services_availability_card_impression",SERVICES_AVAILABILITY_CARD_DATE_SELECTION:"services_availability_card_date_selection",SERVICES_AVAILABILITY_CARD_SERVICE_SELECTION:"services_availabiltiy_card_service_selection",SERVICES_AVAILABILITY_CARD_SEE_ALL_CLICK:"services_availability_card_see_all_click",SERVICES_AVAILABILITY_CARD_TIME_CLICK:"services_availability_card_time_click",SERVICES_AVAILABILITY_CARD_TIME_LIST_UPDATED:"services_availability_card_time_list_updated",SERVICES_NATIVE_GET_QUOTE:"services_native_get_quote",TAP_CREATE_VISIT_GROUP_CTA:"tap_create_visit_group_cta",CREATE_VISIT_GROUP_CTA_SUCCEED:"create_visit_group_cta_succeed",CREATE_VISIT_GROUP_CTA_FAILED:"create_visit_group_cta_failed",EDIT_VISIT_GROUP_CTA:"edit_visit_group_cta",EXIT_EDIT_VISIT_GROUP_CTA:"exit_edit_visit_group_cta",ADMIN_TAPPED_POST:"admin_tapped_post",ADMIN_TAPPED_PHOTO:"admin_tapped_photo",ADMIN_TAPPED_EDIT_PAGE:"admin_tapped_edit_page",ADMIN_TAPPED_PROMOTE:"admin_tapped_promote",ADMIN_TAPPED_MANAGE_ROLES:"admin_tapped_manage_roles",ADMIN_TAPPED_VIEW_ROLES:"admin_tapped_view_roles",ADMIN_TAPPED_SETTINGS:"admin_tapped_settings",ADMIN_BOOKMARK_TAPPED_ITEM:"admin_bookmark_tapped_item",ADMIN_TAPPED_PAGE_SWITCH_BAR:"admin_tapped_page_switch_bar",ADMIN_TAPPED_APP_SETTING_BUTTON:"admin_tapped_app_setting_button",VISIT_PAGE_TAB:"visit_page_tab",VISIT_ACTIVITY_TAB:"visit_activity_tab",VISIT_INSIGHTS_TAB:"visit_insights_tab",VISIT_INSIGHTS_TAB_MOBILE_WEB:"visit_insights_tab_mobile_web",VISIT_INSIGHTS_TAB_WWW:"visit_insights_tab_www",VISIT_LOCAL_INSIGHTS_TAB:"visit_local_insights_tab",VISIT_MESSAGES_TAB:"visit_messages_tab",VISIT_APPS_TAB:"visit_apps_tab",VISIT_OVERVIEW_TAB_CLIENT:"visit_overview_tab_client",VISIT_PAGE_TAB_CLIENT:"visit_page_tab_client",VISIT_INBOX_TAB_CLIENT:"visit_inbox_tab_client",VISIT_MESSAGE_TAB_CLIENT:"visit_message_tab_client",VISIT_INSIGHTS_TAB_CLIENT:"visit_insights_tab_client",VISIT_NOTIFICATION_TAB_CLIENT:"visit_notification_tab_client",VISIT_MORE_TAB_CLIENT:"visit_more_tab_client",VISIT_APPOINTMENT_CALENDAR_TAB_CLIENT:"visit_appointment_calendar_tab_client",PMA_NAV_TAB_VIEW:"pma_nav_tab_view",ADMIN_UNHIDE_POST_FROM_INSIGHTS:"admin_unhide_post_from_insights",TAPPED_COMPOSER_LAUNCHER_BUTTON:"admin_tapped_composer_launcher_button",ADMIN_CLICK_NOTIF:"admin_click_notif",ADMIN_CLICK_NEW_LIKES:"admin_click_new_likes",ADMIN_CLICK_SCHEDULED_POST:"admin_click_scheduled_post",ADMIN_CLICK_DRAFT_POST:"admin_click_draft_post",ADMIN_CLICK_MESSAGE:"admin_click_message",ADMIN_CLICK_PAGES_FEED:"admin_click_pages_feed",ADMIN_CLICK_REQUESTS:"admin_click_requests",ADMIN_UPSELL_INSTALL:"admin_upsell_install",ADMIN_CLICK_PROMOTE_PAGE:"admin_click_promote_page",ADMIN_CLICK_INSIGHTS_GRAPH_WEEKLY_LIKE:"admin_click_insights_graph_weekly_like",ADMIN_CLICK_INSIGHTS_GRAPH_WEEKLY_POST_REACH:"admin_click_insights_graph_weekly_post_reach",U2O_CLAIM_SUCCESS:"u2o_claim_success",PLACE_CLAIM_CONFIRM_CALL_SUCCESS:"place_claim_confirm_call_success",PLACE_CLAIM_CONFIRM_CALL_ERROR:"place_claim_confirm_call_error",PLACE_CLAIM_DUPLICATE_REQUEST:"place_claim_duplicate_request",PLACE_CLAIM_EMAIL_OR_DOCUMENTATION_SUCCESS:"place_claim_email_or_documentation_success",PLACE_CLAIM_EMAIL_OR_DOCUMENTATION_ERROR:"place_claim_email_or_documentation_error",PLACE_CLAIM_FINAL_CONFIRMATION_SUCCESS:"place_claim_final_confirmation_success",PLACE_CLAIM_FINAL_CONFIRMATION_ERROR:"place_claim_final_confirmation_error",PLACE_CLAIM_AUTHENTICATE_FINAL_CONFIRMATION_SUCCESS:"place_claim_authenticate_final_confirmation_success",PLACE_CLAIM_AUTHENTICATE_FINAL_CONFIRMATION_ERROR:"place_claim_authenticate_final_confirmation_error",PLACE_CLAIM_MERGE_OR_CLAIM_SUCCESS:"place_claim_merge_or_claim_success",PLACE_CLAIM_MERGE_OR_CLAIM_ERROR:"place_claim_merge_or_claim_error",PLACE_CLAIM_MERGE_SUCCESS:"place_claim_merge_success",PLACE_CLAIM_MERGE_ERROR:"place_claim_merge_error",PLACE_CLAIM_USING_DOCUMENTATION_SUCCESS:"place_claim_using_documentation_success",PLACE_CLAIM_USING_DOCUMENTATION_ERROR:"place_claim_using_documentation_error",PLACE_CLAIM_USING_EMAIL_SUCCESS:"place_claim_using_email_success",PLACE_CLAIM_USING_EMAIL_ERROR:"place_claim_using_email_error",PLACE_CLAIM_USING_PHONE_SUCCESS:"place_claim_using_phone_success",PLACE_CLAIM_USING_PHONE_ERROR:"place_claim_using_phone_error",PLACE_CLAIM_AUTHENTICATE_USING_PHONE_SUCCESS:"place_claim_authenticate_using_phone_success",PLACE_CLAIM_AUTHENTICATE_USING_PHONE_ERROR:"place_claim_authenticate_using_phone_error",PLACE_CLAIM_VERIFY_PIN_SUCCESS:"place_claim_verify_pin_success",PLACE_CLAIM_VERIFY_PIN_ERROR:"place_claim_verify_pin_error",PLACE_CLAIM_AUTHENTICATE_VERIFY_PIN_SUCCESS:"place_claim_authenticate_verify_pin_success",PLACE_CLAIM_AUTHENTICATE_VERIFY_PIN_ERROR:"place_claim_authenticate_verify_pin_error",PLACE_CLAIM_RESOLVE_DISPUTE_SUCCESS:"place_claim_resolve_dispute_success",PLACE_CLAIM_RESOLVE_DISPUTE_ERROR:"place_claim_resolve_dispute_error",PLACE_CLAIM_SCHEDULE_CALL_SUCCESS:"place_claim_schedule_call_success",PLACE_CLAIM_SCHEDULE_CALL_ERROR:"place_claim_schedule_call_error",PLACE_CLAIM_PHONE_PARSE_ERROR:"place_claim_phone_parse_error",PLACE_CLAIM_REQUEST_APPROVAL:"place_claim_request_approval",PLACE_CLAIM_ENTRY_MENU:"place_claim_entry_menu",PLACE_CLAIM_ENTRY_INFO_BAR:"place_claim_entry_info_bar",PLACE_CLAIM_ENTRY_REFERRAL_EMAIL:"place_claim_entry_referral_email",PLACE_CLAIM_ENTRY_CONTEXT_ROW:"place_claim_entry_context_row",WELCOME_NOTE_CREATE:"welcome_note_create",WELCOME_NOTE_UPDATE:"welcome_note_update",FAN_NOTIFY_SUBSCRIBE:"fan_notify_subscribe",FAN_NOTIFY_UNSUBSCRIBE:"fan_notify_unsubscribe",FAN_NOTIFY_RESET:"fan_notify_reset",FAN_NOTIFY_SUBSCRIBE_BY_TYPE:"fan_notify_subscribe_by_type",FAN_NOTIFY_UNSUBSCRIBE_BY_TYPE:"fan_notify_unsubscribe_by_type",FAN_NEWS_FEED_SEE_FIRST:"fan_news_feed_see_first",FAN_NEWS_FEED_DEFAULT:"fan_news_feed_default",FAN_VIEW_NOTIFY_DIALOG:"fan_view_notify_dialog",TAPPED_PUSH_NOTIFICATION:"tapped_push_notification",MESSAGE_CTA_VIEW:"message_cta_view",MESSAGE_CTA_CLICK:"message_cta_click",MESSAGE_CTA_SEND:"message_cta_send",VIEW_PAGE_MESSENGER_ABOUT_PROFILE:"view_page_messenger_about_profile",LEAVE_PAGE_PROFILE_IN_MESSENGER:"leave_page_profile_in_messenger",PAGE_SHARE_XMA_ABOUT_TAPPED:"page_share_xma_about_tapped",PAGE_SHARE_XMA_CARD_TAPPED:"page_share_xma_card_tapped",PAGE_SHARE_XMA_MESSAGE_TAPPED:"page_share_xma_message_tapped",PAGE_SHARE_XMA_URL_TAPPED:"page_share_xma_url_tapped",TAPPED_SHARE_PAGE_IN_MESSENGER_EXTENSION:"tapped_share_page_in_messenger_extension",TAPPED_FEED_PAGE_COMMENT_ATTACHMENT:"tapped_feed_page_comment_attachment",PAGE_PRESENCE_TAB_TAP:"page_presence_tab_tap",PAGE_VISITOR_WEBSITE_TAP:"page_visitor_website_tap",HOVERCARD_MESSAGE_BUTTON_IMPRESSION:"hovercard_message_button_impression",HOVERCARD_MESSAGE_BUTTON_CLICK:"hovercard_message_button_click",HOVERCARD_IMPRESSION:"hovercard_impression",VIEW_REACTION_UNITS:"view_reaction_units",TAPPED_REACTION_ACTION:"tapped_reaction_action",ADMIN_SET_RESPONSE_TIME:"admin_set_response_time",ADMIN_SET_WARN_BUSINESS_HOURS:"admin_set_warn_business_hours",PAGE_CREATE_EVENT:"page_create_event",PAGE_LOAD_MORE_PAST_EVENT:"page_load_more_past_event",PAGE_LOAD_MORE_UPCOMING_EVENT:"page_load_more_upcoming_event",PAGE_OPEN_EVENT_DASH:"page_open_events_dash",PAGE_OPEN_EVENT_PERMALINK:"page_open_event_permalink",SAVED_REPLIES_CLOSE_BROWSE_VIEW:"saved_replies_close_browse_view",SAVED_REPLIES_MANAGE_REPLIES:"saved_replies_manage_replies",SAVED_REPLIES_CREATE_REPLY_FROM_BROWSE_VIEW:"saved_replies_create_reply_from_browse_view",SAVED_REPLIES_TOGGLE_BROWSE_VIEW:"saved_replies_toggle_browse_view",SAVED_REPLIES_APPLY_REPLY:"saved_replies_apply_reply",SAVED_REPLIES_EDIT_REPLY:"saved_replies_edit_reply",SAVED_REPLIES_DELETE_REPLY:"saved_replies_delete_reply",SAVED_REPLIES_CREATE_REPLY:"saved_replies_create_reply",SAVED_REPLIES_ADD_IMAGE:"saved_replies_add_image",SAVED_REPLIES_PERSONALIZE:"saved_replies_personalize",PAGE_VERIF_CALL_AGAIN:"page_verification_call_again",PAGE_VERIF_CONFIRMATION_REJECTED:"page_verification_confirmation_rejected",PAGE_VERIF_CONFIRMATION_UNDER_REVIEW:"page_verification_confirmation_under_review",PAGE_VERIF_CONFIRMATION_VERIFIED:"page_verification_confirmation_verified",PAGE_VERIF_ENTRY_CONTEXT_ROW:"page_verification_entry_context_row",PAGE_VERIF_ENTRY_MINIPHONE:"page_verification_entry_miniphone",PAGE_VERIF_ENTRY_SETTINGS:"page_verification_entry_settings",PAGE_VERIF_ENTRY_MEGAPHONE:"page_verification_entry_megaphone",PAGE_VERIF_GET_STARTED:"page_verification_get_started",PAGE_VERIF_USING_DOC_ERROR:"page_verification_using_doc_error",PAGE_VERIF_USING_DOC_PREVIEW:"page_verification_using_doc_preview",PAGE_VERIF_USING_DOC_START:"page_verification_using_doc_start",PAGE_VERIF_USING_DOC_SUCCESS:"page_verification_using_doc_success",PAGE_VERIF_USING_PHONE_ERROR:"page_verification_using_phone_error",PAGE_VERIF_USING_PHONE_START:"page_verification_using_phone_start",PAGE_VERIF_USING_PHONE_SUCCESS:"page_verification_using_phone_success",PAGE_VERIF_VERIFY_PIN_ERROR:"page_verification_verify_pin_error",PAGE_VERIF_VERIFY_PIN_SUCCESS:"page_verification_verify_pin_success",PAGE_VERIF_ENTRY_CHARITY_SIGNUP:"page_verification_entry_charity_signup",PROFILE_COMPLETION_DIALOG_OPEN:"profile_completion_dialog_open",PROFILE_COMPLETION_DIALOG_SAVE:"profile_completion_dialog_input_save",VIEW_PAGES_LIKED_FEED:"view_pages_liked_feed",PAGES_LIKED_FEED_CONTEXT_ROW_NUX_VIEWED:"pages_liked_feed_context_row_nux_viewed",PAGES_LIKED_FEED_CONTEXT_ROW_NUX_RENDERED:"pages_liked_feed_context_row_nux_rendered",MESSAGES_PLUGIN_TAB_CONFIGURED:"page_plugin.tab.configured",MESSAGES_PLUGIN_TAB_CLICK:"page_plugin.tab.click",MESSAGES_PLUGIN_TAB_RENDER:"page_plugin.tab.render",MESSAGES_PLUGIN_MESSAGE_SEND:"page_plugin.messages.send",MESSAGES_PLUGIN_LOGGED_OUT:"page_plugin.messages.logged_out",MESSAGES_PLUGIN_INVALID_HEIGHT:"page_plugin.messages.invalid_height",ADMIN_CLICK_LIST_SERVICES:"admin_click_list_services",ADMIN_CLICK_SERVICES:"admin_click_services",ADMIN_CREATE_SERVICES_CARD:"admin_create_services_card",ADMIN_DELETE_SERVICES_CARD:"admin_delete_services_card",ADMIN_CLICK_PLUS_SERVICE:"admin_click_plus_service",ADMIN_CLICK_EDIT_MENU_CATEGORIES:"admin_click_edit_menu_categories",ADMIN_EDIT_SERVICE:"admin_edit_service",ADMIN_SAVE_SERVICE:"admin_save_service",ADMIN_SAVE_MENU_CATEGORIES:"admin_save_menu_categories",ADMIN_CLICK_DELETE_SERVICE_BUTTON:"admin_click_delete_service_button",ADMIN_DELETE_SERVICE:"admin_delete_service",ADMIN_CLICK_ADD_INTRO_BUTTON:"admin_click_add_intro_button",ADMIN_CLICK_EDIT_INTRO_BUTTON:"admin_click_edit_intro_button",ADMIN_ADD_INTRO:"admin_add_intro",ADMIN_EDIT_INTRO:"admin_edit_intro",ADMIN_DELETE_INTRO:"admin_delete_intro",OFFERS_TAB_IMPRESSION:"offers_tab_impression",OFFERS_DETAIL_VIEW_IMPRESSION:"offers_detail_view_impression",CLICK_OFFER_TAB_HEADER:"click_offer_tab_header",CLICK_OFFER_TAB_ITEM:"click_offer_tab_item",TAPPED_PAGE_OFFER:"tapped_page_offer",PAGE_SERVICE_CARD_IMPRESSION:"page_service_card_impression",PAGE_SERVICE_CARD_CLIENT_IMPRESSION:"page_service_card_client_impression",PAGE_SERVICE_CARD_CROSS_OUT:"page_service_card_cross_out",PAGE_SERVICE_CARD_START_NOW:"page_service_card_start_now",PAGE_SERVICE_CARD_ITEM:"page_service_card_item",PAGE_SERVICE_CARD_SEE_ALL:"page_service_card_see_all",PAGE_SERVICE_CARD_SERVER:"page_service_card_server",PAGE_SERVICES_PHOTO_UPLOADER_BASIC:"page_services_photo_uploader_basic",PAGE_SERVICES_PHOTO_UPLOADER_NONE:"page_services_photo_uploader_none",PAGE_SERVICES_PHOTO_UPLOADER_PRETTY:"page_services_photo_uploader_pretty",PAGE_SERVICES_TAB_IMPRESSION:"page_services_tab_impression",PAGE_SERVICES_TAB_REORDER_SERVICES:"page_services_tab_reorder_services",PAGE_SETTINGS_EDIT:"page_settings_update",PAGES_SHOP_PROMO_CARD_IMPRESSION:"pages_shop_promo_card_impression",PAGES_SHOP_PROMO_CARD_XOUT:"pages_shop_promo_card_xout",PAGES_SHOP_PROMO_CARD_START_NOW:"pages_shop_promo_card_start_now",SHOP_ADD_PRODUCT:"shop_add_product",SHOP_EDIT_PRODUCT:"shop_edit_product",SHOP_DELETE_PRODUCT:"shop_delete_product",SHOP_ACTN_MESSAGE_TO_BUY_SEND:"shop_actn_message_to_buy_send",SHOP_ACTN_MESSAGE_TO_BUY_DIALOG:"shop_actn_message_to_buy_dialog",SHOP_IMP_STOREFRONT_LANDING:"shop_imp_storefront_landing",SHOP_IMP_PRODUCT_DETAILS:"shop_imp_product_details",TAPPED_PAGE_SHOP_TAB:"tapped_page_shop_tab",CREATE_PAGES_SHOP:"create_pages_shop",PAGES_CTA_SETUP_PROMO_XOUT:"pages_cta_setup_promo_xout",PAGES_CTA_SETUP_PROMO_START:"pages_cta_setup_promo_start",PAGES_GET_QUOTE_PROMO_XOUT:"pages_get_quote_promo_xout",PAGES_GET_QUOTE_PROMO_START:"pages_get_quote_promo_start",PAGES_REQUEST_APPOINTMENT_PROMO_XOUT:"pages_request_appointment_promo_xout",PAGES_REQUEST_APPOINTMENT_PROMO_START:"pages_request_appointment_promo_start",MENTIONED_IN_POST:"mentioned_in_post",MENTIONED_OTHER_IN_POST:"mentioned_other_in_post",MESSAGING_THREAD_NEW_THREAD:"messaging_thread_new_thread",MESSAGING_THREAD_NEW_CONVO:"messaging_thread_new_convo",MESSAGING_THREAD_ACTIVE_THREAD:"messaging_thread_active_thread",MESSAGING_THREAD_ACTIVE_CONVO:"messaging_thread_active_convo",MESSAGING_THREAD_PAGE_RESPONSE:"messaging_thread_page_response",MESSAGING_THREAD_FEEDBACK:"messaging_thread_feedback",MESSAGING_THREAD_ALL_ACTIONS:"messaging_thread_all_actions",MESSAGING_SETTING_EDIT:"messaging_setting_edit",PAGE_MESSAGING_REPORTED_CONVERSATION:"page_messaging_reported_conversation",PAGE_MESSAGING_NEW_CONNECTION:"page_messaging_new_connection",PAGE_MESSAGING_THREAD_READ:"page_messaging_thread_read",PAGE_MESSAGING_MESSAGE_RECEIVED:"page_messaging_message_received",PAGE_MESSAGING_SHARED_MESSAGE:"page_messaging_shared_message",CLICK_PROFILE_NAVBAR_TAB:"click_profile_navbar_tab",CLICK_TIMELINE_SCRUBBER_ITEM:"click_timeline_scrubber_item",LOCATIONS_NOTIF_CLICK_TABLE_ROWS:"locations_notif_click_table_rows",LOCATIONS_NOTIF_VIEW_TABLE:"locations_notif_view_table",CLICK_INSIGHTS_NAVBAR_TAB:"click_insights_navbar_tab",CLICK_INSIGHTS_SUBTAB:"click_insights_subtab",SEE_ALL_TIPS:"see_all_tips",PAGE_USER_ACTIVITY_XOUT:"page_user_activity_xout",PAGE_USER_ACTIVITY_XOUT_UNDO:"page_user_activity_xout_undo",PAGE_VISITOR_WEBSITE_CLICK:"page_visitor_website_click",PAGE_VISITOR_MENU_CLICK:"page_visitor_menu_click",PAGE_VISITOR_SERVICES_CLICK:"page_visitor_services_click",PAGE_VISITOR_SCRAPED_HOTEL_CLICK:"page_visitor_scraped_hotel_click",ADMIN_CHILD_LOCATION_CREATE:"admin_child_location_create",VIEW_PAGE_LOCATIONS_TAB:"view_page_locations_tab",VIEW_PAGE_FULL_SCREEN_MAP:"view_page_full_screen_map",MODERATION_ACTION:"moderation_action",MODERATION_VIEW:"moderation_view",ADMIN_NOTE_CREATE:"admin_note_create",ADMIN_NOTE_DELETE:"admin_note_delete",ADMIN_NOTE_UPDATE:"admin_note_update",CUSTOM_TAG_CREATE:"custom_tag_create",CUSTOM_TAG_MERGE:"custom_tag_merge",CUSTOM_TAG_UPDATE:"custom_tag_update",CUSTOM_TAG_DELETE:"custom_tag_delete",CUSTOM_TAG_SET:"custom_tag_set",CUSTOM_TAG_UNSET:"custom_tag_unset",CUSTOM_TAG_AUTO_CREATE_FAIL:"custom_tag_auto_create_fail",CUSTOM_LABEL_CREATE:"custom_label_create",CUSTOM_LABEL_DELETE:"custom_label_delete",CUSTOM_LABEL_SET:"custom_label_set",CUSTOM_LABEL_UNSET:"custom_label_unset",SHARED_MESSAGE_LINK_COPY:"shared_message_link_copy",SHARED_MESSAGE_LINK_VISIT:"shared_message_link_visit",SHARED_MESSAGE_LINK_CLICK:"shared_message_link_click",SEARCH_TIMELINE_POSTS:"search_timeline_posts",RENDER_RICH_SNIPPET:"render_rich_snippet",LINK_TO_SERVICES:"link_to_services",ALBUM_DETAILS_VIEW_IMPRESSION:"album_details_view_impression",ALL_ALBUMS_VIEW_IMPRESSION:"photo_albums_impression",PHOTOS_TAB_VIEW_IMPRESSION:"photo_stream_impression",SOCIAL_CONTEXT_PHOTOS_VIEW_IMPRESSION:"photos_impression",VISIT_INSIGHTS_MESSAGES_TAB:"visit_insights_messages_tab",MESSENGER_CODE_MODAL_VIEW:"messenger_code_modal_view",MESSENGER_CODE_DOWNLOAD:"messenger_code_download",PAGES_CONFIGS_SHOW_HOME_CARDS:"pages_configs_show_home_cards",COMPONENT_FLOW_SCREEN_LOAD:"component_flow_screen_load",EDIT_TAP_TEMPLATE_MORE_INFO:"edit_tap_template_more_info",EDIT_TAP_TEMPLATE_ROW:"edit_tap_template_row",TEMPLATE_CANCEL_APPLICATION:"template_cancel_application",TEMPLATE_CONFIRM_APPLICATION:"template_confirm_application",TEMPLATES_TAP_APPLY:"templates_tap_apply",SERVER_SIDE_SET_TEMPLATE:"server_side_set_template",EDIT_REORDER_TABS:"edit_reorder_tabs",EDIT_TAP_ADD_TABS:"edit_tap_add_tabs",EDIT_TAP_REMOVE_TABS:"edit_tap_remove_tabs",EDIT_UNDO_REORDER_TABS:"edit_undo_reorder_tabs",EDIT_USE_DEFAULT_TAB_ORDER:"edit_use_default_tab_order",EDIT_TAP_REORDER_TABS:"edit_tap_reorder_tabs",EDIT_USE_DEFAULT_ACTIONS:"edit_use_default_actions",EDIT_TAP_ADD_ACTION:"edit_tap_add_action",PAGES_ADMIN_BAR_CLICK_GEAR:"pages_admin_bar_click_gear",PAGES_ACTION_CHANNEL_CLICK_COPY_TAB_LINK:"pages_action_channel_click_copy_tab_link",PAGES_ACTION_CHANNEL_CLICK_SHARE_TAB:"pages_action_channel_click_share_tab",PAGES_ACTION_CHANNEL_CLICK_VISIT_PAGE:"pages_action_channel_click_visit_page",PAGES_ACTION_CHANNEL_CLICK_REORDER_TABS:"pages_action_channel_click_reorder_tabs",PAGES_ACTION_CHANNEL_CLICK_DELETE_TAB:"pages_action_channel_click_delete_tab",PAGES_DEEPLINK_SIMPLE_HEADER_CLICK_MENU:" pages_deeplink_simple_header_click_menu",TAPPED_MESSAGE_FRIEND:"tapped_message_friend",TAPPED_PROFILE_FRIEND:"tapped_profile_friend",TAPPED_SEE_ALL:"tapped_see_all",HOME_CARD_EDIT_CONFIG:"home_card_edit_config",TAPPED_READ_REVIEW_BUTTON:"tapped_read_review_button",SOCIAL_SEARCH_PAGE_CLICK:"social_search_page_click",SOCIAL_SEARCH_WEBPAGE_CLICK:"social_search_webpage_click",SOCIAL_SEARCH_COMPARISON_CARD_IMPRESSION:"social_search_comparison_card_impression",SOCIAL_SEARCH_COMPARISON_CARD_SAVE_CLICK:"social_search_comparison_card_save_click",TAPPED_SHARE_PAGE_AS_POST:"tapped_share_page_as_post",TAPPED_INVITE_FRIENDS_FROM_SHARE:"tapped_invite_friends_from_share",TAPPED_COPY_LINK_FROM_SHARE:"tapped_copy_link_from_share",TAPPED_MORE_OPTIONS_FROM_SHARE:"tapped_more_options_from_share",TAPPED_SEND_IN_MESSAGE_FROM_SHARE:"tapped_send_in_message_from_share",CREATE_PAGE_GROUP:"create_page_group",LINK_GROUP:"link_group",UNLINK_GROUP:"unlink_group",GROUP_PERMALINK_VIEW:"group_permalink_view",GROUP_MALL_VIEW:"group_mall_view",TAPPED_PAGE_GROUP:"tapped_page_group",SWITCH_PAGE_VOICE_IN_GROUP:"switch_page_voice_in_group",GROUP_MEMBER_PROFILE_VIEW:"group_member_profile_view",PAGES_LIKE_RELATED_GROUPS_CHAINING:"pages_like_related_groups_chaining",PAGE_MESSENGER_ATTACHMENT_SEND_RESPONSE:"page_messenger_attachment_send_response",ADD_FEATURED_ADMIN:"add_featured_admin",REMOVE_FEATURED_ADMIN:"remove_featured_admin",VISIT_BUSINESS_INFO_CENTER:"visit_business_info_center",VISIT_FUNDING_PORTAL:"visit_funding_portal",CREATE_PAGES_STORIES:"create_page_stories",VISIT_INSIGHTS_USER_REPORTS_TAB:"visit_insights_user_reports_tab",WHATSAPP_NUMBER_SET:"whatsapp_number_set",WHATSAPP_NUMBER_DELETE:"whatsapp_number_delete",WHATSAPP_CTA_CREATE:"whatsapp_cta_create",WHATSAPP_CTA_DELETE:"whatsapp_cta_delete",ADDITIONAL_PROFILE_PLUS_MIGRATED_FROM_PAGE:"additional_profile_plus_migrated_from_page"});e.exports=a}),null);
__d("VideoHomePlayButtonThumbnailOverlay.react",["cx","ix","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;switch(this.props.size){case"24":a=h("354763");break;case"48":a=h("101640");break;case"72":a=h("352839");break}return j.jsx("div",{className:b("joinClasses")(this.props.className,"_604-"),children:j.jsx(b("Image.react"),{src:a,width:this.props.size})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComponentShowsTrailerOverlay.react",["cx","fbt","ix","ComposerXVideoUploadDialogController_DEPRECATED","ContextualDialogArrow","DateConsts","FileInput.react","Image.react","LeftRight.react","LineClamp.react","OptimisticVideoProgressBar.react","PopoverMenu.react","ProgressBar.react","ReactXUIMenu","ShowsCreationLoggerUtils","VideoComponent","VideoComponentShowmarkOverlay.react","VideoHomePlayButtonThumbnailOverlay.react","XUIOverlayButton.react","XUIText.react","formatDurationSeconds","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$4=function(){b("ShowsCreationLoggerUtils").log("show_trailer_upload_new_clicked",d.props.pageID,d.props.showCreationFlowSource)};d.$5=function(){b("ShowsCreationLoggerUtils").log("show_trailer_upload_new_file_selected",d.props.pageID,d.props.showCreationFlowSource);var a=d.refs.fileInput;if(!a)return;a=a.getFileInput();b("ComposerXVideoUploadDialogController_DEPRECATED").showDialog({targetID:d.props.pageID,fileInput:a,composerEntryPointRef:"page_trailer"});d.props.onOpenUploadDialog&&d.props.onOpenUploadDialog()};d.state={vpc:null};return d}var d=c.prototype;d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};d.$1=function(){var a=this.props.data.showsData,c=a.showmarkURL,d=a.showmarkUploadPreviewURL,e=a.title;a=a.profilePic;return!c||!d?null:k.jsx(b("VideoComponentShowmarkOverlay.react"),{showmarkURL:c.toString(),showmarkUploadPreviewURL:d.toString(),pageID:this.props.pageID,pageName:e,pageProfilePic:a,isAdmin:this.props.isAdmin,isShowPageNewCover:!1,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess,showCreationFlowSource:this.props.showCreationFlowSource})};d.$2=function(){var a=this.props.data.viewerCoverTrailerState;switch(a){case"resume_episode":return h._("Continue watching");case"latest_episode":return h._("Latest episode");case"watch_trailer":return h._("Trailer")}return null};d.$3=function(){var a=this.props.data,c=a.showsVideoData;a=a.viewerCoverTrailerState;a=a==="watch_trailer";c=c?c.title:null;return k.jsxs("div",{className:"_39rm",children:[this.$1(),a?null:[k.jsx("div",{className:"_39ro",children:k.jsx(b("LineClamp.react"),{lines:2,children:c})},"title"),k.jsx("div",{className:"_39rn",children:this.$2()},"header")]]})};d.$6=function(){if(!this.props.isAdmin)return null;var a=k.jsx(b("ReactXUIMenu"),{children:k.jsx(l,{renderas:"label",children:k.jsx(b("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onClick:this.$4,onChange:this.$5,children:k.jsx("a",{style:{color:"inherit",textDecoration:"none"},children:h._("Upload new video")})})})});return k.jsx("div",{className:"_20kk",children:k.jsx(b("PopoverMenu.react"),{layerBehaviors:[b("ContextualDialogArrow")],menu:a,position:"below",children:k.jsx(b("XUIOverlayButton.react"),{className:"_20kl",image:k.jsx(b("Image.react"),{src:i("125727")}),label:h._("Change Trailer"),href:"#"})})})};d.$7=function(){var a=this.props.data,c=a.isShowPageNewCover;a=a.showsVideoData;return c&&a?k.jsx(b("XUIText.react"),{className:"_3_sk",children:b("formatDurationSeconds")(a.duration/b("DateConsts").MS_PER_SEC)}):null};d.$8=function(){var a=this.props.data,c=a.showsVideoData;a=a.viewerCoverTrailerState;var d=c?c.duration:100;c=c?c.startTimestamp:40;return a==="resume_episode"&&d&&c?k.jsx("div",{className:"_tn4",children:k.jsx(b("ProgressBar.react"),{className:"_df_",max:d,min:0,value:c})}):null};d.$9=function(){var a=this.props.data.viewerCoverTrailerState;return a==="watch_trailer"?k.jsx(b("VideoHomePlayButtonThumbnailOverlay.react"),{size:"72",className:"_3_sl"}):null};d.render=function(){var a=this.state.vpc&&this.state.vpc.getState()==="playing",c=this.props.isTrailer&&(!this.state.vpc||this.state.vpc.getState()==="ready"),d=this.props.data.isShowPageNewCover;return d?k.jsxs("div",{children:[k.jsxs("div",{className:b("joinClasses")("_39s3"+(!this.props.isTrailer&&a?" _s0s":"")+(c?" _31ye":""),this.props.className),children:[this.props.uploadedVideoData?k.jsx("div",{className:"_20km",children:k.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})}):null,k.jsx("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":"",children:this.$6()}),this.$8()]}),this.$7(),this.$9()]}):k.jsxs("div",{className:b("joinClasses")("_39s3"+(!this.props.isTrailer&&a?" _s0s":"")+(c?" _31ye":""),this.props.className),children:[k.jsx("div",{className:"_39s4"}),k.jsx("div",{className:"_1fth"}),this.props.uploadedVideoData?k.jsx("div",{className:"_20km",children:k.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})}):null,k.jsx("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":"",children:k.jsxs(b("LeftRight.react"),{className:"_20kn _1fti",children:[k.jsx("div",{className:"_39s5",children:this.$3()}),this.$6()]})}),this.$8()]})};return c}(k.Component);c=b("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange"]});e.exports=c}),null);
__d("VideoComponentShowsVideoLink.react",["cx","fbt","VideoComponent","VideoLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){};d.disable=function(){};d.render=function(){var a=h._("Play Episode");return j.jsx(b("VideoLink.react"),babelHelpers["extends"]({onClick:this.props.onClick,useTahoe:!0,referrer:this.props.referrer},this.props.data,{children:j.jsx("div",{className:"_1hvs",children:j.jsx("i",{className:"_3htz _1jto"+(this.props.hideButton?"":" _bsl"),children:j.jsx("input",{"aria-label":a,type:"button",className:"_yak"})})})}))};return c}(j.Component);c=b("VideoComponent").createContainer(a);e.exports=c}),null);
__d("VideoShowsAdminAddTrailer.react",["cx","fbt","ix","AbstractButton.react","ComposerXVideoUploadDialogController_DEPRECATED","FileInput.react","Image.react","OptimisticVideoProgressBar.react","Text.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.refs.fileInput;if(!a)return;a=a.getFileInput();b("ComposerXVideoUploadDialogController_DEPRECATED").showDialog({targetID:d.props.pageID,fileInput:a,composerEntryPointRef:"page_trailer"});d.props.onOpenDialog&&d.props.onOpenDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.isAdmin?null:k.jsx("div",{style:{width:this.props.width,height:this.props.height},className:"_1ew_ _5-9f",children:k.jsxs("div",{className:"_5-9g",children:[k.jsx("div",{className:"_4xv5",children:k.jsx(b("Image.react"),{className:"_4xv6",src:i("122642")})}),k.jsx(b("Text.react"),{className:"_5-9h",style:{fontSize:16,fontWeight:"600",color:"white"},children:h._("Introduce your show with a trailer")}),k.jsx(b("Text.react"),{className:"_40em",children:h._("Your trailer is a 16:9 video that is used to promote your show across Facebook. It should be less than 2 minutes 30 seconds long.")}),k.jsx(b("Text.react"),{className:"_40em _3-8w",children:h._("Your trailer and most recent episodes will play in this space.")}),this.props.uploadedVideoData?null:k.jsx(b("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onChange:this.$1,children:k.jsx(b("AbstractButton.react"),{className:"_5-9j",label:h._("Add Trailer"),href:"#"})}),this.props.uploadedVideoData?k.jsx(b("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"}):null]})})};return c}(k.Component);e.exports=a}),null);
__d("VideoShowsTrailer.react",["cx","Arbiter","AsyncRequest","DateConsts","OnVisible.react","PagesEventObserver","PagesEventType","ShowsCreationLoggerUtils","VideoComponentCover.react","VideoComponentEmbeddedControls.react","VideoComponentShowsTrailerOverlay.react","VideoComponentShowsVideoLink.react","VideoComponentShowsViewers.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoShowsAdminAddTrailer.react","XPagesCoverReloadController","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=-100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.$2=null;d.$3=null;d.$4=!1;d.$6=function(){var a=d.refs.player;a&&a.vpc.isState("playing")&&(d.$4=!0,a.vpc.pause("page_visibility_initiated"))};d.$7=function(){if(!d.$4)return;d.$4=!1;var a=d.refs.player;a.vpc.play("page_visibility_initiated")};d.$8=function(){d.$5("COVER_TRAILER_CLICK")};d.$9=function(){return b("VideoDataContainer.react").renderSpinner(d.props.renderedWidth,d.props.renderedHeight)};d.state={uploadedVideoData:null};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$5("COVER_TRAILER_IMPRESSION");this.$1=b("Arbiter").subscribe("videoUpload/complete",function(c,d){c="page_trailer_"+a.props.pageID;d.originalComposerID==c&&(b("ShowsCreationLoggerUtils").log("show_trailer_uploaded",a.props.pageID,a.props.showCreationFlowSource,new Map([["video_id",d.videoID]])),a.setState({uploadedVideoData:d}))});this.$2=b("Arbiter").subscribe("pageTrailerVideoEncode/complete",function(c,d){b("ShowsCreationLoggerUtils").log("show_trailer_encode_success",a.props.pageID,a.props.showCreationFlowSource,new Map([["video_id",d.videoID]])),new(b("AsyncRequest"))().setURI(b("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",a.props.pageID).getURI()).setHandler(function(a){this.setState({uploadedVideoData:null})}.bind(a)).send()});this.$3=b("Arbiter").subscribe("videoUpload/cancel",function(c,d){c="page_trailer_"+a.props.pageID;d.composerID==c&&b("ShowsCreationLoggerUtils").log("show_trailer_upload_cancelled",a.props.pageID,a.props.showCreationFlowSource)})};d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1),this.$2&&b("Arbiter").unsubscribe(this.$2),this.$3&&b("Arbiter").unsubscribe(this.$3)};d.$5=function(a){var c,d,e=this.props.data;if(!e)return;d=(d=e)!=null?(d=d.showsVideoData)!=null?d.videoID:d:d;c=(c=e)!=null?(c=c.showsVideoData)!=null?c.startTimestamp:c:c;b("PagesEventObserver").notify(b("PagesEventType")[a],this.props.pageID,{videoID:d,startTimestamp:c,viewerCoverTrailerState:e.viewerCoverTrailerState})};d.$10=function(){var a;return((a=this.props)!=null?(a=a.data)!=null?a.viewerCoverTrailerState:a:a)==="watch_trailer"};d.$11=function(){return this.$10()?i.jsx(b("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:!0,hideRemainingTime:!0,showFullscreenButton:!1,showSettingsButton:!1}):null};d.render=function(){var a=this.props.data;if(!a)return null;var c=a.showsVideoData,d=a.videoLinkData,e=a.isAdmin,f=a.isAutoplayGated;if(!c||!d)return i.jsx(b("VideoShowsAdminAddTrailer.react"),{isAdmin:e,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,height:this.props.renderedHeight,pageID:this.props.pageID,onOpenDialog:this.props.onOpenUploadDialog});d=c.startTimestamp?c.startTimestamp/b("DateConsts").MS_PER_SEC:0;var g=this.props.referrer==="video_home"?"video_home":"page_timeline",h=this.props.referrer==="video_home"?"pages_timeline_pages_cover":"pages_cover";return i.jsx(b("OnVisible.react"),{className:"_28pj",buffer:j,onHidden:this.$6,onVisible:this.$7,children:i.jsx(b("VideoDataContainer.react"),{videoID:c.videoID,renderLoading:this.$9,children:i.jsxs(b("VideoPlayer.react"),{allowCrossPageTransition:!0,autoplay:this.$10()&&!f,forceHD:!0,height:this.props.renderedHeight,offsetType:"vertical",playerOrigin:g,subOrigin:h,ref:"player",startMuted:!0,startTimestamp:d,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.renderedWidth,children:[i.jsx(b("VideoComponentCover.react"),{hiddenAfterFinish:!0,showWhileBuffering:!0}),!a.isImmersiveShowPage&&i.jsx(b("VideoComponentShowsTrailerOverlay.react"),{data:a,isAdmin:e,isTrailer:this.$10(),pageID:this.props.pageID,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,onOpenUploadDialog:this.props.onOpenUploadDialog,onShowMarkUploadSuccess:this.props.onShowMarkUploadSuccess}),!a.isShowPageNewCover&&!a.isImmersiveShowPage&&i.jsx(b("VideoComponentShowsViewers.react"),{data:a,hideOnPlay:!this.$10()}),i.jsx(b("VideoComponentWithLoopingPlayback.react"),{forceLooping:!0}),i.jsx(b("VideoComponentShowsVideoLink.react"),{data:a.videoLinkData,hideButton:this.$10(),onClick:this.$8,referrer:this.props.referrer}),a.isShowPageNewCover?null:this.$11()]})},c.videoID)})};return c}(i.Component);e.exports=a;a.defaultProps={renderedHeight:461.25,renderedWidth:820}}),null);
__d("PagesCoverComponent.react",["cx","PageOnTourOverlay.react","PagesCoverLoadingScreen.react","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverVideo.react","PagesLiveCoverVideo.react","VideoShowsMetadataBlock.react","VideoShowsTrailer.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=null,d=null;switch(a.currentCoverType){case"loading":c=i.jsx(b("PagesCoverLoadingScreen.react"),{isInSettingsPage:a.isInSettingsPage});break;case"cover_live_video":var e=a.coverData.cover_live_video,f=e.videoID;e=e.renderedHeight;f&&(c=i.jsx(b("PagesLiveCoverVideo.react"),{renderedHeight:e,videoID:f}),d="_3wu6");break;case"cover_trailer":a.coverData.cover_trailer.isShowPageNewCover&&!a.coverData.cover_trailer.isImmersiveShowPage?c=i.jsxs("div",{className:"_2k2l",children:[i.jsx("div",{className:"_66et",children:i.jsx(b("VideoShowsMetadataBlock.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,showCreationFlowSource:"show_permalink"})}),i.jsxs("div",{className:"_66-8","data-testid":void 0,children:[i.jsx("div",{className:"_66eu"}),i.jsx(b("VideoShowsTrailer.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,referrer:a.referrer,renderedHeight:336,renderedWidth:598,showCreationFlowSource:"show_permalink"})]})]}):c=i.jsx("span",{"data-testid":void 0,children:i.jsx(b("VideoShowsTrailer.react"),{data:a.coverData.cover_trailer,pageID:a.pageID,showCreationFlowSource:"show_permalink"})});d="_3wu6";break;case"cover_video":c=i.jsx(b("PagesCoverVideo.react"),{isEditMode:a.isEditMode,isInSettingsPage:a.isInSettingsPage,isMigratedShowPage:a.isMigratedShowPage,videoData:a.coverData.cover_video});d="_3wu6";break;case"cover_slideshow":c=i.jsx(b("PagesCoverSlideshow.react"),babelHelpers["extends"]({isEditMode:a.isEditMode,isInSettingsPage:a.isInSettingsPage,pageID:a.pageID},a.coverData.cover_slideshow));d="_668x";break;case"cover_photo":default:c=i.jsx(b("PagesCoverPhoto.react"),babelHelpers["extends"]({isInSettingsPage:a.isInSettingsPage},a.coverData.cover_photo))}return i.jsxs("div",{children:[c,i.jsx(b("PageOnTourOverlay.react"),{className:d})]})}}),null);
__d("XPagesCoverRemoveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_remove/",{})}),null);
__d("PagesCoverRemoveCoverConfirmationDialog.react",["fbt","AsyncRequest","PagesCoverDispatcher","XPagesCoverRemoveAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react","gkx","prop-types","react","videoPageContextualColorFetchUpdatedThemeColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=445;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("XPagesCoverRemoveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(a).setData({page_id:d.props.pageID}).setHandler(function(){b("gkx")("678704")&&b("videoPageContextualColorFetchUpdatedThemeColor")(d.props.pageID)}).send();d.props.onToggle(!1);b("PagesCoverDispatcher").dispatch({type:"cover_removing"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.shown?null:i.jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:!0,width:j,children:[i.jsx(b("XUIDialogTitle.react"),{children:g._("Remove cover?")}),i.jsx(b("XUIDialogBody.react"),{children:g._("Are you sure that you want to remove this cover?")}),i.jsxs(b("XUIDialogFooter.react"),{children:[i.jsx(b("XUIDialogCancelButton.react"),{}),i.jsx(b("XUIDialogConfirmButton.react"),{"data-testid":void 0,onClick:this.$1,use:"confirm"})]})]})};return c}(i.PureComponent);e.exports=a;a.propTypes={coreData:b("prop-types").object.isRequired,onToggle:b("prop-types").func.isRequired,pageID:b("prop-types").string.isRequired,shown:b("prop-types").bool.isRequired}}),null);
__d("PagesLiveCoverVideoActionCreator",["PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";f.onLiveCoverVideoEnabled=a;f.onLiveCoverVideoDisable=c;function a(){b("PagesCoverDispatcher").dispatch({type:"live_video_enable"})}function c(){b("PagesCoverDispatcher").dispatch({type:"live_video_disable"})}}),null);
__d("XEventTourBadgeOnPagesCoverController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/tour/badge/",{page_id:{type:"FBID",required:!0},tour_ids:{type:"FBIDSet"},enable:{type:"Bool",defaultValue:!1},entry_point:{type:"Enum",defaultValue:"page_cover",enumType:1}})}),null);
__d("PagesCoverEditMenu.react",["cx","fbt","invariant","ix","ActorURI","AsyncRequest","ContextualDialogArrow","FileInput.react","FileInputUploader","Image.react","PagesCoverCameraButton.react","PagesCoverDispatcher","PagesCoverRemoveCoverConfirmationDialog.react","PagesCoverSlideshowActionCreator","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesLiveCoverVideoActionCreator","PagesVideoUploader.react","PopoverMenu.react","ReactDOM","ReactXUIMenu","SimpleXUIDialog","ThisControllerNoLongerExists","XEventTourBadgeOnPagesCoverController","XPagesCoverPhotoUploadAsyncController","XPagesCoverVideoUploaderController","XPhotoBrowserDialogController","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||b("react"),m=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showRemoveCoverConfirmationDialog:!1,showCoverVideoBrowserDialog:!1,videoUploaderInitParams:null,shouldExpandMenu:!1};d.$8=function(){d.setState({showCoverVideoBrowserDialog:!0})};d.$9=function(){d.setState({showCoverVideoBrowserDialog:!1})};d.$10=function(a){d.setState({showRemoveCoverConfirmationDialog:a})};d.$11=function(a){b("PagesCoverVideoActionCreator").editCoverVideo(d.props.pageID,a),d.setState({showCoverVideoBrowserDialog:!1})};d.$12=function(a){d.$2=a};d.$13=function(a,c,e){var f=d.props.coverData.cover_video,g=f.containerWidth;f=f.containerHeight;a=b("PagesCoverVideoActionCreator").validateCoverVideoMetadata(d.props.pageID,a,c,g,f);a&&b("PagesCoverVideoActionCreator").showCoverVideoUploadUI(e)};d.$14=function(a){var c=d.props.coverData.cover_video,e=c.containerWidth;c=c.containerHeight;b("PagesCoverVideoActionCreator").encodeFinished(d.props.pageID,a,e,c)};d.$17=function(a){b("PagesCoverVideoActionCreator").reloadCoverWithErrorDialog(d.props.pageID,a)};d.$18=function(){var a=d.props.coverData.cover_live_video;!a&&i(0,1474);var c=a.isEnabled?h._("Don't Show Your Live Video as Your Cover Photo"):h._("Show Your Live Video as Your Cover Photo"),e=a.isEnabled?h._("The next time you go live, your broadcast will no longer appear at the top of your Page."):h._("The next time you go live, your broadcast will appear at the top of your Page. It will automatically be replaced by your most recent live video.");b("SimpleXUIDialog").showConfirm(e,c,function(c){if(!c)return;c=b("ThisControllerNoLongerExists").__DEADURI__("fbeuj4jdv");new(b("AsyncRequest"))(c).setMethod("POST").setData({page_id:d.props.pageID,is_enabled:!a.isEnabled}).setHandler(function(a){a=a.payload;a?b("PagesLiveCoverVideoActionCreator").onLiveCoverVideoEnabled():b("PagesLiveCoverVideoActionCreator").onLiveCoverVideoDisable()}).send()})};d.$20=function(){b("PagesCoverSlideshowActionCreator").enterEditMode(d.props.pageID,d.props.coreData.currentCoverType!=="cover_slideshow")};d.$26=function(){d.setState({showRemoveCoverConfirmationDialog:!0})};d.$23=function(){var a=d.props.coreData.currentCoverType;if(a==="cover_photo")b("PagesCoverDispatcher").dispatch({data:{isPreviewMode:!0},type:"photo_previewing"});else if(a==="cover_video"){a=d.props.coverData.cover_video.videoID;b("PagesCoverVideoActionCreator").editCoverVideo(d.props.pageID,a)}};d.$16=function(a,c){if(c)return;a=b("ActorURI").create(b("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI(),d.props.pageID);new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.$2)).setURI(a).setAllowCrossOrigin(!0).send();b("PagesCoverDispatcher").dispatch({type:"photo_uploading"})};d.$25=function(){var a=d.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus;if(a==="no_tour")return;a=b("XEventTourBadgeOnPagesCoverController").getURIBuilder().setFBID("page_id",d.props.pageID).setBool("enable",a==="tour_badge_hidden").getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload&&b("PagesCoverDispatcher").dispatch({type:"on_tour_badge_updated",data:a.payload})}).send();b("PagesCoverDispatcher").dispatch({type:"loading"})};d.$28=function(){d.setState({shouldExpandMenu:!0})};d.$29=function(){d.setState({shouldExpandMenu:!1})};d.$1=null;d.$2=null;return d}var d=c.prototype;d.componentDidMount=function(){this.props.coreData.canViewerEditProfile&&this.$3()};d.UNSAFE_componentWillReceiveProps=function(a){a.coreData.hasCoverSet!==this.props.coreData.hasCoverSet&&(this.$1=null),a.coreData.canViewerEditProfile!==this.props.coreData.canViewerEditProfile&&this.$3()};d.$3=function(){var a=this,c=b("ActorURI").create(b("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(b("AsyncRequest"))(c).setHandler(function(b){a.setState({videoUploaderInitParams:b.payload.video_uploader_params})}).send()};d.$4=function(){return!!this.props.coreData.hasCoverSet};d.$5=function(){return!this.$4()?h._("Add a Cover"):h._("Change Cover")};d.$6=function(){if(!this.props.coverData.cover_photo.pageHasPhotos)return null;var a=b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",20).setEnum("generator",1).setString("data","pages_cover_photo").setInt("id",this.props.pageID).getURI();return l.jsx(m,{href:a,rel:"dialog",children:h._("Choose from photos")})};d.$7=function(){var a;a=!!((a=this.props)!=null?(a=a.coverData)!=null?(a=a.cover_video)!=null?a.shouldShowChooseFromCoverVideoMenu:a:a:a);return!a?null:l.jsx(m,{onclick:this.$8,children:h._("Choose from videos")})};d.$15=function(){if(this.props.coreData.disableCoverVideoUploadOption)return l.jsx(m,{renderas:"label",children:l.jsx(b("FileInput.react"),{accept:"image/*","data-testid":void 0,display:"inline-block",name:"cover_pic",onChange:this.$16,ref:this.$12,children:l.jsx("a",{className:"_3ihw",href:"#",children:h._("Upload Photo")})})});var a=this.state.videoUploaderInitParams;if(!a)return null;var c=h._("Upload photo\/video");return l.jsx(m,{renderas:"label",children:l.jsx(b("PagesVideoUploader.react"),{"data-testid":void 0,extraAccept:"image/*",fileInputRef:this.$12,label:c,labelClassName:"_3ihw",onChange:this.$16,onEncodeFinished:this.$14,onEncodeProgressed:b("PagesCoverVideoActionCreator").encodeProgressed,onEncodeStarted:b("PagesCoverVideoActionCreator").encodeStarted,onPostFailed:this.$17,onUploadFailed:this.$17,onUploadProgressed:b("PagesCoverVideoActionCreator").uploadProgressed,onUploadStarted:b("PagesCoverVideoActionCreator").uploadStarted,onVideoMetadataLoaded:this.$13,videoUploaderInitParams:a})})};d.$19=function(){var a=this.props.coverData.cover_live_video;if(!a.canEnable)return null;a=a.isEnabled?h._("Don't Show Live Video"):h._("Show Live Video");return l.jsx(m,{onClick:this.$18,children:a})};d.$21=function(){var a;a=(a=this.props)!=null?(a=a.coverData)!=null?a.cover_slideshow:a:a;if(!a||!a.isCoverSlideshowEnabled)return null;a=a.shouldShowMenuNux?l.jsx(b("Image.react"),{src:j("115777"),style:{verticalAlign:"middle"}}):null;var c=this.props.coreData.currentCoverType==="cover_slideshow"?h._("Edit slideshow"):h._("Create slideshow");return l.jsxs(m,{onclick:this.$20,children:[c,a]})};d.$22=function(){var a;a=(a=this.props.coverData)!=null?(a=a.cover_video)!=null?a.isFromParentPage:a:a;return!this.$4()||this.props.coreData.currentCoverType==="cover_video"&&a||this.props.coreData.currentCoverType==="cover_slideshow"?null:l.jsx(m,{onclick:this.$23,children:h._("Reposition")})};d.$24=function(){switch(this.props.coreData.eventTourBadgeInfo.eventTourBadgeStatus){case"tour_badge_hidden":return l.jsx(m,{onclick:this.$25,children:h._("Show tour info")});case"tour_badge_shown":return l.jsx(m,{onclick:this.$25,children:h._("Hide tour info")});default:return null}};d.$27=function(){var a;a=(a=this.props.coverData)!=null?(a=a.cover_video)!=null?a.isFromParentPage:a:a;return!this.$4()||this.props.coreData.currentCoverType==="cover_video"&&a?null:l.jsx(m,{"data-testid":void 0,onclick:this.$26,children:h._("Remove")})};d.render=function(){if(!this.props.coreData.canViewerEditProfile||!this.state.videoUploaderInitParams)return null;var a=l.jsxs(b("ReactXUIMenu"),{children:[this.$6(),this.$7(),this.$15(),this.$19(),this.$21(),this.$22(),this.$24(),this.$27()]});return l.jsxs(b("PopoverMenu.react"),{className:"_3ihv"+(this.props.coreData.shouldShowEditMenuForAdmins?"":" hidden_elem"),layerBehaviors:[b("ContextualDialogArrow")],menu:a,onBlur:this.$29,onFocus:this.$28,position:"below",children:[l.jsx(b("PagesCoverCameraButton.react"),{expanded:!this.$4()||this.state.shouldExpandMenu,label:this.$5(),shouldShowCoverSlideshowMenuOptionNux:this.props.coverData.cover_slideshow.isCoverSlideshowEnabled&&this.props.coverData.cover_slideshow.shouldShowMenuNux&&this.props.coreData.currentCoverType!=="cover_slideshow",shouldshowOnTourBadgeMenuOptionNux:this.props.coreData.eventTourBadgeInfo.shouldShowNux}),l.jsx(b("PagesCoverRemoveCoverConfirmationDialog.react"),{coreData:this.props.coreData,onToggle:this.$10,pageID:this.props.pageID,shown:this.state.showRemoveCoverConfirmationDialog}),l.jsx(b("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog,isForSlideshow:!1,onConfirm:this.$11,onToggle:this.$9,pageID:this.props.pageID})]})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesCoverPhotoStore",["FluxReduceStore","PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var c,d=null;switch(b.type){case"new_cover_data":c=(c=b.data)!=null?(c=c.coverData)!=null?c.cover_photo:c:c;c!==null&&(d=babelHelpers["extends"]({},c,{isLoading:!1,isPreviewMode:!1}));break;case"photo_saved":case"photo_removed":d=babelHelpers["extends"]({},a,b.data,{isLoading:!1,isPreviewMode:!1});break;case"photo_uploading":case"cover_removing":d=babelHelpers["extends"]({},a,{isPreviewMode:!1});break;case"photo_previewing":d=babelHelpers["extends"]({},a,b.data,{isLoading:!1,isPreviewMode:!0});break;case"photo_saving":d=babelHelpers["extends"]({},a,b.data,{isLoading:!0,isPreviewMode:!1});break}return d||a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{coverPhotoData:{focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},isEditable:!1,isLoading:!0,isPreviewMode:!1,isOverlayEnabled:!1,pageDescription:null,pageHasPhotos:!1,pageID:"0",pagePrimaryButton:null,renderedHeight:0,renderedWidth:0}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesCoverDispatcher"));e.exports=c}),null);
__d("XPagesCoverSlideshowEditableItemsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/cover_slideshow/editable_items/",{page_id:{type:"FBID",required:!0},optimizer_status:{type:"String"}})}),null);
__d("PagesCoverSlideshowStore",["AsyncRequest","CoverSlideshowUtil","FluxReduceStore","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","XPagesCoverSlideshowEditableItemsAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";a={pageID:0,isCoverSlideshowEnabled:!1,isCoverSlideshowVideoEnabled:!1,items:[],currentIndex:0,thumbnailHeight:0,thumbnailWidth:0,containerHeight:0,containerWidth:0,showLoadingScreen:!1,hasPendingChanges:!1,nuxTourSteps:[],shouldShowNUXTour:!1,isContentOptimizerOn:!1,shouldShowLoadingScreenOnPickerPlaceholder:!1,shouldShowMenuNux:!1,shouldShowEditSlideshowTooltip:!1,shouldAllowUploadingVideo:!0};var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$PagesCoverSlideshowStore6=new Set(),d.reduce=function(a,c){var e,f=null,g=null,h=a.get("items"),i=a.get("currentIndex");switch(c.type){case"new_cover_data":e=(e=c.data)!=null?(e=e.coverData)!=null?e.cover_slideshow:e:e;e&&(a=a.set("items",e.items),a=a.set("isCoverSlideshowEnabled",e.isCoverSlideshowEnabled),a=a.set("isCoverSlideshowVideoEnabled",e.isCoverSlideshowVideoEnabled),a=a.set("thumbnailHeight",e.thumbnailHeight),a=a.set("thumbnailWidth",e.thumbnailWidth),a=a.set("containerHeight",e.containerHeight),a=a.set("containerWidth",e.containerWidth),d.$PagesCoverSlideshowStore1=Array.from(e.items),d.$PagesCoverSlideshowStore6.clear(),a=a.set("showLoadingScreen",!1),a=a.set("hasPendingChanges",!1),a=a.set("shouldShowNUXTour",e.shouldShowNUXTour),a=a.set("isContentOptimizerOn",e.isContentOptimizerOn),a=a.set("shouldShowMenuNux",e.shouldShowMenuNux),a=a.set("shouldShowEditSlideshowTooltip",e.shouldShowEditSlideshowTooltip),a=a.set("currentIndex",d.$PagesCoverSlideshowStore12(a.currentIndex,e.items.length)));a=a.set("shouldAllowUploadingVideo",!0);e=c.data.pageID;e&&(a=a.set("pageID",e));break;case"slideshow_edit":e=c.data.isCreate;e&&(a=a.set("hasPendingChanges",!0));d.$PagesCoverSlideshowStore13();break;case"slideshow_photo_previewing":if(c.data){e=c.data;var j=e.itemData;e=e.previousKey;f=d.$PagesCoverSlideshowStore9(h,j,e);a=a.set("items",f);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1)}a=a.set("shouldShowLoadingScreenOnPickerPlaceholder",!1);break;case"slideshow_photo_uploading":j=c.data.uploadingIndex;j<h.length?(g=babelHelpers["extends"]({},h[j],{shouldShowLoadingIndicator:!0}),f=d.$PagesCoverSlideshowStore10(h,g,j),a=a.set("items",f),a=a.set("currentIndex",j)):a=a.set("shouldShowLoadingScreenOnPickerPlaceholder",!0);a=a.set("hasPendingChanges",!0);break;case"slideshow_video_start_upload":if(c.data){e=c.data;j=e.url;var k=e.uploadingIndex;e=e.videoUploadTempID;e={itemType:"video",carouselMediaData:{photoData:null,videoData:{videoID:e,containerHeight:d.getState().get("containerHeight"),containerWidth:d.getState().get("containerWidth"),isForSlideshow:!0,offsetType:0,offsetValue:0,shouldCoverVideoLoop:!0,status:"uploading",progress:0}},thumbnailData:{thumbnailID:null,thumbnailURI:j,thumbnailHeight:d.getState().get("thumbnailHeight"),thumbnailWidth:d.getState().get("thumbnailWidth")},shouldFocusOnItem:!0};f=d.$PagesCoverSlideshowStore10(h,e,k);a=a.set("items",f)}a=a.set("shouldAllowUploadingVideo",!1);a=a.set("hasPendingChanges",!0);break;case"slideshow_video_uploading":if(c.data){j=c.data;e=j.previousKey;k=j.progress;j=d.$PagesCoverSlideshowStore8(e,h);!!j&&!!j.carouselMediaData.videoData&&(j.carouselMediaData.videoData.progress=k,j.carouselMediaData.videoData.status="uploading",f=d.$PagesCoverSlideshowStore9(h,j,e),a=a.set("items",f))}break;case"slideshow_video_encoding":if(c.data){k=c.data;j=k.previousKey;e=k.progress;k=d.$PagesCoverSlideshowStore8(j,h);!!k&&!!k.carouselMediaData.videoData&&(k.carouselMediaData.videoData.progress=e,k.carouselMediaData.videoData.status="encoding",f=d.$PagesCoverSlideshowStore9(h,k,j),a=a.set("items",f))}break;case"slideshow_video_encode_finished":if(c.data){e=c.data;k=e.videoData;j=e.previousKey;e=d.$PagesCoverSlideshowStore8(j,h);if(!e)break;e=babelHelpers["extends"]({},e.thumbnailData);k={itemType:"video",carouselMediaData:{photoData:null,videoData:k},thumbnailData:e,isNewUpload:!0,shouldFocusOnItem:!0};f=d.$PagesCoverSlideshowStore9(h,k,j);a=a.set("items",f)}break;case"slideshow_video_setting_confirmed":if(c.data){e=c.data;k=e.videoData;j=e.preferredThumbnailID;var l=e.preferredThumbnailURL,m=e.previousKey;e=e.shouldFocusOnItem;k.status="previewing";k={itemType:"video",carouselMediaData:{photoData:null,videoData:k},thumbnailData:{thumbnailID:j,thumbnailURI:l,thumbnailHeight:d.getState().get("thumbnailHeight"),thumbnailWidth:d.getState().get("thumbnailWidth")},shouldFocusOnItem:e};f=d.$PagesCoverSlideshowStore9(h,k,m);a=a.set("shouldAllowUploadingVideo",!0);a=a.set("items",f);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1)}break;case"slideshow_video_repositioned":if(c.data){j=c.data;l=j.itemRepositionedIndex;e=j.offsetType;k=j.offsetValue;g=babelHelpers["extends"]({},h[l]);(g.carouselMediaData.videoData.offsetType!==e||g.carouselMediaData.videoData.offsetValue!==k)&&(a=a.set("hasPendingChanges",!0));g.carouselMediaData.videoData.offsetType=e;g.carouselMediaData.videoData.offsetValue=k;f=d.$PagesCoverSlideshowStore10(h,g,l);a=a.set("items",f)}break;case"slideshow_video_uploading_failed":case"slideshow_video_encoding_failed":a=a.set("shouldAllowUploadingVideo",!0);break;case"slideshow_change_carousel_index":a=a.set("currentIndex",d.$PagesCoverSlideshowStore12(c.data.currentIndex,a.get("items").length));f=d.$PagesCoverSlideshowStore14(h);a=a.set("items",f);break;case"slideshow_item_repositioned":m=c.data.itemRepositionedIndex;d.$PagesCoverSlideshowStore6.has(m)||(d.$PagesCoverSlideshowStore6.add(m),b("PagesLogger").log(a.get("pageID"),b("PagesLoggerEventEnum").DRAG,b("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reposition_slideshow_item"}),a=a.set("hasPendingChanges",!0));break;case"slideshow_photo_removed":j=c.data.removedIndex;f=Array.from(h);f.splice(j,1);a=a.set("items",f);a=a.set("hasPendingChanges",!0);a=a.set("isContentOptimizerOn",!1);(i>j||i>=f.length)&&(a=a.set("currentIndex",d.$PagesCoverSlideshowStore12(i-1,f.length)));break;case"slideshow_editing_cancelled":f=Array.from(d.$PagesCoverSlideshowStore1);a=a.set("items",f);a=a.set("hasPendingChanges",!1);a=a.set("shouldAllowUploadingVideo",!0);a=a.set("currentIndex",d.$PagesCoverSlideshowStore12(Math.min(f.length-1,i),f.length));d.$PagesCoverSlideshowStore6.clear();break;case"slideshow_saving":a=a.set("showLoadingScreen",!0);a=a.set("hasPendingChanges",!1);a=a.set("shouldAllowUploadingVideo",!0);break;case"slideshow_change_order":e=c.data;k=e.fromIndex;g=e.toIndex;f=d.$PagesCoverSlideshowStore11(h,k,g);a=a.set("items",f);a=a.set("hasPendingChanges",!0);a=a.set("currentIndex",d.$PagesCoverSlideshowStore12(g,f.length));a=a.set("isContentOptimizerOn",!1);break;case"slideshow_nux_tour_element_loaded":if(a.get("shouldShowNUXTour")){l=c.data;m=l.context;j=l.step;i=l.description;e=l.position;(d.$PagesCoverSlideshowStore4===void 0||d.$PagesCoverSlideshowStore4===null)&&(d.$PagesCoverSlideshowStore4=[]);(d.$PagesCoverSlideshowStore5===void 0||d.$PagesCoverSlideshowStore5===null)&&(d.$PagesCoverSlideshowStore5=new Set());d.$PagesCoverSlideshowStore5.has(j)||(d.$PagesCoverSlideshowStore4.splice(j,0,{context:m,description:i,position:e}),d.$PagesCoverSlideshowStore5.add(j),a=a.set("nuxTourSteps",d.$PagesCoverSlideshowStore4))}break;case"slideshow_nux_tour_finished":a=a.set("shouldShowNUXTour",!1);break;case"slideshow_toggle_content_switcher":h=!!c.data;h?(d.$PagesCoverSlideshowStore2=a.get("items"),f=d.$PagesCoverSlideshowStore7(),f!==null&&(a=a.set("items",f))):d.$PagesCoverSlideshowStore2===void 0||d.$PagesCoverSlideshowStore2===null?d.$PagesCoverSlideshowStore2=a.get("items"):a=a.set("items",d.$PagesCoverSlideshowStore2);a=a.set("isContentOptimizerOn",h);a=a.set("hasPendingChanges",!0);break;case"slideshow_prefilled_photo_loaded":k=c.data.prefilledItems;d.$PagesCoverSlideshowStore3=k;a=a.set("items",k);break;case"slideshow_editable_item_loaded":g=c.data.editableItems;a=a.set("items",g);break;default:return a}return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return new g()};d.getCurrentState=function(){return{pageID:this.getState().get("pageID"),isCoverSlideshowEnabled:this.getState().get("isCoverSlideshowEnabled"),isCoverSlideshowVideoEnabled:this.getState().get("isCoverSlideshowVideoEnabled"),items:this.getState().get("items"),currentIndex:this.getState().get("currentIndex"),thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth"),containerHeight:this.getState().get("containerHeight"),containerWidth:this.getState().get("containerWidth"),showLoadingScreen:this.getState().get("showLoadingScreen"),hasPendingChanges:this.getState().get("hasPendingChanges"),nuxTourSteps:this.getState().get("nuxTourSteps"),shouldShowNUXTour:this.getState().get("shouldShowNUXTour"),isContentOptimizerOn:this.getState().get("isContentOptimizerOn"),shouldShowLoadingScreenOnPickerPlaceholder:this.getState().get("shouldShowLoadingScreenOnPickerPlaceholder"),shouldShowMenuNux:this.getState().get("shouldShowMenuNux"),shouldShowEditSlideshowTooltip:this.getState().get("shouldShowEditSlideshowTooltip"),shouldAllowUploadingVideo:this.getState().get("shouldAllowUploadingVideo")}};d.$PagesCoverSlideshowStore7=function(){if(this.$PagesCoverSlideshowStore3===void 0||this.$PagesCoverSlideshowStore3===null){var a=b("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).setString("optimizer_status","on").getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesCoverSlideshowActionCreator").loadPrefilledItems(a.payload)}).send();return null}else return this.$PagesCoverSlideshowStore3};d.$PagesCoverSlideshowStore8=function(a,c){for(var d=0;d<c.length;d++)if(b("CoverSlideshowUtil").getMediaId(c[d])===a)return c[d];return null};d.$PagesCoverSlideshowStore9=function(a,c,d){if(!c)return a;var e=!1,f=a.map(function(a,f){if(b("CoverSlideshowUtil").getMediaId(a)===d){e=!0;return c}else return a});e||(f=Array.from(a),f.push(c));return f};d.$PagesCoverSlideshowStore10=function(a,b,c){var d=null;c<a.length?d=a.map(function(a,d){return c===d?b:a}):(d=Array.from(a),d.push(b),d);return d};d.$PagesCoverSlideshowStore11=function(a,b,c){var d=Array.from(a);if(b===c)return a;a=d.splice(b,1);d.splice(c,0,a[0]);return d};d.$PagesCoverSlideshowStore12=function(a,b){if(a<0)return 0;return a>=b?Math.max(b-1,0):a};d.$PagesCoverSlideshowStore13=function(){var a=b("XPagesCoverSlideshowEditableItemsAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesCoverSlideshowActionCreator").loadEditableItems(a.payload)}).send();return null};d.$PagesCoverSlideshowStore14=function(a){return Array.from(a).map(function(a){a.shouldFocusOnItem=!1;return a})};return c}(b("FluxReduceStore"));c.__moduleID=e.id;d=new c(b("PagesCoverDispatcher"));e.exports=d}),null);
__d("PagesCoverTrailerStore",["FluxReduceStore","PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var d=null;switch(b.type){case"new_cover_data":b=(b=b.data)!=null?(b=b.coverData)!=null?b.cover_trailer:b:b;b!==null&&(d=babelHelpers["extends"]({},b),c.$PagesCoverTrailerStore1=d);break}return d||a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{showsData:{title:""},viewerCoverTrailerState:"watch_trailer",isAdmin:!1,isAutoplayGated:!1,isImmersiveShowPage:!1,isShowPageNewCover:!1}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesCoverDispatcher"));e.exports=c}),null);
__d("PagesCoverVideoStore",["FluxReduceStore","PagesCoverDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var d,e=null;switch(b.type){case"new_cover_data":c.$PagesCoverVideoStore1=b.data.pageID;d=(d=b.data)!=null?(d=d.coverData)!=null?d.cover_video:d:d;d&&(e=babelHelpers["extends"]({},a,d,{isForSlideshow:!1,playerOrigin:"page_timeline"}));break;case"video_repositioned":d=b.data;var f=d.offsetType;d=d.offsetValue;e=babelHelpers["extends"]({},a,{offsetType:f,offsetValue:d});break;case"video_start_upload":e=babelHelpers["extends"]({},a,{status:"uploading",progress:0,thumbnails:b.data.thumbnails});break;case"video_uploading":e=babelHelpers["extends"]({},a,{status:"uploading",progress:b.data.progress});break;case"video_encoding":e=babelHelpers["extends"]({},a,{status:"encoding",progress:b.data.progress});break;case"video_previewing":e=babelHelpers["extends"]({},a,b.data,{status:"previewing"});break;case"video_choosing_thumbnail":e=babelHelpers["extends"]({},a,b.data,{status:"choosing_thumbnail"});break;case"video_publishing":e=babelHelpers["extends"]({},a,{status:"publishing"});break;case"video_published":e=babelHelpers["extends"]({},a,{status:"published"},b.data);break;case"video_cancelling":default:e=a}return e||a},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{videoID:"",status:"published",isViewerAdmin:!1,shouldShowChooseFromCoverVideoMenu:!1,isForSlideshow:!1,isFromParentPage:!1,isParentLocationPage:!1,shouldCoverVideoLoop:!1,minPlayableDurationInSec:20,maxPlayableDurationInSec:120,containerHeight:312,containerWidth:820,thumbnails:[],offsetType:0,offsetValue:0}};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesCoverDispatcher"));e.exports=c}),null);
__d("PagesLiveCoverVideoStore",["FluxReduceStore","PagesCoverDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a={videoID:null,canEnable:!1,isEnabled:!1,renderedWidth:812};var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"new_cover_data":b=b.data.coverData.cover_live_video;a=new g(b);return a;case"live_video_enable":a=a.set("isEnabled",!0);return a;case"live_video_disable":a=a.set("isEnabled",!1);return a;default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return new g()};return b}(b("FluxReduceStore"));c.__moduleID=e.id;d=new c(b("PagesCoverDispatcher"));e.exports=d}),null);
__d("PagesCoverContainer.react",["cx","CenteredContainer.react","FluxContainer","ModernWatchQueueFollowedShowTapMutation","PagesCoverComponent.react","PagesCoverCoreStore","PagesCoverDispatcher","PagesCoverEditMenu.react","PagesCoverPhotoStore","PagesCoverSlideshowStore","PagesCoverTrailerStore","PagesCoverVideoStore","PagesLiveCoverVideoStore","RelayFBEnvironment","XUISpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesCoverCoreStore"),b("PagesLiveCoverVideoStore"),b("PagesCoverPhotoStore"),b("PagesCoverSlideshowStore"),b("PagesCoverTrailerStore"),b("PagesCoverVideoStore")]};c.calculateState=function(){return{coreData:b("PagesCoverCoreStore").getState(),coverData:{cover_live_video:b("PagesLiveCoverVideoStore").getState(),cover_photo:b("PagesCoverPhotoStore").getState(),cover_slideshow:b("PagesCoverSlideshowStore").getCurrentState(),cover_trailer:b("PagesCoverTrailerStore").getState(),cover_video:b("PagesCoverVideoStore").getState()}}};function c(c){var d;d=a.call(this,c)||this;b("PagesCoverDispatcher").explicitlyRegisterStores([b("PagesCoverCoreStore"),b("PagesLiveCoverVideoStore"),b("PagesCoverPhotoStore"),b("PagesCoverVideoStore"),b("PagesCoverTrailerStore"),b("PagesCoverSlideshowStore")]);b("PagesCoverDispatcher").dispatch({type:"new_cover_data",data:c});var e=b("PagesCoverTrailerStore").getState();if(!e||!e.isShowPageNewCover)return babelHelpers.assertThisInitialized(d);e=e.showsFeedbackData;if(e&&e.actorId){c=c.pageID;b("ModernWatchQueueFollowedShowTapMutation").commit(b("RelayFBEnvironment"),{pageID:c,actorID:e.actorId})}return d}var d=c.prototype;d.render=function(){if(!this.state.coreData.hasCoverSet&&!this.state.coreData.canViewerEditProfile)return null;var a=this.state.coreData.shouldShowLoadingOverlay?i.jsx("div",{className:"_b1w",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large"})})}):null,c=this.props.isInSettingsPage===!0;return i.jsxs("div",{className:"_5_yy",children:[i.jsx(b("PagesCoverComponent.react"),{coverData:this.state.coverData,currentCoverType:this.state.coreData.currentCoverType,isEditMode:this.state.coreData.isEditMode,isInSettingsPage:c,isMigratedShowPage:this.props.isMigratedShowPage,pageID:this.props.pageID,referrer:this.props.referrer}),i.jsx(b("PagesCoverEditMenu.react"),babelHelpers["extends"]({pageID:this.props.pageID},this.state)),a]})};return c}(i.PureComponent);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("PagesBlueCrossAddStoryButton.react",["cx","ix","ActorURI","AsyncRequest","Image.react","PageContentTabLoadingDialog","ShimButton.react","XPagesComposerDialogController","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=h("489388"),l=h("624751");function m(a){switch(a){case"small":return k;default:return l}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.$1()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a=this.props.pageID;if(a===null||a===void 0)return;b("PageContentTabLoadingDialog").show();var c=b("XPagesComposerDialogController").getURIBuilder().setString("entry_point","pages_profile_pic_add_story").getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(c,a)).setHandler(function(){b("PageContentTabLoadingDialog").hide()}).send()};d.render=function(){var a=this.props,c=a.borderWidth,d=a.bottomRightMargin;a=a.size;d="_6usj"+(d==="margin-4"?" margin-4":"")+(d==="margin-8"?" margin-8":"")+(c==="thin"?" border-thin":"")+(c==="thick"?" border-thick":"")+(a==="small"?" size-small":"")+(a==="normal"?" size-normal":"");return j.jsx(b("ShimButton.react"),{className:"_6uxp",onClick:this.$2,children:j.jsx("div",{className:d,children:j.jsx(b("Image.react"),{src:m(a)})})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesCircularProfilePictureOverlay.react",["cx","fbt","ix","FDSText.react","Image.react","Link.react","XPhotoPermalinkController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";e.exports=a;var j,k=j||b("react"),l=h._("View photo"),m=h._("Update"),n=h._("Add a picture"),o=h._("Options");function p(a){return!a.canViewerEdit?k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.jsx(b("Image.react"),{src:i("504208")})}),k.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:l})]}):a.showStoryRing?k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.jsx(b("Image.react"),{src:i("492300")})}),k.jsx("div",{className:"_6y7_",children:k.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:o})}),k.jsx("div",{className:"_6y1q",children:k.jsx(b("Image.react"),{src:i("483253")})})]}):k.jsxs(k.Fragment,{children:[k.jsx("div",{children:k.jsx(b("Image.react"),{src:i("681203")})}),k.jsx(b("FDSText.react"),{color:"white",size:"body3",weight:"bold",children:a.hasProfilePhoto?m:n})]})}function a(a){var c=a.canViewerEdit,d=a.profilePictureData,e=a.showStoryRing;a=a.onOverlayClick;var f=d.photoID;d=d.photoSourcePageID;if((!e||f==null)&&!c)return null;e=k.jsx("div",{className:"_6v9b",children:k.jsx("div",{className:"_6v8o"+(e?" size-small":"")+(e?"":" size-large"),children:k.jsx("div",{className:"_6w7n",children:k.jsx(p,{canViewerEdit:c,hasProfilePhoto:f!==null,showStoryRing:e})})})});if(!c){c=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",f).setString("vanity",d).getURI();return k.jsx(b("Link.react"),{"aria-label":h._("Profile picture"),className:"_2dgj",href:c,rel:"theater",children:e})}return k.jsx(b("Link.react"),{"aria-label":h._("Update menu"),className:"_2dgj",onClick:a,children:e})}}),null);
__d("PagesProfilePictureActions",["PagesHeaderDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";f.updateProfilePicture=a;f.updateProfilePictureStory=c;function a(){b("PagesHeaderDispatcher").dispatch({data:{loading:!0},type:"profile_picture_update"})}function c(a){b("PagesHeaderDispatcher").dispatch({data:{profilePicStoryData:b("immutable").fromJS({storyCreationStatus:a})},type:"profile_picture_story_uploading"})}}),null);
__d("PagesProfilePictureLink.react",["cx","fbt","Link.react","VideoData","XPhotoPermalinkController","XVideoPermalinkController","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){var c=a.children,d=a.loading,e=a.photoSourcePageID,f=a.photoID,g=a.videoData;g=g!==null?new(b("VideoData"))(g).getVideoID():null;if(f===null&&g===null||d)return j.Children.only(c);d=null;g!==null?d=b("XVideoPermalinkController").getURIBuilder().setString("vanity",e).setInt("video_id",g).getURI():d=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",f).setString("vanity",e).getURI();return j.jsx(b("Link.react"),{"aria-label":h._("Profile picture"),className:"_2dgj",href:d,rel:"theater",children:a.children})}}),null);
__d("XPagesProfilePictureUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/profile/profile_picture_upload/",{page_id:{type:"FBID",required:!0},ref:{type:"String"},privacy_mutation_token:{type:"String"}})}),null);
__d("XProfilePicMenuDialogEditThumbnailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/menu_dialog/edit_thumbnail/",{profile_id:{type:"FBID",required:!0}})}),null);
__d("XProfilePicRemoveDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/remove_dialog/",{profile_id:{type:"Int",required:!0},delete_from_album:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("XProfilePictureOverlayLandingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profilepicframes/",{overlay_source_object_id:{type:"FBID"},photo_id:{type:"Int"},profile_id:{type:"Int"},query:{type:"String"},selected_overlay_id:{type:"Int"}})}),null);
__d("PagesProfilePictureStoryEditMenu.react",["cx","fbt","ActorURI","FBStoriesActions","FBStoriesStore","FBStoriesViewer2","FDSText.react","FileInput.react","FileInputUploader","Link.react","PagesProfilePictureActions","ReactDOM","SUIActionMenu.react","SUIBusinessTheme","StoriesLoggingConstants","ThisControllerNoLongerExists","XPagesProfilePictureUploadAsyncController","XPhotoBrowserDialogController","XPhotoPermalinkController","XProfilePicMenuDialogEditThumbnailController","XProfilePicRemoveDialogController","XProfilePictureOverlayLandingController","goURI","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=h._("Choose from Photos"),l=h._("Add Frame"),m=h._("Take Photo"),n=h._("Upload Photo"),o=h._("Edit Thumbnail"),p=h._("Remove"),q=h._("Update profile photo"),r=h._("Add profile photo"),s=h._("View profile photo"),t=h._("View story"),u=h._("Profile picture"),v=h._("Page stories");function w(a,b){return b!==a}function x(a){return j.jsx(b("FileInput.react"),{accept:"image/*",containerClassName:"_6xfx","data-testid":void 0,display:"inline-block",name:"profile_pic",onChange:a.onUploadPhoto,ref:a.fileInputRef,children:j.jsx(b("Link.react"),{className:"_6xfx",href:"#",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:n})})})}function y(a){return j.jsx(b("Link.react"),{ajaxify:a.uri,className:"_6xfx",href:"#",rel:"dialog",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a.labelText})})}function z(a){a=a.profilePictureData;var c=a.pageID,d=a.photoID;a=a.photoSourcePageID;d=b("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",d).setString("vanity",a).getURI();return j.jsx(b("Link.react"),{"aria-label":u,className:"_6xfx",href:b("ActorURI").create(d,c),rel:"theater",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",weight:"bold",children:s})})}function A(a){return j.jsx(b("Link.react"),{"aria-label":v,className:"_6xfx",onClick:a.onViewStoryClick,children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",weight:"bold",children:t})})}function B(a,c){return!a?null:b("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",4).setEnum("generator",1).setString("data","pages_profile_picture").setInt("id",c).getURI()}function C(a){var c=b("ThisControllerNoLongerExists").__DEADURI__("o2c2lwdu");return b("ActorURI").create(c,a)}function D(a){var c=a.pageID,d=a.photoID,e=a.photoIsSquare;a=a.photoSourcePageID;if(d===null||e||w(c,a))return null;d=b("XProfilePicMenuDialogEditThumbnailController").getURIBuilder().setFBID("profile_id",c).getURI();return b("ActorURI").create(d,c)}function E(a){var c=a.pageID,d=a.photoID;a=a.photoSourcePageID;if(d===null||w(c,a))return null;d=b("XProfilePicRemoveDialogController").getURIBuilder().setInt("profile_id",c).getURI();return b("ActorURI").create(d,c)}function F(a,c,d,e){var f=c.pageID,g=c.pageHasPhotos,h=c.photoID,i=[];g=B(g,f);g!==null&&i.push({type:"item",label:j.jsx(y,{labelText:k,uri:g}),onClick:d});if(h!=null){var n=b("XProfilePictureOverlayLandingController").getURIBuilder().setInt("profile_id",f).setInt("photo_id",h).getURI();i.push({type:"item",label:j.jsx(y,{labelText:l,uri:null}),onClick:function(){return b("goURI")(n)}})}i.push({type:"item",label:j.jsx(y,{labelText:m,uri:C(f)}),onClick:d});i.push({type:"item",label:j.jsx(x,{fileInputRef:a,onUploadPhoto:e}),onClick:function(){}});g=D(c);g!==null&&i.push({type:"item",label:j.jsx(y,{labelText:o,uri:g}),onClick:d});h=E(c);h!==null&&i.push({type:"item",label:j.jsx(y,{labelText:p,uri:h}),onClick:d});return i}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=j.createRef(),d.$3=function(){var a=d.props,c=a.profilePictureData;a=a.onMenuClick;c=c.pageID;b("PagesProfilePictureActions").updateProfilePicture();c=b("ActorURI").create(b("XPagesProfilePictureUploadAsyncController").getURIBuilder().setFBID("page_id",c).getURI(),c);new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.$2.current)).setURI(c).setAllowCrossOrigin(!0).send();a()},d.$4=function(){var a=d.props.bucketID;if(a!==null&&a!==void 0){var c=b("FBStoriesActions").userSelectedBucket(a)&&b("FBStoriesStore").getThreadCountForSelectedBucket()>0;c&&b("FBStoriesViewer2").open({bucketID:a,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE,cardID:null,traySessionID:null})}},d.$5=function(a){d.$1=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1&&this.$1.focus()};d.render=function(){var a=this.props,c=a.profilePictureData,d=a.showCircularLoader,e=a.showStoryRing,f=a.onMenuClick,g=a.onMouseEnterMenu,h=a.onMouseLeaveMenu;a=a.onOverlayBlur;var i=c.photoID,k=[],l=F(this.$2,c,f,this.$3),m=j.jsx(b("SUIActionMenu.react"),{items:l,theme:b("SUIBusinessTheme")});e&&(k.push({type:"item",label:j.jsx(A,{onViewStoryClick:this.$4}),onClick:f}),i!==null&&k.push({type:"item",label:j.jsx(z,{profilePictureData:c}),onClick:f}),k.push({type:"group",label:i!==null?q:r,items:l}),m=j.jsx(b("SUIActionMenu.react"),{items:k,theme:b("SUIBusinessTheme")}));return j.jsx("div",{className:"_6xgp"+(!e&&!d?" small-padding":"")+(e||d?" large-padding":""),onBlur:a,onMouseEnter:g,onMouseLeave:h,ref:this.$5,tabIndex:"0",children:m})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesProfilePictureStoryLink.react",["cx","fbt","FBStoriesActions","FBStoriesStore","FBStoriesViewer2","Link.react","StoriesLoggingConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=h._("Page stories");function a(a){var c=a.bucketID;a=a.children;var d=function(){b("FBStoriesActions").userSelectedBucket(c)&&b("FBStoriesStore").getThreadCountForSelectedBucket()>0&&b("FBStoriesViewer2").open({bucketID:c,openSource:b("StoriesLoggingConstants").ACTION_SOURCE.PAGE_PROFILE,cardID:null,traySessionID:null})};return j.jsx(b("Link.react"),{"aria-label":k,className:"_2dgj",onClick:d,children:a})}}),null);
__d("PagesStoryCreationStatusTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({STORY_CREATION_STARTED:"",STORY_CREATION_SUCCESS:"",STORY_CREATION_FAILURE:""},"PagesStoryCreationStatus");c=a;e.exports=c}),null);
__d("PagesCircularProfilePicture.react",["cx","Image.react","PagesBlueCrossAddStoryButton.react","PagesCircularProfilePictureOverlay.react","PagesProfilePictureActions","PagesProfilePictureLink.react","PagesProfilePictureStoryEditMenu.react","PagesProfilePictureStoryLink.react","PagesStoryCreationStatusTypes","ProfileHeaderSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=172,k=156;function l(a){var c=a.canViewerEdit,d=a.overlayShown,e=a.profilePictureData,f=a.showCircularLoader,g=a.showStoryRing,h=a.storyBucket,l=a.onMouseEnterProfilePicture,m=a.onMouseLeaveProfilePicture;a=a.onOverlayClick;var n=e.loading,o=e.uri,p=f||g?k:j;o=i.jsx("div",{className:"_6tay",style:{width:p,height:p},children:i.jsx(b("Image.react"),{className:"_6tb5"+(n?" _179t":""),height:p,src:o,width:p})});return i.jsxs("div",{className:"_6taw",children:[i.jsxs("div",{className:"_6tax",onMouseEnter:l,onMouseLeave:m,children:[g?i.jsx(b("PagesProfilePictureStoryLink.react"),{bucketID:h.bucketID,children:o}):i.jsx(b("PagesProfilePictureLink.react"),babelHelpers["extends"]({},e,{children:o})),!n&&d&&i.jsx(b("PagesCircularProfilePictureOverlay.react"),{canViewerEdit:c,onOverlayClick:a,profilePictureData:e,showStoryRing:g||f})]}),i.jsx(b("ProfileHeaderSpinner.react"),{shown:n})]})}c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=c.call.apply(c,[this].concat(f))||this,d.state={menuShown:!1,mouseOnMenu:!1,overlayShown:((a=d.props)!=null?(a=a.profilePictureData)!=null?a.photoID:a:a)===null},d.$1=function(){d.setState({overlayShown:!0})},d.$2=function(){var a;((a=d.props)!=null?(a=a.profilePictureData)!=null?a.photoID:a:a)!==null&&d.setState({overlayShown:!1})},d.$3=function(){d.setState({mouseOnMenu:!0})},d.$4=function(){d.setState({mouseOnMenu:!1})},d.$5=function(){var a=d.state.menuShown;a&&d.$4();d.setState({menuShown:!a})},d.$6=function(a){var b;b=(b=a)!=null?b.relatedTarget:b;a=(a=a)!=null?a.currentTarget:a;if(b instanceof HTMLElement&&a instanceof HTMLElement){b=b&&b.parentElement;var c=b&&b.parentElement;if(b===a||c===a)return}((b=d.props)!=null?(b=b.profilePictureData)!=null?b.photoID:b:b)!==null&&!d.state.mouseOnMenu&&!d.state.overlayShown&&d.setState({menuShown:!1,mouseOnMenu:!1,overlayShown:!1})},b)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.shouldComponentUpdate=function(a){var c,d;d=(d=this.props)!=null?(d=d.profilePictureData)!=null?d.profilePicStoryData:d:d;c=(c=a)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;if(!c)return!0;c=c.get("storyCreationStatus");if(c===b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS){d=!!d&&d.get("storyCreationStatus");d=d===b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED&&c!==b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED;if(d){return((c=a)!=null?(c=c.storyBucket)!=null?c.latestThreadCreationTime:c:c)!==((d=this.props)!=null?(d=d.storyBucket)!=null?d.latestThreadCreationTime:d:d)}else return!!a.storyBucket}return!0};e.componentDidUpdate=function(a){!a.storyBucket&&!!this.props.storyBucket&&b("PagesProfilePictureActions").updateProfilePictureStory(null)};e.render=function(){var a,c,d=this.props,e=d.profilePictureData;d=d.storyBucket;c=(c=e)!=null?c.profilePicStoryData:c;a=!!((a=e)!=null?a.editable:a);c=!!c&&c.get("storyCreationStatus")===b("PagesStoryCreationStatusTypes").STORY_CREATION_STARTED;var f=this.state,g=f.overlayShown;f=f.menuShown;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"_6taw"+(!!d||c?" _6tv-":"")+(c?" _6zia":"")+(!!d&&d.hasUnseenThreads?" _6two":""),children:[i.jsx(l,{canViewerEdit:a,onMouseEnterProfilePicture:this.$1,onMouseLeaveProfilePicture:this.$2,onOverlayClick:this.$5,overlayShown:g||f,profilePictureData:e,showCircularLoader:c,showStoryRing:!!d,storyBucket:d}),c&&i.jsx("div",{className:"_6zg7"}),a?i.jsx(b("PagesBlueCrossAddStoryButton.react"),{bottomRightMargin:!!d||c?"margin-4":"margin-8",pageID:e.pageID,size:"normal"}):null]}),f&&i.jsx(b("PagesProfilePictureStoryEditMenu.react"),{bucketID:d?d.bucketID:null,onMenuClick:this.$5,onMouseEnterMenu:this.$3,onMouseLeaveMenu:this.$4,onOverlayBlur:this.$6,profilePictureData:e,showCircularLoader:c,showStoryRing:!!d})]})};return d}(i.Component);e.exports=c}),null);
__d("PagesCircularProfilePictureContainer.react",["CurrentUser","FBStoriesActions","FBStoriesDispatcher","FBStoriesStore","FBStoriesViewerBucketQueryWebGraphQLQuery","FluxContainer","PagesCircularProfilePicture.react","PagesStoryCreationStatusTypes","WebGraphQL","fbStoriesRootSelectors","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("FBStoriesStore")]};c.calculateState=function(){var a=b("FBStoriesStore").getState();return{storyBucketDescriptors:b("fbStoriesRootSelectors").bucketDescriptors(a)}};var d=c.prototype;d.componentDidMount=function(){b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesStore")]);var a=this.state.storyBucketDescriptors;a=a&&a[0];a||this.$1()};d.componentDidUpdate=function(a,c){a=this.state.storyBucketDescriptors;a=a&&a[0];c=c.storyBucketDescriptors&&c.storyBucketDescriptors[0];!!c&&!a&&this.$1();c=(c=this.props)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;c=!!c&&c.get("storyCreationStatus");c===b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS&&!a&&this.$1()};d.componentWillUnmount=function(){b("FBStoriesActions").resetStore()};d.$1=function(){var a=this,c;if(!b("CurrentUser").isLoggedIn())return;c=(c=this.props)!=null?(c=c.profilePictureData)!=null?c.profilePicStoryData:c:c;c=c&&c.get("bucketID");if(c===null||c===void 0)return;c=new(b("FBStoriesViewerBucketQueryWebGraphQLQuery"))({bucketID:c,threadCount:100});b("promiseDone")(b("WebGraphQL").exec(c),function(b){return a.$2(b)},function(b){return a.$3(b)})};d.$2=function(a){a=(a=a)!=null?a.node:a;if(a===null||a===void 0)return;b("FBStoriesActions").loadData(b("CurrentUser").getName(),b("CurrentUser").getID(),null,null,[a])};d.$3=function(a){};d.render=function(){var a=this.state.storyBucketDescriptors;return h.jsx(b("PagesCircularProfilePicture.react"),{profilePictureData:this.props.profilePictureData,storyBucket:a&&a[0]})};return c}(h.PureComponent);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("PagesProfilePictureStore",["FluxReduceStore","PagesHeaderDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){var d;switch(c.type){case"profile_picture_data":return babelHelpers["extends"]({},a,c.data,{profilePicStoryData:b("immutable").fromJS((d=c)!=null?(d=d.data)!=null?d.profilePicStoryData:d:d)});case"profile_picture_update":return babelHelpers["extends"]({},a,c.data);case"profile_picture_story_uploading":var e;d=a.profilePicStoryData;if(!d)return babelHelpers["extends"]({},a);e=(e=c)!=null?(e=e.data)!=null?e.profilePicStoryData:e:e;d=d.set("storyCreationStatus",!!e&&e.get("storyCreationStatus"));return babelHelpers["extends"]({},a,c.data,{profilePicStoryData:d})}return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return{currentCoverType:"cover_photo",editable:!1,loading:!1,modules:{PagesProfilePictureEditMenu:null},pageHasPhotos:!1,pageID:"0",photoID:null,photoIsSquare:!0,photoSourcePageID:"0",size:0,uri:null,videoData:null,isShowPageProfileInHeader:!1,profilePicStoryData:null}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("PagesHeaderDispatcher"));e.exports=c}),null);
__d("PagesProfilePictureContainer.react",["FluxContainer","PagesCircularProfilePictureContainer.react","PagesHeaderDispatcher","PagesProfilePictureStore","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesProfilePictureStore")]};c.calculateState=function(){return b("PagesProfilePictureStore").getState()};function c(c){c=a.call(this,c)||this;b("PagesHeaderDispatcher").explicitlyRegisterStore(b("PagesProfilePictureStore"));b("PagesHeaderDispatcher").dispatch({data:c.props,type:"profile_picture_data"});return c}var d=c.prototype;d.render=function(){return h.jsx(b("PagesCircularProfilePictureContainer.react"),{profilePictureData:this.state})};return c}(h.PureComponent);c=b("FluxContainer").create(a);e.exports=c}),null);
__d("PagesUsername.react",["cx","fbt","ix","BootloadedComponent.react","ChatOpenTabEventLogger","FantaTabActions","Image.react","JSResource","Link.react","LoadingDialog.react","MercuryIDs","PageContentTabMessageOwnerDialog","TooltipLink.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={showDialog:!1};return b}var d=c.prototype;d.render=function(){var a=this,c=this.props.username;if(c!=null)return this.props.isMessagingEnabled?k.jsx(b("TooltipLink.react"),{className:"_2wmb",href:"#",onClick:this.$1(),position:"below",tooltip:this.$2(c),children:k.jsxs("span",{children:[k.jsx(b("Image.react"),{className:"_3mj1",src:i("123858")}),"@"+c]})}):k.jsx(b("TooltipLink.react"),{className:"_2wmb",href:"#",position:"below",tooltip:this.$2(c),children:"@"+c});if(!this.props.editable)return null;var d=null;this.state.showDialog&&(d=k.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("PageUsernameEditDialog.react").__setRef("PagesUsername.react"),bootloadPlaceholder:k.jsx(b("LoadingDialog.react"),{}),existingUsername:c,onDialogToggle:function(b){a.setState({showDialog:b})},pageID:this.props.pageID,pageName:this.props.name,profilePictureSrc:this.props.usernameEditDialogProfilePictureURI}));return k.jsxs("div",{children:[k.jsx(b("Link.react"),{className:"_2wmb",onClick:function(){a.setState({showDialog:!0})},children:h._("Create Page \u0040username")}),d]})};d.$2=function(a){return this.props.editable&&!this.props.isMessagingEnabled?h._("People can search for {username of a Page} to find your Page easily. You can change your \u0040username in the Page Info section.",[h._param("username of a Page","@"+a)]):this.props.isMessagingEnabled&&this.props.editable?h._("Send {username of a Page} a message.",[h._param("username of a Page","@"+a)]):h._("Search for {username of a Page} on Facebook or in Messenger to find this Page easily.",[h._param("username of a Page","@"+a)])};d.$1=function(){var a=this,c=this.props.isMessagingEnabled&&!this.props.showModal,d=this.props.isMessagingEnabled&&this.props.showModal;if(d)return function(c){b("PageContentTabMessageOwnerDialog").show(a.props.name,a.props.pageID)};else if(c)return function(c){c=b("MercuryIDs").getThreadIDFromUserID(a.props.pageID);b("FantaTabActions").openTab(c);b("ChatOpenTabEventLogger").logUserClickOpen("page_username",a.props.pageID)};return null};return c}(k.Component);e.exports=a}),null);
__d("EntityTitle.react",["csx","cx","AutoScalingContent.react","CSS","DOMContainer.react","DOMQuery","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(a,b){c.setState({noResize:!0});return 1};c.state={noResize:!1};return c}var d=c.prototype;d.render=function(){var a=this.props.title;(!this.props.autoScale||this.state.noResize)&&b("CSS").addClass(a,"_3d2d");if(!this.props.autoScale){b("CSS").addClass(a,"_3d2f");return j.jsx(b("DOMContainer.react"),{children:a})}var c=b("DOMQuery").scry(a,"._3d2h *");c.length>0&&b("CSS").addClass(a,"_3d2g");return j.jsx(b("AutoScalingContent.react"),{handleMinWidthRatioViolation:this.$1,minWidthRatio:.7,children:j.jsx(b("DOMContainer.react"),{children:a})})};return c}(j.Component);e.exports=a;a.defaultProps={autoScale:!0}}),null);
__d("EntityPageLayoutDockingElement",["DockingElement","EntityPageDockingElementController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.register=function(){b("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};return c}(b("DockingElement"));e.exports=a}),null);