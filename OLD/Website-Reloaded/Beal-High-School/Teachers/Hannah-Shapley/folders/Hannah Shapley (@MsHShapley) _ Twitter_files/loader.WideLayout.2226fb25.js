(window.webpackJsonp=window.webpackJsonp||[]).push([[154,167],{"0af8":function(t,e,s){"use strict";s.r(e),s.d(e,"roundToNearestDevicePixel",(function(){return p})),s.d(e,"default",(function(){return u}));var i=s("KEM+"),n=s.n(i),o=s("ERkP"),r=s("n+l9"),a=(s("aWzz"),s("v6aA")),c=s("jHwr"),l=s("rHpw"),d=s("i4Oy"),h=s("MWbm");const p=({cssPixels:t,dpr:e})=>Math.round(t*e)/e;class u extends o.PureComponent{constructor(t,e){super(t,e),n()(this,"_setContentRef",(t=>{this._contentNode=t})),n()(this,"_setContainerRef",(t=>{this._containerNode=t})),n()(this,"_handleProgrammaticScroll",(t=>{this._prevScrollY=(this._prevScrollY||0)+t,this.setState({contentOffset:Math.max(0,this.state.contentOffset+t)})})),n()(this,"_handleLayout",(t=>{const e=t.nativeEvent.layout.height>this.state.contentHeight;this._updatePositioning(e)})),this.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:r.b()?"sticky":"static"},this._scheduleUpdatePositioning=Object(c.a)(this._updatePositioning.bind(this),window.requestAnimationFrame)}UNSAFE_componentWillMount(){const{viewport:t}=this.context;this._removeProgrammaticScrollListener=t.addProgrammaticScrollListener(this._handleProgrammaticScroll)}componentDidMount(){const{viewport:t}=this.context;if(this._updatePositioning(),this._removeScrollListener=t.addScrollListener(this._scheduleUpdatePositioning),this._containerNode){const e=this._containerNode.getBoundingClientRect(),s=t.scrollY();this._prevScrollY=s,this.setState({stickyOffset:s+e.top})}}componentWillUnmount(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()}render(){const{stickyTop:t,stickyThreshold:e,contentOffset:s,position:i}=this.state,n=m[i],r=window.devicePixelRatio||1,a=p({cssPixels:e,dpr:r}),c=p({cssPixels:s,dpr:r}),l={top:t?`${a}px`:null,bottom:t?null:`${a}px`};return o.createElement(h.a,{ref:this._setContainerRef,style:[m.container,{minHeight:this.state.contentHeight}]},o.createElement(h.a,{style:{marginTop:`${c}px`}}),o.createElement(h.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,l,n]},this.props.children))}_updatePositioning(t=!1){if(!this._contentNode||!this._containerNode)return;const e=this.context.viewport.scrollY(),s=e-this._prevScrollY;if(Math.abs(s)<.5&&!t)return;const{distanceFromBottom:i}=this.props;this._prevScrollY=e;const n=!!this._contentNode&&this._contentNode.getBoundingClientRect(),o=!!this._containerNode&&this._containerNode.getBoundingClientRect();if(!n||!o)return;const{height:a}=d.a.get("window"),c=e+o.top,l=Math.max(n.top-o.top,0);if(a-n.height>c)this._updateState({stickyTop:!0,stickyThreshold:c,contentOffset:0,stickyOffset:c,contentHeight:n.height,position:"fixed"});else{const t=s>0,e=t!==this.state.stickyTop,o=window.devicePixelRatio||1,d=n.bottom-a+i<=1/o,h=c-n.top<=1/o;if((t&&d||!t&&h)&&r.a()){const t=i,e=c;this._updateState({position:"fixed",stickyOffset:c,stickyTop:h,stickyThreshold:h?e:t,contentOffset:l,contentHeight:n.height})}else{const s=a-n.height-i,o=a-n.height-c,d=r.b()?"sticky":"static";this._updateState({position:d,stickyTop:t,stickyOffset:c,stickyThreshold:t?s:o,contentOffset:e?l:this.state.contentOffset,contentHeight:n.height})}}}_updateState(t){const e=this.state.stickyTop!==t.stickyTop,s=this.state.stickyThreshold!==t.stickyThreshold,i=Math.abs(this.state.contentOffset-t.contentOffset)>.5,n=Math.abs(this.state.stickyOffset-t.stickyOffset)>.5,o=this.state.position!==t.position,r=this.state.contentHeight!==t.contentHeight;(e||s||i||n||o||r)&&this.setState(t)}}n()(u,"contextType",a.a),n()(u,"defaultProps",{distanceFromBottom:10});const m=l.a.create((t=>({container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}})))},BqYg:function(t,e){function s(t,e,s){var i,n,o,r,a;function c(){var l=Date.now()-r;l<e&&l>=0?i=setTimeout(c,e-l):(i=null,s||(a=t.apply(o,n),o=n=null))}null==e&&(e=100);var l=function(){o=this,n=arguments,r=Date.now();var l=s&&!i;return i||(i=setTimeout(c,e)),l&&(a=t.apply(o,n),o=n=null),a};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(a=t.apply(o,n),o=n=null,clearTimeout(i),i=null)},l}s.debounce=s,t.exports=s},LHcr:function(t,e,s){"use strict";s.r(e),s.d(e,"WhoToFollowContainer",(function(){return D}));var i=s("KEM+"),n=s.n(i),o=(s("kYxP"),s("ERkP")),r=s("Xs4Y"),a=s("kGix"),c=s("v//M"),l=s("3XMw"),d=s.n(l),h=s("Rp9C"),p=s("rHpw"),u=s("MWbm"),m=s("lP98"),f=s("RqPI"),_=s("rxPX"),y=s("0KEI");const g="profile_accounts_sidebar",b=(t,e)=>f.h(t),w=(t,e)=>e.userId,v=(t,e)=>{const s=w(0,e),i=b(t);return m.c(t,{displayLocation:g,similarToUserId:s===i?void 0:s})},E=(t,e)=>{const s=w(0,e),i=b(t);return m.b(t,{displayLocation:g,similarToUserId:s===i?void 0:s})};var I=Object(_.a)().propsFromState((()=>({fetchStatus:E,loggedInUserId:b,recommendations:v}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(y.d)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:m.a}))).withAnalytics({component:"suggest_who_to_follow"}),O=s("Re5t"),R=s("hqDb"),S=s("hxu0"),U=s("6vad"),x=s("rC8y");const T=d.a.a526aa66,L=d.a.ef62501f,N=d.a.d228a9a0;var k=Object(S.a)((({withProfileHeaderText:t,userId:e,userIds:s,isInSidebar:i})=>{const n=s.length>3,r=`/i/connect_people?user_id=${e}`;return o.createElement(u.a,{accessibilityLabel:T,accessibilityRole:"complementary"},o.createElement(U.b,{text:t?L:T}),o.createElement(R.a,{displayMode:O.a.UserCompact,userIds:s.slice(0,3),withItemBorder:!0}),n&&o.createElement(x.a,{link:r,text:N,withBottomRadius:!0,withDarkerInteractiveBackground:i}))}));const C=d.a.fd6473fa,H={element:"user",action:"results"},P={viewType:"who_to_follow"};class D extends o.PureComponent{constructor(...t){super(...t),n()(this,"_renderContent",(()=>{const{recommendations:t,userId:e,withProfileHeaderText:s}=this.props,i=t&&t.map((t=>t.user));return o.createElement(k,{userId:e,userIds:i,withProfileHeaderText:s})})),n()(this,"_handleImpression",(t=>{const{analytics:e}=this.props,s=t&&t.slice(0,3).map((t=>({...h.a.forUser(t.user),suggestion_details:{source_data:t.token}})));e.scribe({...H,data:{items:s}})}))}componentDidMount(){const{recommendations:t}=this.props;this._fetchRecommendations(this.props),t&&t.length>0&&this._handleImpression(t)}componentDidUpdate(t){const{recommendations:e}=this.props;this.props.userId!==t.userId&&this._fetchRecommendations(this.props),e!==t.recommendations&&e&&e.length>0&&this._handleImpression(e)}render(){const{fetchStatus:t,style:e}=this.props;return t===a.a.FAILED||this._hasEmptySuggestionList()?null:o.createElement(u.a,{style:[A.root,e]},o.createElement(c.a,{accessibilityLabel:C,clientEventContext:P,fetchStatus:t,render:this._renderContent}))}_fetchRecommendations(t){const{createLocalApiErrorHandler:e,fetchRecommendationsIfNeeded:s,userId:i,loggedInUserId:n}=t;s({limit:4,displayLocation:g,similarToUserId:i!==n?i:void 0}).catch(e(r.a))}_hasEmptySuggestionList(){const{fetchStatus:t,recommendations:e}=this.props;return t===a.a.LOADED&&0===e.length}}const A=p.a.create((t=>({root:{minHeight:"15rem"}}))),M=I(D);e.default=M},VY6S:function(t,e,s){"use strict";var i=s("BqYg"),n=s.n(i);e.a=(t,e,s)=>n()(t,e,s)},Xs4Y:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s("k49u"),n=s("fs1G");const o={[i.a.ResourceNotFound]:{customAction:n.a}}},fyKl:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return I}));var i=s("97Jx"),n=s.n(i),o=s("KEM+"),r=s.n(o),a=s("ERkP"),c=s("zfvc"),l=s("jHwr"),d=s("VY6S"),h=s("w9LO"),p=s("//dC"),u=s("lHOd"),m=s("Oe3h"),f=s("0FVZ"),_=s("7N4s"),y=s("cHvH"),g=s("rHpw"),b=s("i4Oy"),w=s("shC7"),v=s("MWbm");const E=g.a.create((t=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${t.spaces.space64} * 6)`},anchor:g.a.absoluteFillObject,mask:{...g.a.absoluteFillObject,position:"fixed"},bodyRectHelper:{...g.a.absoluteFillObject,bottom:void 0},content:{borderRadius:t.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:t.colors.navigationBackground,boxShadow:t.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}})));class I extends a.Component{constructor(t,e){super(t,e),r()(this,"_handleAnimateComplete",(()=>{const{onAnimateComplete:t}=this.props;t&&t()})),r()(this,"_handleEsc",(t=>{const{onDismiss:e}=this.props,{altKey:s,ctrlKey:i,metaKey:n,key:o}=t;!(s||i||n)&&"Escape"===o&&e()})),r()(this,"_receiveBodyRectHelperRef",(t=>{t&&this._bodyRectHelperNode!==t&&(this._bodyRectHelperNode=t,this._scheduleUpdate())})),r()(this,"_receiveAnchorRef",(t=>{t&&this._anchorNode!==t&&(this._anchorNode=t,this._scheduleUpdate())})),r()(this,"_receiveContentRef",(t=>{t&&this._contentNode!==t&&(this._contentNode=t,this._scheduleUpdate())})),r()(this,"_updatePosition",(()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const t=this._contentNode.scrollHeight,e=this._contentNode.scrollWidth,{left:s,top:i,width:n}=this._bodyRectHelperNode.getBoundingClientRect(),{width:o,height:r}=b.a.get("window");let a={left:0,top:0,height:0,width:0};this.props.position?a={...a,...this.props.position}:this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(a=this._anchorNode.getBoundingClientRect());const{left:c,top:l,height:d,width:h}=a,p=o-n,u=c-s,m=l-i,f=c+h>=e,_=l+d>=t,y=o-c>=e,g=r-l>=t,v=this.props.preferredVerticalOrientation,E=(t=>w.a.getConstants().isRTL?"left"===t?"right":"left":t)(this.props.preferredHorizontalOrientation),I=this.state.verticalOrientation||(({verticalPreference:t,canOrientUp:e,canOrientDown:s})=>e&&s||!e&&!s?t:e?"up":"down")({verticalPreference:v,canOrientUp:_,canOrientDown:g}),O=this.state.horizontalOrientation||(({horizontalPreference:t,canOrientLeft:e,canOrientRight:s})=>!e||"left"!==t&&s?"right":"left")({horizontalPreference:E,canOrientLeft:f,canOrientRight:y}),R=this.props.isFixed?c:u,S=this.props.isFixed?l:m,U="up"===I?S+d-t:S,x="left"===O?o-R-h-p:o-R-e-p;this.setState({top:Math.max(U,0),right:x,verticalOrientation:I,horizontalOrientation:O})})),this.state=Object.freeze({}),this._scheduleUpdate=Object(l.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(d.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,b.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,b.a.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{children:t,isFixed:e,onDismiss:s,animateInDuration:i,animateType:o,withKeyboardNavigation:r}=this.props,{top:l,right:d,verticalOrientation:b}=this.state,I=void 0===l,O=`calc(100vh - ${l||0}px)`,R=[E.content,I&&E.contentInitialRender,e&&[E.contentFixed,{maxHeight:O}],{top:l,right:w.a.getConstants().isRTL?void 0:d,left:w.a.getConstants().isRTL?d:void 0}];return a.createElement(v.a,{ref:this._receiveAnchorRef,style:E.anchor},a.createElement(f.a.Dropdown,null,a.createElement(u.a.Consumer,null,(e=>a.createElement(_.a.Consumer,null,(({isModal:l})=>a.createElement(p.a,{history:e,isModal:l,onDismiss:s},a.createElement(h.a,{withKeyboardNavigation:r},a.createElement(v.a,{onClick:s,style:E.mask}),a.createElement(v.a,{ref:this._receiveBodyRectHelperRef,style:E.bodyRectHelper}),a.createElement(y.a,null,(({windowWidth:e})=>a.createElement(v.a,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[e<g.a.theme.breakpoints.medium?E.rootNarrow:E.rootWide,R]},I&&"slide"===o?t:a.createElement(c.b,{animateMount:"up"!==b,duration:i,onAnimateComplete:this._handleAnimateComplete,show:!0,type:o},(({isAnimating:e})=>a.createElement(m.a,{id:"Dropdown",minimizeReporting:e},((e,s)=>a.createElement(v.a,n()({ref:e()},s({})),t))))))))))))))))}}r()(I,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0})},hqDb:function(t,e,s){"use strict";var i=s("97Jx"),n=s.n(i),o=s("KEM+"),r=s.n(o),a=(s("kYxP"),s("ERkP")),c=s("k49u"),l=s("rxPX"),d=s("0KEI"),h=s("6xIQ"),p=s("kGix"),u=s("G6rE");const m=(t,e)=>e.userIds,f=(t,e)=>{const{userIds:s}=e;return s.filter((e=>!!u.e.select(t,e)))},_=(t,e)=>{const{userIds:s}=e;return s.reduce(((e,s)=>{const i=u.e.selectFetchStatus(t,s);return e[s]=i===p.a.NONE?p.a.LOADING:i,e}),{})};var y=Object(l.a)().propsFromState((()=>({availableUserIds:Object(h.a)(f,(t=>t)),fetchStatus:Object(h.a)(f,_,m,((t,e,s)=>{let i=p.a.LOADED;for(let n=0;n<s.length;n++){const o=s[n];if(-1===t.indexOf(o)){const t=e[o]||p.a.LOADING;i=i===p.a.LOADED?t:i}if(i===p.a.LOADED)break}return i}))}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.d)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:u.e.fetchManyIfNeeded}))),g=s("v//M"),b=s("3XMw"),w=s.n(b),v=s("pQ3Z"),E=s.n(v),I=s("cFuS"),O=s("Re5t"),R=s("MWbm"),S=s("88ay");const U=({displayMode:t,renderUserCell:e,withFinalItemBorder:s,withItemBorder:i,userIds:n})=>a.createElement(R.a,null,n.map(((o,r)=>{const c=r===n.length-1,l=c&&i&&s||!c&&i;return e?e(o):a.createElement(S.b,{decoration:S.d,displayMode:t,key:o,promotedItemType:I.c.USER,userId:o,withBottomBorder:!!l,withFollowsYou:!0})})));U.defaultProps={displayMode:O.a.UserDetailed,withFinalItemBorder:!0,withItemBorder:!1};var x=U;const T=w.a.f5b426c2,L={viewType:"user_list"};class N extends a.Component{constructor(...t){super(...t),r()(this,"state",{allUsersUnavailable:!1}),r()(this,"_renderContent",(()=>{const{availableUserIds:t,createLocalApiErrorHandler:e,fetchStatus:s,fetchUsersIfNeeded:i,userIds:o,...r}=this.props;return a.createElement(x,n()({},r,{userIds:t}))})),r()(this,"_handleFetch",(()=>{this._fetchUsersIfNeeded()}))}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(t){E()(t.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return a.createElement(g.a,{accessibilityLabel:T,clientEventContext:L,fetchStatus:this.state.allUsersUnavailable?p.a.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{createLocalApiErrorHandler:t,fetchUsersIfNeeded:e,availableUserIds:s,userIds:i}=this.props;e(i).then((()=>{this.setState({allUsersUnavailable:!1})}),t({[c.a.AddressBookLookupNotFound]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}},[c.a.OtherUserSuspended]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}}}))}}const k=y(N);e.a=k},jHwr:function(t,e,s){"use strict";e.a=(t,e)=>{let s=null;const i=()=>{s=null,t()};return()=>(s||(s=e(i)),s)}},lP98:function(t,e,s){"use strict";s.d(e,"c",(function(){return g})),s.d(e,"b",(function(){return b})),s.d(e,"a",(function(){return w}));var i=s("/kEJ"),n=s("oEOe"),o=s("RgK2"),r=s.n(o),a=s("kGix"),c=s("Ssj5");const l="recommendations",d=30,h="rweb/recommendations/FETCH_REQUEST",p="rweb/recommendations/FETCH_SUCCESS",u="rweb/recommendations/FETCH_FAILURE",m={},f=({displayLocation:t,similarToUserId:e})=>t+(e?`_${e}`:"");c.a.register({[l]:function(t=m,e){if(!e.meta)return t;switch(e.type){case h:{const s=f(e.meta);return{...t,[s]:{...t[s],fetchStatus:a.a.LOADING}}}case u:{const s=f(e.meta);return{...t,[s]:{...t[s],fetchStatus:a.a.FAILED}}}case p:{const s=f(e.meta),i=e.payload&&e.payload.entities?e.payload.entities:{recommendations:r.a},n=(e.payload&&e.payload.result?e.payload.result:y).map((t=>i.recommendations[t]));return{...t,[s]:{...t[s],fetchStatus:a.a.LOADED,recommendations:n}}}default:return t}}});const _=[],y=[],g=(t,{displayLocation:e,similarToUserId:s})=>{const i=t.recommendations[f({displayLocation:e,similarToUserId:s})];return i&&i.recommendations?i.recommendations:_},b=(t,{displayLocation:e,similarToUserId:s})=>{const i=t.recommendations[f({displayLocation:e,similarToUserId:s})];return i?i.fetchStatus:a.a.NONE},w=t=>(e,s,o)=>{const c=s(),{displayLocation:l,similarToUserId:m}=t,f=g(c,{displayLocation:l,similarToUserId:m}),_=b(c,{displayLocation:l,similarToUserId:m})===a.a.LOADED;return f&&_?Promise.resolve(r.a):e((t=>(e,s,{api:o})=>{const{displayLocation:r,itsInterests:a,limit:c=d,similarToUserId:l}=t;return Object(n.b)(e,{request:o.Recommendations.fetch,params:{display_location:r,itsInterests:a,limit:c,user_id:l}})({actionTypes:{REQUEST:h,SUCCESS:p,FAILURE:u},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:r,similarToUserId:l}},(t=>{if(t)return[Object(i.c)(t.entities)]}))})(t))}},sAnO:function(t,e,s){"use strict";s.r(e);var i=s("fyKl");e.default=i.default},uo3S:function(t,e,s){"use strict";s.r(e);var i=s("ERkP"),n=(s("kYxP"),s("rxPX")),o=s("VAyw"),r=s("XOJV"),a=s("s1N3");const c=t=>{var e,s;return(null==(e=t.entities)||null==(s=e.user_mentions)?void 0:s.map((t=>t.id_str)))||[]},l=(t,e)=>e.focalTweetId;var d=Object(n.a)().propsFromState((()=>({tweetMap:r.a.selectAll,focalTweetId:l}))).adjustStateProps((({tweetMap:t,focalTweetId:e})=>{const s=e&&t[e];if(!s)return{participantIds:[]};const i=[s.user,...c(s),...(n=s,o.a.mergeTaggedUsers(n.extended_entities&&n.extended_entities.media||[]).map((t=>t.user_id)))];var n;const r=s.quoted_status&&t[s.quoted_status];return r&&(i.push(r.user),i.push(...c(r))),{participantIds:Object(a.a)(i)}})).withAnalytics({component:"in_this_conversation"}),h=s("3XMw"),p=s.n(h),u=s("6vad"),m=s("hqDb"),f=s("MWbm");const _=p.a.j88f27d8,y=({maxCount:t,participantIds:e})=>i.createElement(f.a,{accessibilityLabel:_,accessibilityRole:"complementary"},i.createElement(u.b,{text:_}),i.createElement(m.a,{userIds:e.slice(0,t),withFinalItemBorder:!1,withItemBorder:!0}));y.defaultProps={maxCount:3};var g=y;const b=d((t=>i.createElement(g,{participantIds:t.participantIds})));e.default=b}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.WideLayout.2226fb25.js.map