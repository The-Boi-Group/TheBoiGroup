(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"ll/Q":function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileScreenContainer",(function(){return Er}));var n=r("97Jx"),s=r.n(n),a=r("ERkP"),i=r("P1r1"),o=r("oEGd"),l=r("0KEI"),c=r("hqKg"),d=r("zh9S"),u=r("QK5w"),h=r("RqPI"),m=r("G6rE");const p=(e,t)=>{const{location:r,match:n}=t;return n&&n.params&&n.params.screenName?n.params.screenName:r&&r.query&&r.query.screen_name&&"string"==typeof r.query.screen_name?r.query.screen_name:""},f=(e,t)=>m.e.selectByScreenName(e,p(0,t)),_=Object(m.h)([m.a]),b=Object(c.createSelector)(u.a,i.k,((e,t)=>_(e,p(0,t))),((e,t)=>t.location.pathname.includes("/intent/")),((e,t)=>m.e.selectIsUserNotFound(e,p(0,t))),((e,t)=>{const r=f(e,t);return!!r&&m.e.selectIsLoading(e,r.id_str)}),((e,t)=>m.e.selectIsUserSuspended(e,p(0,t))),((e,t)=>m.e.selectIsUserWithheld(e,p(0,t))),((e,t)=>{const{location:r}=t,{promotedTweetState:n}=r&&r.state||{},s=f(e,t);return n||s&&s.promoted_content}),p,f,((e,t)=>{const r=f(e,t);return r&&r.profile_interstitial_type?r.profile_interstitial_type:null}),h.f,((e,t,r,n,s,a,i,o,l,c,d,u,h)=>({displaySensitiveMedia:t,fetchStatus:r,isInitialScreen:!e,isIntentRoute:n,isNotFound:s,isRefreshing:a,isSuspended:i,isWithheld:o,promotedContent:l,screenName:c,user:d,userProfileInterstitialType:u,userLanguage:h}))),w={createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_SCREEN"),fetchOneUser:m.e.fetchOne,fetchOneByScreenNameWithExtraFieldsIfNeeded:m.e.createFetchOneByScreenNameWithExtraFieldsIfNeeded([m.a,m.b,m.c,m.d]),fetchSettingsIfNeeded:i.e,scribeAction:d.c};var E=Object(o.g)(b,w),g=r("txMZ"),y=r("KEM+"),P=r.n(y),S=(r("kYxP"),r("aeN7")),I=r("s4rk"),C=r("zI2C"),O=r("v6aA"),k=r("6ZtA"),v=r("es0u"),T=r("I/ms"),x=r("TIdA"),F=r("cHvH"),N=r("oSwX"),L=r("rHpw");const U=x.a.createLayoutCache();var B=({user:e,isOwnProfile:t,isWithheld:r})=>{const n=!t&&r,s=n||!e.profile_image_url_https?void 0:e.profile_image_url_https;return a.createElement(F.a,null,(({windowWidth:t})=>a.createElement(N.default,{imageLayoutCache:U,link:n?void 0:{pathname:`/${e.screen_name}/photo`},size:"custom",style:[T.a.avatar,t>=L.a.theme.breakpoints.medium?T.a.wideAvatar:T.a.narrowAvatar],uri:s})))},R=r("RCZO"),A=r("MWbm"),W=r("n4Eu"),D=r("cm6r"),M=r("A91F"),j=r("9Xij");const $=x.a.createLayoutCache();var H=({user:e,isWithheld:t,isOwnProfile:r})=>{const n=!r&&t,s=e.profile_banner_extensions_media_color&&e.profile_banner_extensions_media_color.palette,i=s&&W.a.get(s),o=i?Object(R.g)(i):L.a.theme.colors.gray200;return!n&&e.profile_banner_url?a.createElement(D.a,{accessibilityHidden:!0,link:`/${e.screen_name}/header_photo`},a.createElement(x.a,{accessibilityLabel:"",aspectMode:M.a.exact(L.a.theme.aspectRatios.profileBanner),backgroundColor:o,image:e.profile_banner_url,layoutCache:$})):a.createElement(A.a,{style:T.a.banner},a.createElement(j.a,{ratio:L.a.theme.aspectRatios.profileBanner,style:[{backgroundColor:o}]}))},V=r("3nOA"),q=r("I57f"),z=r("uIZp"),G=r("3XMw"),K=r.n(G),Q=r("SOvA"),Y=r("vYiB"),J=r("Y49K"),X=r("Irs7"),Z=r("/yvb"),ee=r("ACHU"),te=r("rsoE"),re=r("vMjK");const ne=K.a.h63a5c3b,se=a.createElement(ee.a,null);class ae extends a.PureComponent{constructor(...e){super(...e),P()(this,"_renderUserMenu",(e=>{const{promotedContent:t,user:r}=this.props;return a.createElement(re.b,{onClose:e,promotedContent:t,user:r})}))}render(){const{buttonStyle:e,buttonType:t}=this.props;return a.createElement(Z.a,{accessibilityLabel:ne,hoverLabel:{label:ne},icon:se,renderMenu:this._renderUserMenu,style:e,testID:te.a.userActions,type:t})}}P()(ae,"defaultProps",{buttonType:"secondary"});var ie=r("h+EW");const oe=K.a.g7088266,le=K.a.gd7acb84,ce=K.a.b7636014,de=a.createElement(Q.a,null),ue=L.a.create((e=>({buttons:{maxWidth:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap"},button:{marginEnd:e.spaces.space8,marginBottom:e.spaces.space12},lastButton:{marginBottom:e.spaces.space12}})));var he=({isWithheld:e,loggedInUserId:t,onFollowButtonOffscreen:r,promotedContent:n,user:s,history:i})=>{const{featureSwitches:o}=a.useContext(O.a),l=o.getStringValue("responsive_web_better_stateful_buttons_variant"),c=Object(ie.a)(l),d=Object(ie.c)(l),u=Object(X.b)(),h=s.id_str===t,m=s.blocked_by,p=s.blocking,f=e&&!h,_=s.can_dm&&t&&!p&&!m&&!f,b=t&&s&&!h&&!f,w=s.following&&t&&!p&&!m&&!e,E=s.default_profile_image&&!s.description&&!s.profile_banner_url;return a.createElement(A.a,{style:ue.buttons},t&&h?a.createElement(Z.a,{link:E?"/i/flow/setup_profile":"/settings/profile",style:ue.lastButton,type:d},E?le:oe):null,b&&a.createElement(ae,{buttonStyle:ue.button,buttonType:d,promotedContent:n,user:s}),!h&&_&&a.createElement(Z.a,{accessibilityLabel:ce,hoverLabel:{label:ce},icon:de,onPress:()=>{u.scribe({element:"message",action:"click"}),t&&i.push(`/messages/${Object(V.a)(s.id_str,t)}`)},style:ue.button,testID:J.a.sendDMFromProfile,type:d}),!h&&w&&a.createElement(q.a,{activeButtonType:c,allowPromptForPush:!0,inactiveButtonType:d,isFollowing:s.notifications,style:ue.button,userId:s.id_str}),!h&&!m&&!f&&a.createElement(Y.a,{onOffscreenChange:r},a.createElement(z.a,{promotedContent:n,style:ue.lastButton,userId:s.id_str})))},me=r("tOzk"),pe=r("YeIG"),fe=r("Je1/"),_e=r("uLiA"),be=r("EJJl"),we=r("WWyu"),Ee=r("LhSm"),ge=r("t62R"),ye=r("GWvE"),Pe=r("KrGU"),Se=r("I/9y"),Ie=r("YUdS"),Ce=r("EjKN");const Oe=K.a.a1ea2f12,ke=K.a.g8191e77,ve=e=>{const{day:t,month:r}=e;if(!t||!r)return;const n=new Date;return r===n.getMonth()+1&&t===n.getDate()},Te=L.a.create((e=>({description:{display:"block",marginBottom:e.spaces.space12},details:{display:"block",marginBottom:e.spaces.space12},detailsText:{lineHeight:e.spaces.space12}})));var xe=({user:e,isOwnProfile:t})=>{var r,n,s;const i=a.useRef(),o=null==(r=e.entities)||null==(n=r.url)||null==(s=n.urls)?void 0:s[0],l=e.birthdate;return a.createElement(a.Fragment,null,e.description?a.createElement(A.a,{style:Te.description},a.createElement(be.a,{description:e.description,disableTranslation:!e.is_profile_translatable,entities:e.entities,testID:_e.a.userDescription,userId:e.id_str,withheldDescription:e.withheld_description,withheldEntities:e.withheld_entities})):null,a.createElement(A.a,{style:Te.details},a.createElement(ge.c,{style:Te.detailsText,testID:_e.a.profileHeaderItems},e.location&&!Object(ye.a)(e.location)?a.createElement(fe.a,{Icon:Pe.a},a.createElement(ge.c,null,e.location)):null,o&&o.url?a.createElement(fe.a,{Icon:Se.a,link:{pathname:o.url,external:!0}},o.display_url||o.url):null,!l||Object(pe.a)(l)||l.visibility&&"self"===l.visibility.toLowerCase()&&l.year_visibility&&"self"===l.year_visibility.toLowerCase()?null:ve(l)?a.createElement(a.Fragment,null,a.createElement(fe.a,{Icon:Ie.a,onPress:()=>{i.current&&i.current.launch()}},t?Oe:ke),a.createElement(me.a,{setRef:e=>{i.current=e}})):a.createElement(fe.a,{Icon:Ce.a},a.createElement(we.a,{birthdate:l,withBornPrefixText:!0})),a.createElement(Ee.a,{joinDate:e.created_at}))))},Fe=r("mN6z"),Ne=r("W27K"),Le=r("1YZw"),Ue=r("rxPX");var Be=Object(Ue.a)().propsFromActions((()=>({addToast:Le.b,createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_HEADER"),unmute:m.e.unmute}))),Re=r("8Usl"),Ae=r("eb3s"),We=r("P2xQ");const De=K.a.cef4e8cf,Me=K.a.ec294e62,je=K.a.df422dfe,$e=L.a.create((e=>({mute:{marginVertical:e.spaces.space12},unmuteButton:{cursor:"pointer"}})));var He=Be((({user:e,unmute:t,addToast:r,createLocalApiErrorHandler:n})=>{const[s,i]=a.useState(!1),{screen_name:o}=e;return a.createElement(a.Fragment,null,a.createElement(ge.c,{color:"gray600",style:$e.mute},je,"Â ",a.createElement(ge.c,{accessibilityRole:"button",color:"link",onPress:()=>{i(!0)},style:$e.unmuteButton,testID:Re.a.unmuteLink,withInteractiveStyling:!0},We.h)),s?a.createElement(Ae.a,{confirmButtonLabel:We.h,headline:De({screenName:o}),onCancel:()=>{i(!1)},onConfirm:()=>{i(!1),t(e.id_str).then((()=>r({text:Object(We.d)(e.screen_name)})),n({showToast:!0}))},text:Me}):null)})),Ve=r("RgK2"),qe=r.n(Ve),ze=r("A7Fw");const Ge=K.a.e839db39,Ke=K.a.b74bd6c6,Qe=K.a.f15bfdb3,Ye=K.a.i859a9d3,Je=L.a.create((e=>({content:{padding:e.spaces.space20},icon:{color:e.colors.badgeColor,fontSize:e.fontSizes.jumbo},button:{marginTop:e.spaces.space32},text:{marginTop:e.spaces.space12,textAlign:"center"}})));var Xe=({dismiss:e,type:t})=>{const r=Object(X.b)();a.useEffect((()=>{r.scribe({component:"blue_badge_education_context",action:"show"})}),[r]);const n=a.useCallback((()=>{r.scribe({component:"blue_badge_education_context",element:"support_url",action:"click"})}),[r]);return a.createElement(A.a,{style:Je.content},a.createElement(ze.a,{style:Je.icon}),a.createElement(ge.c,{size:"xLarge",style:Je.text,weight:"bold"},Qe),a.createElement(ge.c,{color:"gray600",style:Je.text},Ke," ",a.createElement(ge.c,{link:"https://help.twitter.com/managing-your-account/about-twitter-verified-accounts",onClick:n},Ye)),"sheet"===t?a.createElement(Z.a,{onClick:e,style:Je.button,type:"neutral"},Ge):null)},Ze=r("jV+4"),et=r("ir4X");var tt=({isOwnProfile:e,isWithheld:t,user:r})=>{const{featureSwitches:n}=a.useContext(O.a),i=t?qe.a:{isProtected:!!r.protected,isVerified:!!r.verified,translatorType:r.translator_type},o=r.name&&r.screen_name&&!(t&&!e),l=o?r.name:`@${r.screen_name}`,c=a.useCallback(((e,t)=>a.createElement(Xe,{dismiss:e,type:t})),[]),d=n.isTrue("identity_verification_educational_prompt_enabled");return a.createElement(A.a,{style:T.a.names},a.createElement(Ze.a,s()({},i,{badgeContext:"account",name:l,nameSize:"large",renderVerifiedBadgeContext:d?c:void 0,screenName:o?r.screen_name:void 0,weight:"heavy",withFollowsYou:r.followed_by&&!t,withNameWrap:!0,withStackedLayout:!0})),r.highlightedLabel?a.createElement(et.a,{label:r.highlightedLabel}):null)},rt=r("zb92");var nt=Object(rt.a)({loader:()=>r.e(147).then(r.bind(null,"Gffe"))}),st=r("7JQg"),at=r("7wqI"),it=r("Jkc4"),ot=r("wCd/");var lt=({user:e,isOwnProfile:t})=>{const{followers_count:r,friends_count:n,screen_name:s}=e;return a.createElement(it.a,null,(i=>a.createElement(ot.a,{followersCount:r,friendsCount:n,onPress:i(),screenName:s,withLink:Object(at.b)({isOwnProfile:t,user:e})})))};const ct={page:"profile",section:"header"};class dt extends a.Component{constructor(e,t){super(e,t),P()(this,"_handleRemoveClusterFollow",(()=>{this.setState({shouldShowClusterFollow:!1})})),this.state={shouldShowClusterFollow:!1}}shouldComponentUpdate(e,t){return!Object(Fe.a)(t,this.state)||!Object(Fe.a)(e,this.props)}componentDidUpdate(e){!0===this.props.user.following&&!1===e.user.following&&this.setState({shouldShowClusterFollow:!0}),this.props.user.id_str!==e.user.id_str&&this.setState({shouldShowClusterFollow:!1})}render(){const{isWithheld:e,loggedInUserId:t,user:r}=this.props,n=this._isOwnProfile(),s=!n&&(r.blocking||r.blocked_by||e),i=!n&&(r.blocked_by||e),o=!t||n||r.blocking||r.blocked_by||e||r.protected&&!r.following;return a.createElement(st.b,{namespace:ct},a.createElement(A.a,null,a.createElement(H,{isOwnProfile:n,isWithheld:e,user:r}),a.createElement(A.a,{style:[T.a.content,ut.content,s&&T.a.withheld]},a.createElement(A.a,{style:ut.avatarAndButtons},a.createElement(B,{isOwnProfile:n,isWithheld:e,user:r}),a.createElement(he,{history:this.props.history,isWithheld:e,loggedInUserId:t,onFollowButtonOffscreen:this.props.onFollowButtonOffscreen,promotedContent:this.props.promotedContent,user:r})),a.createElement(tt,{isOwnProfile:n,isWithheld:e,user:r}),s?null:a.createElement(xe,{isOwnProfile:n,user:r}),i?null:a.createElement(lt,{isOwnProfile:n,user:r}),o?null:a.createElement(A.a,{style:ut.marginTopXSmall},a.createElement(Ne.a,{userId:r.id_str,userScreenName:r.screen_name})),r.muting?a.createElement(He,{user:r}):null),this.state.shouldShowClusterFollow?this._renderProfileClusterFollow():null))}_isOwnProfile(){const{loggedInUserId:e,user:{id_str:t}}=this.props;return e===t}_renderProfileClusterFollow(){const{user:e}=this.props;return a.createElement(nt,{onRemoveClusterFollow:this._handleRemoveClusterFollow,userId:e.id_str})}}P()(dt,"contextType",O.a);const ut=L.a.create((e=>({avatarAndButtons:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap"},content:{marginBottom:e.spaces.space16},marginTopXSmall:{marginTop:e.spaces.space12}})));var ht=dt,mt=r("8UdT"),pt=r("dwig"),ft=r("GOQE"),_t=r("kGix"),bt=r("v//M"),wt=r("0+qk"),Et=r("drnk"),gt=(r("9Bb1"),r("iFPY"));var yt=r("oQhu"),Pt=r("AJXH"),St=r("rJoH"),It=r("Y6L+"),Ct=r("jS2K"),Ot=r("IG4P");class kt extends a.Component{shouldComponentUpdate(e){return!Object(Fe.a)(e,this.props)}render(){const{shouldDisplayUserActionSheet:e,fullUser:t}=this.props;return a.createElement(A.a,null,this._renderBanner(),a.createElement(A.a,{style:[T.a.content,T.a.withheld]},a.createElement(A.a,{style:T.a.avatarAndButton},this._renderAvatar(),e&&t&&a.createElement(ae,{buttonStyle:T.a.menuSheetButton,user:t})),this._renderNames()))}_renderAvatar(){const{avatarAccessibilityLabel:e}=this.props;return a.createElement(F.a,null,(({windowWidth:t})=>a.createElement(A.a,{accessibilityState:{hidden:!0},style:[T.a.avatar,t>=L.a.theme.breakpoints.medium?T.a.wideAvatar:T.a.narrowAvatar]},a.createElement(N.default,{accessibilityLabel:e,size:"custom"}))))}_renderBanner(){return a.createElement(A.a,{style:T.a.banner},a.createElement(j.a,{ratio:L.a.theme.aspectRatios.profileBanner}))}_renderNames(){const{fullUser:e,restrictedUser:t}=this.props,r=e||t,n=r.name&&r.screen_name,s=n?r.name:`@${r.screen_name}`;return a.createElement(A.a,{style:T.a.names},a.createElement(Ze.a,{name:s,nameSize:"large",screenName:n?r.screen_name:void 0,withStackedLayout:!0}))}}var vt=r("wytG"),Tt=r("VS6U"),xt=r("ipry");r("E4zi"),r("muX9");var Ft=r("Qayx"),Nt=r("G8HL"),Lt=r("mw9i"),Ut=r("zfvc"),Bt=r("FIs5"),Rt=r("Q0VY"),At=r("FiRh"),Wt=r("0yYu"),Dt=r("k/OQ"),Mt=r("zCf4");const jt=K.a.h1658541,$t=K.a.b5447710,Ht=K.a.fa98627a,Vt=K.a.a2811f96,qt=K.a.c6ea308b,zt=K.a.d67658c0,Gt=K.a.ccc9153f,Kt=K.a.bab1f8b0,Qt=K.a.a52b03a5,Yt=K.a.add55c97,Jt=K.a.d7b8eba9,Xt=K.a.ica87fde,Zt=K.a.e79ed125,er=K.a.g8475f82,tr=K.a.c9a1cb5d,rr=K.a.e7b201dd,nr=K.a.d09e12c4,sr=K.a.gbf342a4,ar=K.a.eeab4adf,ir=K.a.d834ab9c,or={section:"profile_interstitial"},lr=Object(vt.a)((()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"8KtR")))),cr=Object(vt.a)((()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"ivpD")))),dr=Object(vt.a)((()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"ylAD")))),ur="likes",hr="media",mr="with_replies",pr=Object(yt.a)((e=>()=>({defaultText:e})));class fr extends a.Component{constructor(e,t){super(e,t),P()(this,"_renderContainer",(()=>{const{fetchStatus:e,isRefreshing:t,isSuspended:r,screenName:n,isNotFound:s}=this.props,i=r||s;return a.createElement(Ot.a,{isRefreshing:t,onRefresh:this._handlePullToRefresh},a.createElement(A.a,{style:br.containerGrow},a.createElement(Lt.a,null,a.createElement(bt.a,{accessibilityLabel:Gt({screenName:n}),fetchStatus:i?_t.a.LOADED:e,onRequestRetry:this._handleRequestRetry,render:this._renderHeaderAndContent}))))})),P()(this,"_renderHeaderAndContent",(()=>a.createElement(a.Fragment,null,this._renderHeader(),this._renderContent()))),P()(this,"_renderContent",(()=>{const{isSuspended:e,isWithheld:t,user:r,isNotFound:n}=this.props,{showBlockedTweets:s}=this.state,a=this._isViewingOwnProfile();return e?this._renderUserProfileSuspended():n?this._renderUserNotFound():t&&a?this._renderLoggedInUserProfileWithheld():t?this._renderUserProfileWithheld():this._shouldShowProfileInterstitial()?this._renderUserProfileInterstitialed():r&&r.blocked_by?this._renderUserProfileBlockedBy():r&&r.blocking&&!s?this._renderUserProfileBlocking():this._isProtectedFromViewer()?this._renderUserProfileProtected():this._renderUserProfileDefault()})),P()(this,"_isGraphQL",(()=>!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_graphql_profile_timeline"))),P()(this,"_isViewingOwnProfile",(()=>{const{loggedInUserId:e}=this.context,{user:t}=this.props;return t&&e===t.id_str})),P()(this,"_shouldShowProfileInterstitial",((e=this.props.userProfileInterstitialType)=>{const{displaySensitiveMedia:t,user:r}=this.props;if(!r||!e)return!1;const{showBlockedTweets:n,userProfileInterstitialDismissed:s}=this.state,a=r.blocking&&!n,i=r.blocked_by,o=(e===xt.a.SensitiveMedia||e===xt.a.OffensiveProfileContent)&&(r.following||t);return!(this._isViewingOwnProfile()||this._isProtectedFromViewer()||a||i||s||o)})),P()(this,"_isProtectedFromViewer",(()=>{const{user:e}=this.props;return e&&e.protected&&!this._isViewingOwnProfile()&&!e.following})),P()(this,"_handleRequestRetry",(()=>{this._fetchOneUserIfNeeded(this.props)})),P()(this,"_handlePullToRefresh",(()=>{const{user:e}=this.props;e?this._fetchOneUser(e.id_str):this._fetchOneUserIfNeeded(this.props)})),P()(this,"_handleShowBlockedTweets",(()=>{this.setState({showBlockedTweets:!0})})),P()(this,"_handleOnConfirmProfileInterstitial",(()=>{const{scribeAction:e,scribeNamespace:t}=this.props;this.setState({userProfileInterstitialDismissed:!0}),e({...t,...or,action:"click"})})),P()(this,"_handleEntriesUpdate",(({entries:e,fetchStatus:t})=>{const{recordTTFL:r}=this.props;if(t===_t.a.FAILED&&(this._shouldRecordTTFL=!1),this._shouldRecordTTFL&&e.length){const t=e.some((({type:e})=>e===mt.b.Tweet));this._shouldRecordTTFL=!1;const n={source:this._isGraphQL()?"graphql":"rest"};t&&r("profile",n)}})),P()(this,"_handleFollowButtonOffscreen",(({isOffscreen:e})=>{this.setState({showFollowButtonRightControl:e})})),this._shouldRecordTTFL=e.isInitialScreen,this._shouldRecordTTFMC=e.isInitialScreen,this.state={userProfileInterstitialDismissed:!1,showBlockedTweets:!1,showFollowButtonRightControl:!1}}UNSAFE_componentWillMount(){const{createLocalApiErrorHandler:e,fetchSettingsIfNeeded:t,scribeAction:r,scribeNamespace:n}=this.props;this._fetchOneUserIfNeeded(this.props),t().catch(e()).then((()=>{this._shouldShowProfileInterstitial()&&r({...n,...or,action:"impression"})}))}componentDidUpdate(e){const{fetchStatus:t,recordTTFMC:r}=this.props;if(e.fetchStatus!==t&&t===_t.a.FAILED)this._shouldRecordTTFMC=!1;else if(this._shouldRecordTTFMC&&e.fetchStatus!==t&&t===_t.a.LOADED&&this._isValidProfile()){r("profile",{source:this._isGraphQL()?"graphql":"rest"}),this._shouldRecordTTFMC=!1}e.user&&!e.user.blocking&&this.props.user&&this.props.user.blocking&&(window.scrollTo(0,0),this.setState({showBlockedTweets:!1}))}UNSAFE_componentWillReceiveProps(e){const{screenName:t,scribeAction:r,scribeNamespace:n,userProfileInterstitialType:s}=this.props;e.screenName!==t?(this._fetchOneUserIfNeeded(e),this.setState({userProfileInterstitialDismissed:!1})):!s&&this._shouldShowProfileInterstitial(e.userProfileInterstitialType)&&r({...n,...or,action:"impression"})}render(){const{loggedInUserId:e}=this.context,{fetchStatus:t,history:r,isSuspended:n,location:s,screenName:i,user:o,isIntentRoute:l,isNotFound:c,isWithheld:d,userLanguage:u}=this.props,h=this._isViewingOwnProfile(),m=n||c||d&&!h,p=o?qt({screenName:o.screen_name,fullName:o.name}):void 0,f=h?"":`@${o&&o.screen_name||i||""} `,_=m?null:a.createElement(wt.a,{getLocationState:pr(f),history:r}),b=o&&!m?a.createElement(Ze.a,{isProtected:o.protected,isVerified:o.verified,name:o.name,screenName:o.screen_name,weight:"heavy",withScreenName:!1}):Ht,w=o&&!m&&t===_t.a.LOADED?this._renderSubtitle(o):void 0,E=o&&`twitter://user?screen_name=${o.screen_name}`,g=o&&`https://twitter.com/${o.screen_name||""}`,y=o&&zt({fullName:o.name,screenName:o.screen_name});return a.createElement(Tt.a,{backLocation:"/",composeOptions:{defaultText:f},documentTitle:p,history:r,primaryContent:a.createElement(pt.a,{fab:_},a.createElement(St.a,{canonical:g,description:null==o?void 0:o.description,image:null==o?void 0:o.profile_image_url_https,title:y,type:"profile"}),null,a.createElement(C.a,{deepLink:E}),a.createElement(k.a,{featureSwitches:this.context.featureSwitches,loggedInUserId:e,pageType:"profile",userLanguage:u}),g?a.createElement(I.a,{canonical:g}):null,a.createElement(bt.a,{accessibilityLabel:Gt({screenName:i}),fetchStatus:o||m?_t.a.LOADED:t,onRequestRetry:this._handleRequestRetry,render:this._renderContainer}),l?a.createElement(gt.a,{history:r,location:s,userId:null==o?void 0:o.id_str}):null),rightControl:this._renderRightControl(),sidebarContent:this._renderSidebarContent(),subtitle:w,title:b})}_renderRightControl(){const{promotedContent:e,user:t}=this.props,{showFollowButtonRightControl:r}=this.state;return t&&!this._isViewingOwnProfile()?a.createElement(Ut.b,{animateMount:!0,show:r,type:"fade"},a.createElement(z.a,{promotedContent:e,userId:t.id_str})):void 0}_renderSubtitle(e){const{location:t}=this.props,r=t.pathname.toLowerCase(),n=e.screen_name.toLowerCase();return r.indexOf(`/${n}/${ur}`)>-1?a.createElement(Ft.a,{count:e.favourites_count,type:"likes"}):r.indexOf(`/${n}/${hr}`)>-1?a.createElement(Ft.a,{count:e.media_count,type:"media"}):a.createElement(Ft.a,{count:e.statuses_count,type:"tweets"})}_renderSidebarContent(){const{user:e}=this.props;return e?a.createElement(Ct.a,{hideMediaModule:this._shouldHideMediaModule(),userId:e.id_str,withTopicsToFollow:Object(at.b)({user:e,isOwnProfile:this._isViewingOwnProfile()||!1})}):a.createElement(v.a,null)}_renderHeader(){const{loggedInUserId:e}=this.context,{isNotFound:t,isSuspended:r,isWithheld:n,history:s,promotedContent:a,screenName:i,profileHeaderRenderer:o,restrictedProfileHeaderRenderer:l,user:c}=this.props,d=this._shouldShowProfileInterstitial();if(!this._isViewingOwnProfile()&&(r||t||d)){const{name:e}=c||{};return l({shouldDisplayUserActionSheet:!r&&!t,avatarAccessibilityLabel:t?$t:r?jt:e,fullUser:c,restrictedUser:{name:e,screen_name:i||""}})}return c?o({history:s,loggedInUserId:e,isWithheld:n,onFollowButtonOffscreen:this._handleFollowButtonOffscreen,promotedContent:a,user:c}):null}_renderEmptyState({header:e,message:t,buttonText:r,onButtonPress:n}){return a.createElement(a.Fragment,null,a.createElement(Pt.a,null),a.createElement(Bt.a,{buttonText:r,buttonType:"secondary",header:e,message:t,onButtonPress:n,style:wr.root}))}_renderUserProfileInterstitialed(){const{userProfileInterstitialType:e}=this.props,{header:t,message:r}=Object(Et.a)(e);return this._renderEmptyState({header:t,message:r,buttonText:ir,onButtonPress:this._handleOnConfirmProfileInterstitial})}_renderUserProfileBlocking(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=Zt({screenName:t}),n=a.createElement(K.a.I18NFormatMessage,{$i18n:"e645092a",screenName:t},a.createElement(ge.c,{link:"https://support.twitter.com/articles/117063"},K.a.f6a72a2a));return this._renderEmptyState({header:r,message:n,buttonText:ar,onButtonPress:this._handleShowBlockedTweets})}_renderUserProfileBlockedBy(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(K.a.I18NFormatMessage,{$i18n:"ccade2e6",screenName:t},a.createElement(ge.c,{link:"https://support.twitter.com/articles/20172060"},K.a.de078c23));return this._renderEmptyState({header:Xt,message:r})}_renderUserProfileSuspended(){const e=a.createElement(K.a.I18NFormatMessage,{$i18n:"f6fa2033"},a.createElement(ge.c,{link:"https://support.twitter.com/articles/18311"},K.a.f3b1bdc1));return this._renderEmptyState({header:er,message:e})}_renderUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:n}=e;if(!r)return null;const s=Rt.a.descriptionTextParts(r,n),i=a.createElement(ge.c,{align:"center",color:"gray600",dir:"auto"},s.map(((e,r)=>a.createElement(At.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e}))));return this._renderEmptyState({header:sr,message:i})}_renderLoggedInUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:n}=e;if(!r)return null;const s=Rt.a.descriptionTextParts(r,n);return a.createElement(A.a,null,a.createElement(A.a,{style:br.withheldMessageRoot},a.createElement(ge.c,{align:"center",size:"xLarge",style:br.withheldMessageHeader,weight:"bold"},sr),a.createElement(ge.c,{align:"center",color:"gray600",dir:"auto"},s.map(((e,r)=>a.createElement(At.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e}))))),a.createElement(Wt.a,null),this._renderUserProfileDefault())}_renderUserProfileProtected(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(K.a.I18NFormatMessage,{$i18n:"c97724c2",screenName:t},a.createElement(ge.c,{link:"https://support.twitter.com/articles/14016"},K.a.a58c8a4e));return this._renderEmptyState({header:nr,message:r})}_renderUserNotFound(){return this._renderEmptyState({header:tr,message:rr})}_renderUserProfileDefault(){const{user:e,history:{location:t}}=this.props;if(!e)return null;const{screen_name:r}=e,{showBlockedTweets:n}=this.state,i=t.query,o=e=>[{isActive:()=>t.pathname.toLowerCase()===`/${r}`.toLowerCase()||t.pathname.toLowerCase()===`/${r}/`.toLowerCase()||t.pathname.indexOf("/intent/follow")>-1||t.pathname.indexOf("/intent/user")>-1,to:{pathname:`/${r}`,query:i},label:Kt},{to:{pathname:`/${r}/${mr}`,query:i},label:Qt},{to:{pathname:`/${r}/${hr}`,query:i},label:Yt,onClick:e()},{to:{pathname:`/${r}/${ur}`,query:i},label:Jt,onClick:e()}],l={displayBlocked:n,fullName:e.name,screenName:e.screen_name,userId:e.id_str};return a.createElement(a.Fragment,null,a.createElement(it.a,null,(e=>a.createElement(Dt.a,{accessibilityLabel:Vt,links:o(e)}))),a.createElement(Mt.d,null,a.createElement(Mt.b,{exact:!0,path:"/intent/follow"},a.createElement(lr,l)),a.createElement(Mt.b,{exact:!0,path:"/intent/user"},a.createElement(lr,l)),a.createElement(Mt.b,{exact:!0,path:`/${It.C}`},a.createElement(lr,s()({},l,{onEntriesUpdate:this._handleEntriesUpdate}))),a.createElement(Mt.b,{exact:!0,path:`/${It.C}/${mr}`},a.createElement(lr,s()({},l,{withReplies:!0}))),a.createElement(Mt.b,{exact:!0,path:`/${It.C}/${hr}`},a.createElement(dr,l)),a.createElement(Mt.b,{exact:!0,path:`/${It.C}/${ur}`},a.createElement(cr,l))))}_fetchOneUserIfNeeded(e){const{createLocalApiErrorHandler:t,fetchOneByScreenNameWithExtraFieldsIfNeeded:r,screenName:n}=e;n&&r(n).catch(t(ft.a))}_fetchOneUser(e){const{createLocalApiErrorHandler:t,fetchOneUser:r}=this.props;return r(e).catch(t(ft.a))}_shouldHideMediaModule(){const{user:e}=this.props;return this._shouldShowProfileInterstitial()||this._isProtectedFromViewer()||e&&(e.blocked_by||e.blocking&&!this.state.showBlockedTweets)}_isValidProfile(){const{isNotFound:e,isSuspended:t,isWithheld:r,user:n}=this.props;return n&&!n.blocking&&!n.blocked_by&&!this._isViewingOwnProfile()&&!this._isProtectedFromViewer()&&!t&&!e&&!r&&!this._shouldShowProfileInterstitial()}}P()(fr,"contextType",O.a),P()(fr,"defaultProps",{profileHeaderRenderer:e=>a.createElement(ht,e),restrictedProfileHeaderRenderer:e=>a.createElement(kt,e),recordTTFL:S.c,recordTTFMC:S.d});var _r=Object(Nt.a)(fr);const br=L.a.create((e=>({containerGrow:{flexGrow:1},rightControlContainer:{flexDirection:"row",flexGrow:1},interstitialedProfile:{height:"100%",position:"fixed",width:"100%",filter:"blur(10px)"},withheldMessageRoot:{paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space16},withheldMessageHeader:{paddingBottom:e.spaces.space4}}))),wr=L.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderTopWidth:1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor,paddingVertical:e.spaces.space40,paddingHorizontal:e.spaces.space20}}))),Er=e=>a.createElement(g.a,{userId:e.user&&e.user.id_str},(({scribeNamespace:t})=>a.createElement(_r,s()({},e,{scribeNamespace:t}))));t.default=E(Er)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserProfile.84b84b85.js.map